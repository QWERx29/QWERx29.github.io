<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>图的存储</title>
    <link href="/posts/95ff2ef2.html"/>
    <url>/posts/95ff2ef2.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>邻接矩阵用一个 <span class="math inline">\(n\times n\)</span>的矩阵来存储一张图。</p><p>矩阵的 <span class="math inline">\((i,j)\)</span> 位置存储 <spanclass="math inline">\(i\)</span> 到 <spanclass="math inline">\(j\)</span> 的边的信息:</p><ul><li>对于一张边不带权的图，只需用 <span class="math inline">\(1\)</span>和 <span class="math inline">\(0\)</span> 表示这条边是否存在；</li><li>当边有边权时，可以用 <span class="math inline">\(+\infty\)</span>表示一条边不存在，当边存在时即在邻接矩阵的相应位置记录下边权。</li></ul><p>这样空间开销是 <span class="math inline">\(\mathcal{O}(n^2)\)</span>的，所以我们可以用 个 <code>vector</code> (动态大小的数组)来存下矩阵的每一行，而每加入一条有向边 <span class="math inline">\(i\rightarrow j\)</span> ，我们在第 <span class="math inline">\(i\)</span>个 <code>vector</code> 中加入 <span class="math inline">\(j\)</span>这个数，空间降至 <span class="math inline">\(\mathcal{O}(m)\)</span>。</p><h3 id="无权图的存储">无权图的存储</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp">vector&lt;<span class="hljs-type">int</span>&gt; e[N];<br><span class="hljs-comment">// 加入 u → v 无权有向边</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> v)</span> </span>&#123;<br>    e[u].<span class="hljs-built_in">push_back</span>(v);<br>&#125;<br><span class="hljs-comment">// 加入 u → v 无权无向边</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> v)</span></span>&#123;<br>    e[u].<span class="hljs-built_in">push_back</span>(v), e[v].<span class="hljs-built_in">push_back</span>(u);<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// 链式前向星</span><br><span class="hljs-type">int</span> cnt, hd[N];<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">edge</span> &#123; <span class="hljs-type">int</span> nx,to; &#125; e[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> v)</span> </span>&#123; e[++cnt] = &#123;hd[u], v&#125;, hd[u]=cnt; &#125;<br><span class="hljs-comment">// 调用两次加入无向边</span><br></code></pre></td></tr></table></figure><h3 id="有权图的存储">有权图的存储</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">edge</span> &#123; <span class="hljs-type">int</span> to, w; &#125;; <span class="hljs-comment">//可以用 pair&lt;int, int&gt; 替代</span><br>vector&lt;edge&gt; e[N];<br><span class="hljs-comment">// 加入一条 u → v 的权值为 w 的有向边，无向边同理</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> v, <span class="hljs-type">int</span> w)</span> </span>&#123;<br>    e[u].<span class="hljs-built_in">push_back</span>((edge)&#123;v, w&#125;);<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// 链式前向星</span><br><span class="hljs-type">int</span> cnt, hd[N];<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">edge</span> &#123; <span class="hljs-type">int</span> nx,to,val; &#125; e[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> v, <span class="hljs-type">int</span> w)</span> </span>&#123; e[++cnt] = &#123;hd[u], v, w&#125;, hd[u]=cnt; &#125;<br></code></pre></td></tr></table></figure><p>实际问题中有权图应用较多，因为我们的答案往往和边的长度 (即边权)有关。</p>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>图论</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DP优化</title>
    <link href="/posts/ea457c7e.html"/>
    <url>/posts/ea457c7e.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="数据结构优化">数据结构优化</h2><h3 id="树状数组">树状数组</h3><ul><li>最长上升子序列</li><li>二维偏序问题</li></ul><h3 id="单调栈">单调栈</h3><p>栈在OI中最常见的高级应用是维护一系列具有某种单调性的元素，这种栈称作<strong>单调栈</strong>。</p><h4 id="插入">插入</h4><p>将一个元素插入单调栈时，为了维护栈的单调性，需要在保证将该元素插入到栈顶后整个栈满足单调性的前提下弹出最少的元素。</p><p>例如，栈中自顶向下的元素为 <spanclass="math inline">\(\{0,11,45,81\}\)</span> 。</p><p>插入元素 <span class="math inline">\(14\)</span>时为了保证单调性需要依次弹出元素 <spanclass="math inline">\(0,11\)</span> ，操作后栈变为 <spanclass="math inline">\(\{14,45,81\}\)</span> 。</p><p>用伪代码描述如下：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">insert x<br>while !sta.empty() &amp;&amp; sta.top()&lt;x<br>    sta.pop()<br>sta.push(x)<br></code></pre></td></tr></table></figure><h4 id="使用">使用</h4><p>自然就是从栈顶读出来一个元素，该元素满足单调性的某一端。</p><p>例如举例中取出的即栈中的最小值。</p><h4 id="应用">应用</h4><p>除基础应用外，单调栈也可以用于离线解决 RMQ 问题。</p><p>我们可以把所有询问按右端点排序，然后每次在序列上从左往右扫描到当前询问的右端点处，并把扫描到的元素插入到单调栈中。这样，每次回答询问时，单调栈中存储的值都是位置<span class="math inline">\(\le r\)</span>的、可能成为答案的决策点，并且这些元素满足单调性质。此时，单调栈上第一个位置<span class="math inline">\(\ge l\)</span>的元素就是当前询问的答案，这个过程可以用二分查找实现。使用单调栈解决 RMQ问题的时间复杂度为 <span class="math inline">\(\mathcal O (q\log q+q\logn)\)</span> ，空间复杂度为 <spanclass="math inline">\(\mathcal{O}(n)\)</span> 。</p><h3 id="单调队列">单调队列</h3><p>队列也可以简单地支持弹出队尾操作；如果再加上压入队首操作，就会得到<strong>双端队列</strong>（double-endedqueue）。</p><p>队列在BFS、SPFA、拓扑排序等算法中有广泛应用；与单调栈类似，队列也能被用于维护一系列具有某种单调性的元素，这种队列称作<strong>单调队列</strong>，而单调队列可以用来优化DP。</p><p>单调队列的两种常见应用：</p><ol type="1"><li>（滑动窗口模型）求解一系列随着右端点增大，左端点不降的区间中的最大、最小元素；</li><li>（双指针模型）求解一个序列的符合某些不等式限制的最长连续子区间。</li></ol><h4 id="单调队列优化dp">单调队列优化DP</h4><p>多重背包问题、某些线性DP问题的转移方程可以转化为求一些区间的最大值的问题。如果随着区间右端点增大，左端点不降，那么就可以直接使用单调队列进行优化，将<span class="math inline">\(\mathcal{O}(n)\)</span>级别的单次转移复杂度优化为均摊 <spanclass="math inline">\(\mathcal{O}(1)\)</span> 。</p><blockquote><p><ahref="https://oi-wiki.org/dp/opt/monotonous-queue-stack/">单调队列/单调栈优化DP-OIwiki</a></p></blockquote><h2 id="斜率优化">斜率优化</h2><p>与单调队列的题目相比，斜率优化的题目其实更明显一些。其标志性特征是<strong>平方型</strong>贡献/代价。</p><blockquote><p><a href="https://oi-wiki.org/dp/opt/slope/">斜率优化-OI-wiki</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>动态规划</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>状压DP</title>
    <link href="/posts/f36e10f6.html"/>
    <url>/posts/f36e10f6.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="二进制-与-位运算">二进制 与 位运算</h2><p>位运算就是基于整数的二进制表示进行的运算。由于计算机内部就是以二进制来存储数据，位运算是相当快的。</p><p>基本的位运算共 <span class="math inline">\(6\)</span>种，分别为按位与、按位或、按位异或、按位取反、左移和右移。为了方便叙述，下文中省略“按位”。</p><h3 id="关于优先级">关于优先级</h3><p>位运算的优先级低于算术运算符（除了取反），而按位与、按位或及异或低于比较运算符（详见<a href="https://oi-wiki.org/lang/op/">运算页面</a>），所以使用时需多加注意，在必要时添加括号。</p><h3 id="位运算的应用">位运算的应用</h3><p>位运算一般有三种作用：</p><ol type="1"><li>高效地进行某些运算，代替其它低效的方式。</li><li>表示集合。（常用于 <strong>状压DP</strong>）</li><li>题目本来就要求进行位运算。</li></ol><p>需要注意的是，用位运算代替其它运算方式（即第一种应用）在很多时候并不能带来太大的优化，反而会使代码变得复杂，使用时需要斟酌。（但像“乘2 的非负整数次幂”和“除以 2的非负整数次幂”就最好使用位运算，因为此时使用位运算可以优化复杂度。）</p><h3 id="的幂的应用">2 的幂的应用</h3><p>由于位运算针对的是变量的二进制位，因此可以推广出许多与 2的整数次幂有关的应用。</p><p>将一个数乘（除） 2 的非负整数次幂：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">mulPowerOfTwo</span><span class="hljs-params">(<span class="hljs-type">int</span> n, <span class="hljs-type">int</span> m)</span> </span>&#123; <span class="hljs-keyword">return</span> n &lt;&lt; m; &#125; <span class="hljs-comment">// 计算 n*(2^m)</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">divPowerOfTwo</span><span class="hljs-params">(<span class="hljs-type">int</span> n, <span class="hljs-type">int</span> m)</span> </span>&#123; <span class="hljs-keyword">return</span> n &gt;&gt; m; &#125; <span class="hljs-comment">// 计算 n/(2^m)</span><br></code></pre></td></tr></table></figure><blockquote><p><font color="FF0000">注意</font></p><p>我们平常写的除法是向 <span class="math inline">\(0\)</span>取整，而这里的右移是向下取整（注意这里的区别），即当数大于等于 <spanclass="math inline">\(0\)</span> 时两种方法等价，当数小于<spanclass="math inline">\(0\)</span> 时会有区别，如： <code>-1 / 2</code>的值为 <span class="math inline">\(0\)</span> ，而<code>-1 &gt;&gt; 1</code> 的值为 <spanclass="math inline">\(-1\)</span> 。</p></blockquote><p>判断一个数是不是 <span class="math inline">\(2\)</span>的非负整数次幂：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isPowerOfTwo</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123; <span class="hljs-keyword">return</span> n &gt; <span class="hljs-number">0</span> &amp;&amp; (n &amp; (n - <span class="hljs-number">1</span>)) == <span class="hljs-number">0</span>; &#125;<br></code></pre></td></tr></table></figure><p>对 <span class="math inline">\(2\)</span> 的非负整数次幂取模：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">modPowerOfTwo</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> mod)</span> </span>&#123; <span class="hljs-keyword">return</span> x &amp; (mod - <span class="hljs-number">1</span>); &#125;<br></code></pre></td></tr></table></figure><h4 id="交换两数">交换两数</h4><blockquote><p>这种方式只能用来交换两个整数，使用范围有限。</p><p>对于一般情况下的交换操作，推荐直接调用 <code>algorithm</code> 库中的<code>std::swap</code> 函数。</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(<span class="hljs-type">int</span> &amp;a, <span class="hljs-type">int</span> &amp;b)</span> </span>&#123; a ^= b ^= a ^= b; &#125;     <span class="hljs-comment">//过于玄妙</span><br></code></pre></td></tr></table></figure><h4 id="操作二进制位">操作二进制位</h4><p>获取一个数二进制的某一位：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//获取 a 的第 b 位，最低位编号为 0</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getBit</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123; <span class="hljs-keyword">return</span> (a &gt;&gt; b) &amp; <span class="hljs-number">1</span>; &#125;     <br></code></pre></td></tr></table></figure><p>将一个数二进制的某一位设置为 <span class="math inline">\(0\)</span>：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//将 a 的第 b 位设置为 0 ，最低位编号为 0</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">unsetBit</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123; <span class="hljs-keyword">return</span> a &amp; ~(<span class="hljs-number">1</span> &lt;&lt; b); &#125;<br></code></pre></td></tr></table></figure><p>将一个数二进制的某一位设置为 <span class="math inline">\(1\)</span>：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//将 a 的第 b 位设置为 1 ，最低位编号为 0</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">setBit</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123; <span class="hljs-keyword">return</span> a | (<span class="hljs-number">1</span> &lt;&lt; b); &#125;<br></code></pre></td></tr></table></figure><p>将一个数二进制的某一位取反：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//将 a 的第 b 位取反 ，最低位编号为 0</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">flapBit</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123; <span class="hljs-keyword">return</span> a ^ (<span class="hljs-number">1</span> &lt;&lt; b); &#125;<br></code></pre></td></tr></table></figure><p>这些操作相当于将一个 <span class="math inline">\(32\)</span>位整型变量当作一个长度为 <span class="math inline">\(32\)</span>的布尔数组。</p><p>在此基础上，可以手写实现 <code>bitset</code>。</p><h4 id="模拟集合操作">模拟集合操作</h4><p>一个数的二进制表示可以看作是一个集合（ <spanclass="math inline">\(0\)</span> 表示不在集合中，<spanclass="math inline">\(1\)</span> 表示在集合中）。比如集合 <spanclass="math inline">\(\{1,3,4,8\}\)</span> ，可以表示成 <spanclass="math inline">\((100011010)_2\)</span>。而对应的位运算也就可以看作是对集合进行的操作。</p><table><thead><tr class="header"><th>操作</th><th>集合表示</th><th>位运算语句</th></tr></thead><tbody><tr class="odd"><td>交集</td><td><span class="math inline">\(a \cap b\)</span></td><td><code>a &amp; b</code></td></tr><tr class="even"><td>并集</td><td><span class="math inline">\(a \cup b\)</span></td><td><code>a | b</code></td></tr><tr class="odd"><td>补集</td><td><span class="math inline">\(\bar{a}\)</span></td><td><code>~ a</code>（全集为二进制都是 1）</td></tr><tr class="even"><td>差集</td><td><span class="math inline">\(a \setminus b\)</span></td><td><code>a &amp; (~ b)</code></td></tr><tr class="odd"><td>对称集</td><td><span class="math inline">\(a\triangle b\)</span></td><td><code>a ^ b</code></td></tr></tbody></table><p>子集遍历：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// 遍历 u 的非空子集</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> s = u; s; s = (s - <span class="hljs-number">1</span>) &amp; u) &#123;<br>  <span class="hljs-comment">// s 是 u 的一个非空子集</span><br>&#125;<br></code></pre></td></tr></table></figure><p>用这种方法可以在 <spanclass="math inline">\(\mathcal{O}(2^{\operatorname{popcount}(u)})\)</span>（ <span class="math inline">\(\operatorname{popcount}(u)\)</span> 表示<span class="math inline">\(u\)</span> 二进制中 <spanclass="math inline">\(1\)</span> 的个数）的时间复杂度内遍历 <spanclass="math inline">\(u\)</span> 的子集，进而可以在 <spanclass="math inline">\(\mathcal{O}(3^n)\)</span> 的时间复杂度内遍历大小为<span class="math inline">\(n\)</span>的集合的每个子集的子集。（复杂度为 <spanclass="math inline">\(\mathcal{O}(3^n)\)</span> 是因为每个元素都有不在大子集中/只在大子集中/同时在大小子集中 三种状态。）</p><h3 id="内建函数">内建函数</h3><p>GCC 中还有一些用于位运算的内建函数：</p><ol type="1"><li><code>int __builtin_ffs(int x)</code> ：返回 <spanclass="math inline">\(x\)</span> 的二进制末尾最后一个 <spanclass="math inline">\(1\)</span> 的位置，位置的编号从 <spanclass="math inline">\(1\)</span> 开始（最低位编号为 <spanclass="math inline">\(1\)</span> ）。当 <spanclass="math inline">\(x\)</span> 为 <spanclass="math inline">\(0\)</span> 时返回 <spanclass="math inline">\(0\)</span> 。</li><li><code>int __builtin_clz(unsigned int x)</code> ：返回 <spanclass="math inline">\(x\)</span> 的二进制的前导 <spanclass="math inline">\(0\)</span> 的个数。当 <spanclass="math inline">\(x\)</span> 为 <spanclass="math inline">\(0\)</span> 时，结果未定义。</li><li><code>int __builtin_ctz(unsigned int x)</code> ：返回 <spanclass="math inline">\(x\)</span> 的二进制末尾连续 <spanclass="math inline">\(0\)</span> 的个数。当 <spanclass="math inline">\(x\)</span> 为 <spanclass="math inline">\(0\)</span> 时，结果未定义。</li><li><code>int __builtin_clrsb(int x)</code> ：当 <spanclass="math inline">\(x\)</span> 的符号位为 <spanclass="math inline">\(0\)</span> 时返回 <spanclass="math inline">\(x\)</span> 的二进制的前导 <spanclass="math inline">\(0\)</span> 的个数减一，否则返回 <spanclass="math inline">\(x\)</span> 的二进制的前导 <spanclass="math inline">\(1\)</span> 的个数减一。</li><li><code>int __builtin_popcount(unsigned int x)</code> ：返回 <spanclass="math inline">\(x\)</span> 的二进制中 <spanclass="math inline">\(1\)</span> 的个数。</li><li><code>int __builtin_parity(unsigned int x)</code> ：判断 <spanclass="math inline">\(x\)</span> 的二进制中 <spanclass="math inline">\(1\)</span> 的个数的奇偶性。</li></ol><p>这些函数都可以在函数名末尾添加 <code>l</code> 或 <code>ll</code> （如<code>__builtin_popcountll</code> ）来使参数类型变为 (<code>unsigned</code> ) <code>long</code> 或 ( <code>unsigned</code> )<code>long long</code> （返回值仍然是 <code>int</code> 类型）。例如，我们有时候希望求出一个数以二为底的对数，如果不考虑 <code>0</code>的特殊情况，就相当于这个数二进制的位数 <code>-1</code> ，而一个数<code>n</code> 的二进制表示的位数可以使用<code>32-__builtin_clz(n)</code> 表示，因此<code>31-__builtin_clz(n)</code> 就可以求出 <code>n</code>以二为底的对数。</p><p>由于这些函数是内建函数，经过了编译器的高度优化，运行速度十分快（有些甚至只需要一条指令）。</p><h2 id="状压dp">状压DP</h2><p>状态压缩动态规划，简称状压DP。</p><h3 id="状态压缩">状态压缩</h3><p>当状态维数 <span class="math inline">\(n\)</span> 很多但每一维状态数<span class="math inline">\(k\)</span> 都很少（一般是 <spanclass="math inline">\(2\)</span> ）的时候，我们可以用一个 <spanclass="math inline">\(n\)</span> 位 <spanclass="math inline">\(k\)</span> 进制整数来表示这 <spanclass="math inline">\(n\)</span> 维状态。</p><h3 id="从-mathcalon-到-mathcal-o2n">从 <spanclass="math inline">\(\mathcal{O}(n!)\)</span> 到 <spanclass="math inline">\(\mathcal O(2^n)\)</span></h3><p>状压DP是最接近暴力的一种DP，因为它可以完整地记录每一种状态。</p><p>但它又比 <span class="math inline">\(\mathcal O(n!)\)</span>的纯暴力搜索要优一些，因为它舍弃了状态的更新<strong>顺序</strong>的记录。</p><p>所以很多情况下，状压DP就是将 <span class="math inline">\(\mathcalO(n!)\)</span> 的暴力优化到 <span class="math inline">\(\mathcalO(2^n)\)</span> 的另一个暴力的过程。</p><h3 id="子集枚举">子集枚举</h3><p>上面算法的瓶颈在于枚举 <span class="math inline">\(S\)</span> 的子集<span class="math inline">\(T\)</span> 仍然需要 <spanclass="math inline">\(\mathcal O(2^n)\)</span>的复杂度，但其实多数情况下 <span class="math inline">\(S\)</span>的子集数是远远小于 <span class="math inline">\(2^n\)</span> 的。</p><p>我们只需把</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> T = <span class="hljs-number">1</span>; T &lt;= S; ++T) <span class="hljs-keyword">if</span>((S &amp; T) == T)<br></code></pre></td></tr></table></figure><p>改为</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> T = S; T; T = (T - <span class="hljs-number">1</span>) &amp; S)<br></code></pre></td></tr></table></figure><p>即可使得 <span class="math inline">\(T\)</span> 仅枚举到 <spanclass="math inline">\(S\)</span> 的所有非空子集。</p><p>因为 <span class="math inline">\(S\)</span> 取遍所有子集，所以枚举的<span class="math inline">\(T\)</span> 共有 <spanclass="math inline">\(\sum_{i=0}^n\dbinom{n}{i}2^i=3^n\)</span> 个。</p><h3 id="合理运用小范围数据">合理运用小范围数据</h3><p>状压DP中 <span class="math inline">\(2^n\)</span>的复杂度使得题目中的某些数据范围也会很小（一般在 <spanclass="math inline">\(25\)</span> 以下）。当遇到 <spanclass="math inline">\(25\)</span> 以下的数据范围时一定要敏感。</p>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>动态规划</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>树形DP</title>
    <link href="/posts/9ba26914.html"/>
    <url>/posts/9ba26914.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>树形DP，<del>顾名思义就是在树上的DP。</del></p><h3 id="树上最大独立集问题">树上最大独立集问题</h3><p>经典树形DP</p><h3 id="有依赖性的背包问题">有依赖性的背包问题</h3><p>依赖性背包的基本模型是：</p><p><span class="math inline">\(n\)</span> 个物品，第 <spanclass="math inline">\(i\)</span> 个物品价值 <spanclass="math inline">\(v_i\)</span> 重量 <spanclass="math inline">\(w_i\)</span> ，最多依赖一种物品 <spanclass="math inline">\(f_i\)</span> ，即装 <spanclass="math inline">\(i\)</span> 必须装 <spanclass="math inline">\(f_i\)</span> 。背包承重为 <spanclass="math inline">\(m\)</span> ，求最大价值。</p><p>我们将所有依赖关系连边之后就形成一张<strong>图</strong>。</p><p>如果没有“循环依赖”关系（即 <span class="math inline">\(A\)</span>依赖 <span class="math inline">\(B\)</span> ，<spanclass="math inline">\(B\)</span> 依赖 <spanclass="math inline">\(C\)</span> ，<spanclass="math inline">\(C\)</span> 依赖 <spanclass="math inline">\(A\)</span>），这些依赖关系就形成若干棵<strong>外向树</strong>。</p><p>建立虚点 <span class="math inline">\(0\)</span> ，价值和重量均为<span class="math inline">\(0\)</span> ，并将所有没有依赖的物品都与<span class="math inline">\(0\)</span> 连边，则转化为一棵外向树。</p><p>因此转化为如下问题：</p><p>给一棵 <span class="math inline">\(n+1\)</span>个点的树，每个点有权值 <span class="math inline">\(v_i,w_i\)</span>，选择若干点使 <span class="math inline">\(v_i\)</span> 之和最大且 <spanclass="math inline">\(w_i\)</span> 之和不超过 <spanclass="math inline">\(m\)</span> 。选择子节点必须选择父节点。</p><p>设 <span class="math inline">\(f(u,i)=\)</span> 在 <spanclass="math inline">\(u\)</span> 的子树中装满 <spanclass="math inline">\(i\)</span> 的重量可得最大的价值，则 <spanclass="math display">\[f(u,i)=v_u+\max\{\sum_v{f(v,j_v)}|v∈son(u),\sum_v j_v==i-w_u\}\]</span> 当 <span class="math inline">\(v\)</span>的DP值已经算出时，上面的方程其实就是<strong>合并若干个背包</strong>，这与合并两个背包本质相同。</p><p>即初始 <span class="math inline">\(f(u,0)=0,f(u,i)=-\infty\)</span>，枚举 <span class="math inline">\(u\)</span> 的儿子 <spanclass="math inline">\(v\)</span> ，枚举重量更新 <spanclass="math display">\[f(u,i)=\max\{f(u,i-j)+f(v,j)|0\leq j\leq i\}\]</span> 枚举完 的所有儿子后，再把 <spanclass="math inline">\(u\)</span> <strong>强制</strong>选入背包中即可。即<span class="math display">\[\begin{aligned}f(u,i)&amp;=f(u,i-w_u)+v_u,i\geq w_u\\f(u,i)&amp;=-\infty,0&lt;i&lt;w_u\\f(u,0)&amp;=0\end{aligned}\]</span> 目标状态就是 <span class="math inline">\(max\{f(0,i)\mid0\lei\le m\}\)</span></p><p>状态 <span class="math inline">\(\mathcal{O}(nm)\)</span> ，转移<span class="math inline">\(\mathcal{O}(m)\)</span> ，总复杂度 <spanclass="math inline">\(\mathcal{O}(nm^2)\)</span> 。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dp</span><span class="hljs-params">(<span class="hljs-type">int</span> u)</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> v:e[u])&#123;<br>        <span class="hljs-built_in">dp</span>(v);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=m-w[u];i&gt;=<span class="hljs-number">0</span>;--i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;=i;++j)<br>                f[u][i]=<span class="hljs-built_in">max</span>(f[u][i],f[u][j]+f[v][i-j]);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=m;i&gt;=w[u];--i)<br>        f[u][i]=f[u][i-w[u]]+v[u];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;w[u];++i)f[u][i]=<span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="基环树上的dp">基环树上的DP</h3><p>基环树，<del>就是一个树上有一个环</del> 就是有 <spanclass="math inline">\(n\)</span> 个点和 <spanclass="math inline">\(n\)</span> 条边的无向连通图。</p><p>基环树上有且仅有一个环。将环上任意一条边断掉后，就变成一棵树。</p><p><strong>每个点只和一个点连边所形成的无向图一定是一片基环树森林</strong>。</p><h3 id="有向无环图上的dp">有向无环图上的DP</h3><p>因为有向无环图有拓扑序，所以我们按拓扑序转移即可保证无后效性。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)<span class="hljs-keyword">if</span>(!d[i])q.<span class="hljs-built_in">push</span>(i);<br><span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>())&#123;<br>    <span class="hljs-type">int</span> u=q.<span class="hljs-built_in">front</span>();<br>    q.<span class="hljs-built_in">pop</span>();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> v:e[u])&#123;<br>        <span class="hljs-comment">//转移</span><br>        <span class="hljs-keyword">if</span>(!--d[v])q.<span class="hljs-built_in">push</span>(v);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>DAG上的DP可以 <span class="math inline">\(\mathcal{O}(n+m)\)</span>解决<strong>DAG上最短/最长路，最短路计数</strong>等基本问题。</p>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>动态规划</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>区间DP</title>
    <link href="/posts/fc008311.html"/>
    <url>/posts/fc008311.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>区间DP用于解决决策涉及到<strong>相邻区间合并</strong>的问题。</p><p>区间DP是线性动态规划的扩展，它在分阶段地划分问题时，与阶段中元素出现的顺序和由前一阶段的哪些元素合并而来有很大的关系。令状态<span class="math inline">\(f(i,j)\)</span> 表示将下标位置 <spanclass="math inline">\(i\)</span> 到 <spanclass="math inline">\(j\)</span>的所有元素合并能获得的价值的最大值，那么 <spanclass="math inline">\(f(i,j)=\max\{f(i,k)+f(k+1,j)+cost\}\)</span>，<span class="math inline">\(cost\)</span>为将这两组元素合并起来的代价。</p><p>区间 DP 的特点：</p><p><strong>合并</strong>：即将两个或多个部分进行整合，当然也可以反过来；</p><p><strong>特征</strong>：能将问题分解为能两两合并的形式；</p><p><strong>求解</strong>：对整个问题设最优值，枚举合并点，将问题分解为左右两个部分，最后合并两个部分的最优值得到原问题的最优值。</p><p>它的转移方向是由小区间向大区间转移，所以在转移的时候，要注意转移顺序。</p><p>如果画图会发现它是从对角线开始向左下方转移的。</p><p>区间DP的数据范围一般都比较小。因为它的状态是 <spanclass="math inline">\(\mathcal{O}(n^2)\)</span> ，转移一般也要 <spanclass="math inline">\(\mathcal O(n)\)</span> 以上。</p>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>动态规划</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>背包DP</title>
    <link href="/posts/8b07b387.html"/>
    <url>/posts/8b07b387.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="背包">01背包</h3><p>有 <span class="math inline">\(n\)</span>种物品，每种物品只有一个。第 <span class="math inline">\(i\)</span>个物品重量为 <span class="math inline">\(w_i\)</span> ，价值为 <spanclass="math inline">\(v_i\)</span> ，在选取物品重量不超过 <spanclass="math inline">\(m\)</span> 的条件下使价值最大。</p><p>设 <span class="math inline">\(f(i,j)=\)</span> 前 <spanclass="math inline">\(i\)</span> 个物品，重量为 <spanclass="math inline">\(j\)</span> 的最大价值：</p><p>时间复杂度为 <span class="math inline">\(\mathcal{O}(nm)\)</span>。</p><p>将第二重循环改为逆序，可优化掉 <span class="math inline">\(i\)</span>这一维。设 <span class="math inline">\(j\)</span> 重量不超过的最大价值，则</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=m;j&gt;=w[i];--j)<br>        f[j]=<span class="hljs-built_in">max</span>(f[j],f[j-w[i]]+v[i]);<br></code></pre></td></tr></table></figure><p>即空间复杂度为 <span class="math inline">\(\mathcal{O}(nm)\)</span>。</p><p>注：</p><ul><li><p>如果要 <span class="math inline">\(f(j)=\)</span> 重量恰好为<span class="math inline">\(j\)</span> 的最大价值，在DP前将 <spanclass="math inline">\(f\)</span> 数组初始化为 <spanclass="math inline">\(\infty\)</span> 即可。</p></li><li><p>如果有重量为负值（显然此时要求的是重量恰好为 <spanclass="math inline">\(j\)</span> 的最大价值），循环顺序要改为正序，且<span class="math inline">\(f\)</span>的下标统一加一个足够大的数以保证全为正数！</p></li></ul><h3 id="完全背包">完全背包</h3><p>有 <span class="math inline">\(n\)</span>个物品，每种物品都有无穷多个。第 <span class="math inline">\(i\)</span>个物品重量为 <span class="math inline">\(w_i\)</span> ，价值为 <spanclass="math inline">\(v_i\)</span> ，在选取物品重量不超过 <spanclass="math inline">\(m\)</span> 的条件下使价值最大。</p><p>设 <span class="math inline">\(f(i,j)=\)</span> 前 <spanclass="math inline">\(i\)</span> 个物品，重量为 <spanclass="math inline">\(j\)</span> 的最大价值：</p><p>不难发现 <span class="math inline">\(i\)</span>这一维可以直接省略。</p><p>01背包和完全背包的转移仅第二重循环顺序不同。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=w[i];j&lt;=m;++j)<br>        f[j]=<span class="hljs-built_in">max</span>(f[j],f[j-w[i]]+v[i]);<br></code></pre></td></tr></table></figure><p>复杂度 <span class="math inline">\(\mathcal{O}(nm)\)</span> 和 <spanclass="math inline">\(\mathcal{O}(m)\)</span> 。</p><h3 id="多重背包">多重背包</h3><p>有 <span class="math inline">\(n\)</span> 个物品，第 <spanclass="math inline">\(i\)</span> 种物品重量为 <spanclass="math inline">\(w_i\)</span> ，价值为 <spanclass="math inline">\(v_i\)</span> ，有 <spanclass="math inline">\(c_i\)</span> 个，在选取物品重量不超过 <spanclass="math inline">\(m\)</span> 的条件下使价值最大。</p><p>设 <span class="math inline">\(f(i,j)=\)</span> 前 <spanclass="math inline">\(i\)</span> 个物品，重量为 <spanclass="math inline">\(j\)</span> 的价值：</p><p>同样可以将第二重循环改为逆序，优化掉 <spanclass="math inline">\(i\)</span> 这一维。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=m;j&gt;=<span class="hljs-number">0</span>;--j)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k=<span class="hljs-number">0</span>;k&lt;=s[i]&amp;&amp;j&gt;=k*w[i];++k)<br>            f[j]=<span class="hljs-built_in">max</span>(f[j],f[j-k*w[i]]+k*v[i]);<br></code></pre></td></tr></table></figure><p>直接做时间复杂度为 <spanclass="math inline">\(\mathcal{O}(nmk)\)</span> ，效率过低。</p><h4 id="二进制拆分">二进制拆分</h4><p>将 <span class="math inline">\(c_i\)</span> 拆为 <spanclass="math inline">\(1,2,2^2,\cdots ,2^{k-1},c_i-2^k+1\)</span> ，其中<span class="math inline">\(2^k-1\leq c_i\leq 2^{k+1}-1\)</span>。把它们当成 <span class="math inline">\(k+1\)</span> 个不同物品。</p><p>不难发现这些数相加可以组成 <span class="math inline">\(0\)</span> 到<span class="math inline">\(c_i\)</span> 的每个数，且不能组成大于 <spanclass="math inline">\(c_i\)</span> 的数。</p><p>因此用这 <span class="math inline">\(k+1\)</span> 个重量为 <spanclass="math inline">\(w_i,2w_i,2^2w_i,\cdots\)</span> ，价值为 <spanclass="math inline">\(v_i,2v_i,2^2v_i,\cdots\)</span>的物品各<strong>一个</strong>即可代替这 <spanclass="math inline">\(c_i\)</span> 个物品。</p><p>于是问题转化为01背包。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)&#123;<br>    <span class="hljs-type">int</span> l=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>&lt;&lt;l&lt;=c[i]+<span class="hljs-number">1</span>)++l;<br>    --l;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k=<span class="hljs-number">0</span>;k&lt;l;++k)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> w=a[i]&lt;&lt;k,r=b[i]&lt;&lt;k,j=u;j&gt;=w;--j)<br>                f[j]=<span class="hljs-built_in">max</span>(f[j],f[j-w]+r);<br>    <span class="hljs-type">int</span> re=c[i]-(<span class="hljs-number">1</span>&lt;&lt;l)+<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(re&gt;<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> w=a[i]*re,r=b[i]*re,j=u;j&gt;=w;--j)<br>            f[j]=<span class="hljs-built_in">max</span>(f[j],f[j-w]+r);<br>&#125;<br></code></pre></td></tr></table></figure><p>因为每个物品被拆分为 <span class="math inline">\(\mathcal{O}(\logk)\)</span> 个，所以时间复杂度为 <spanclass="math inline">\(\mathcal{O}(nm\log k)\)</span> 。</p><h3 id="混合背包">混合背包</h3><p>01、完全、多重三合一。</p><p>01背包当 <span class="math inline">\(c_i=1\)</span> ，完全背包当<span class="math inline">\(c_i=m\)</span> 即可。</p><h3 id="多限制背包">多限制背包</h3><p>物品有更多属性，对每种属性都有限制。</p><p>把所有限制都加到状态里即可。</p><h3 id="分组背包">分组背包</h3><p>某些物品是一组的，不可同时选择。</p><p>同组物品同时更新即可。</p><h3 id="背包方案计数">背包方案计数</h3><p>把所有的取 <span class="math inline">\(\max\)</span>都改成求和即可。</p><p>注意：多重背包不能用二进制拆分优化了，因为<strong>同样的数量拆分方式不唯一</strong>。</p><h3 id="依赖性背包">依赖性背包</h3><p>依赖关系只有一层：把每个“主件”当做一个背包，然后将各背包合并（也是树形背包的基本思路）。</p><p>无循环依赖（树形背包）：树形DP。</p><p>有循环依赖：tarjan缩点+树形DP。</p>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>动态规划</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>线性DP</title>
    <link href="/posts/ea2a560b.html"/>
    <url>/posts/ea2a560b.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="dp基本思想">DP基本思想</h2><h3 id="废话"><del>《废话》</del></h3><p>能用动态规划解决的问题，需要满足三个条件：<strong>最优子结构</strong>，<strong>无后效性</strong>和<strong>子问题重叠</strong>。</p><h4 id="最优子结构">最优子结构</h4><p>具有最优子结构也可能是适合用贪心的方法求解。</p><p>注意要确保我们考察了最优解中用到的所有子问题。</p><ol type="1"><li>证明问题最优解的第一个组成部分是做出一个选择；</li><li>对于一个给定问题，在其可能的第一步选择中，你界定已经知道哪种选择才会得到最优解。你现在并不关心这种选择具体是如何得到的，只是假定已经知道了这种选择；</li><li>给定可获得的最优解的选择后，确定这次选择会产生哪些子问题，以及如何最好地刻画子问题空间；</li><li>证明作为构成原问题最优解的组成部分，每个子问题的解就是它本身的最优解。方法是反证法，考虑加入某个子问题的解不是其自身的最优解，那么就可以从原问题的解中用该子问题的最优解替换掉当前的非最优解，从而得到原问题的一个更优的解，从而与原问题最优解的假设矛盾。</li></ol><p>要保持子问题空间尽量简单，只在必要时扩展。</p><p>最优子结构的不同体现在两个方面：</p><ol type="1"><li>原问题的最优解中涉及多少个子问题；</li><li>确定最优解使用哪些子问题时，需要考察多少种选择。</li></ol><p>子问题图中每个定点对应一个子问题，而需要考察的选择对应关联至子问题顶点的边。</p><h4 id="无后效性">无后效性</h4><p>已经求解的子问题，不会再受到后续决策的影响。</p><h4 id="子问题重叠">子问题重叠</h4><p>如果有大量的重叠子问题，我们可以用空间将这些子问题的解存储下来，避免重复求解相同的子问题，从而提升效率。</p><h4 id="基本思路">基本思路</h4><p>对于一个能用动态规划解决的问题，一般采用如下思路解决：</p><ol type="1"><li>将原问题划分为若干<strong>阶段</strong>，每个阶段对应若干个子问题，提取这些子问题的特征（称之为<strong>状态</strong>）；</li><li>寻找每一个状态的可能<strong>决策</strong>，或者说是各状态间的相互转移方式（用数学的语言描述就是<strong>状态转移方程</strong>）。</li><li>按顺序求解每一个阶段的问题。</li></ol><p>如果用图论的思想理解，我们建立一个有向无环图，每个状态对应图上一个节点，决策对应节点间的连边。这样问题就转变为了一个在DAG 上寻找最长（短）路的问题。</p><h3 id="概述">概述</h3><p>动态规划可以看做在<strong>最优化问题</strong>和<strong>计数问题</strong>中对暴力搜索的优化。</p><p>在暴力搜索中，我们要枚举<strong>每一步</strong>决策，枚举所有的方案。</p><p>但在多数问题中，暴力搜索其实会做大量重复工作，重复计算大量中间结果。</p><p>动态规划就是把这些中间结果用DP数组记录下来，以便后续利用。</p><p>最基本的状态和转移方程的设计比较容易，在NOIP题目中一般占 <spanclass="math inline">\(30-60\)</span> 分。</p><p>最基本的方程的设计并没有特别的技巧。一般来说，</p><ul><li>动态规划问题的“三大要素”：<strong>状态</strong>、<strong>转移</strong>、<strong>边界</strong>。</li><li>题目中给的条件都可以加入状态中，题目要求最优化的值就是DP值。</li><li>转移方程往往根据最后一步决策来设计。</li></ul><h3 id="三大要素">三大要素</h3><p>动态规划问题的“三大要素”：<strong>状态</strong>、<strong>转移</strong>、<strong>边界</strong>。</p><h4 id="状态">状态</h4><p>状态的设计是DP程序设计的基础，它直接影响程序的空间复杂度，同时也是时间复杂度的重要影响因素。</p><p>从状态的角度出发，DP的优化思路包括：</p><ul><li>消除冗余状态（避免不必要的计算）</li><li>合并同类状态（降低状态数）</li><li>滚动记录状态（降低空间复杂度）</li></ul><h4 id="转移">转移</h4><p>状态转移是动态规划的核心，转移方程的设计直接决定了程序的正确性，同时也是时间复杂度的本质来源。</p><p>从转移的角度出发，DP的优化思路包括：</p><ul><li>排除无效转移（在最优化等问题中，基于已有信息，提前排除一些不可能成为最优解的转移）</li><li>数据结构加速转移（区间取 <span class="math inline">\(\max\)</span>、<span class="math inline">\(\text{sum}\)</span>等计算都可以用合适的数据结构优化）</li></ul><h4 id="边界">边界</h4><p>边界条件也是动态规划中不可或缺的一部分，正确处理边界条件才能保证DP过程正确启动。</p><hr /><center><b>进入正题</b></center><hr /><h2 id="线性dp">线性DP</h2><p>线性DP就是<strong>状态均沿一个方向转移</strong>的DP。</p><p>例如最基本的模型——数字三角形和最长上升子序列都属于线性DP。</p><p>下面是线性DP的一些优化方法。</p><h3 id="减少多余状态">减少多余状态</h3><ul><li>找到不同维度之间的等式关系</li><li>滚动数组</li></ul><h3 id="改变状态设计">改变状态设计</h3>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>动态规划</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>随机图片API汇总</title>
    <link href="/posts/6f280c1a.html"/>
    <url>/posts/6f280c1a.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><ol type="1"><li><ahref="https://api.ixiaowai.cn/api/api.php">https://api.ixiaowai.cn/api/api.php</a></li><li><ahref="https://api.ixiaowai.cn/mcapi/mcapi.php">https://api.ixiaowai.cn/mcapi/mcapi.php</a></li><li><ahref="https://img.paulzzh.tech/touhou/random">https://img.paulzzh.tech/touhou/random</a></li><li><a href="https://api.lyiqk.cn/acg">https://api.lyiqk.cn/acg</a></li><li><ahref="https://api.lyiqk.cn/miku">https://api.lyiqk.cn/miku</a></li><li><ahref="https://api.dujin.org/pic/ghibli">https://api.dujin.org/pic/ghibli</a></li><li><ahref="https://api.dujin.org/pic/">https://api.dujin.org/pic/</a></li><li><ahref="https://tuapi.eees.cc/api.php?category=dongman">https://tuapi.eees.cc/api.php?category=dongman</a></li><li><a href="https://img.r10086.com/">https://img.r10086.com/</a></li><li><a href="https://api.ixiaowai.cn/">https://api.ixiaowai.cn/</a></li><li><ahref="https://api.paugram.com/wallpaper/">https://api.paugram.com/wallpaper/</a></li><li><a href="https://api.mtyqx.cn/">https://api.mtyqx.cn/</a></li><li><ahref="https://api.yimian.xyz/img?type=moe&amp;size=1920x1080">https://api.yimian.xyz/img?type=moe&amp;size=1920x1080</a></li><li><ahref="https://img.paulzzh.tech/touhou/random">https://img.paulzzh.tech/touhou/random</a></li><li><ahref="https://api.likepoems.com/">https://api.likepoems.com/</a></li><li><ahref="https://api.vvhan.com/api/acgimg">https://api.vvhan.com/api/acgimg</a></li><li><ahref="https://img.xjh.me/random_img.php">https://img.xjh.me/random_img.php</a></li><li><ahref="https://api.ghser.com/random/api.php">https://api.ghser.com/random/api.php</a></li><li><ahref="https://cdn.seovx.com/d/?mom=302">https://cdn.seovx.com/d/?mom=302</a></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>资源</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>初等数论</title>
    <link href="/posts/584d80c2.html"/>
    <url>/posts/584d80c2.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="整环mathbbz上的数论">整环<spanclass="math inline">\(\mathbb{Z}\)</span>上的数论</h2><h3 id="整除关系">整除关系</h3><p>若存在 <span class="math inline">\(d\)</span> 使得 <spanclass="math inline">\(y=dx\)</span> ，则称 <spanclass="math inline">\(x\)</span> <strong>整除</strong> <spanclass="math inline">\(y\)</span> ，记作 <spanclass="math inline">\(x\mid y\)</span> 。</p><p>若 <span class="math inline">\(x\mid y\)</span> ，则称 <spanclass="math inline">\(x\)</span> 是 <spanclass="math inline">\(y\)</span>的<strong>约数</strong>（<strong>因数</strong>），<spanclass="math inline">\(y\)</span> 是 <spanclass="math inline">\(x\)</span> 的<strong>倍数</strong>。</p><h3 id="素数与合数">素数与合数</h3><p>若 <span class="math inline">\(p&gt;1\)</span> 且只有 <spanclass="math inline">\(1\)</span> 和自身两个约数，则称 <spanclass="math inline">\(p\)</span>是<strong>质数</strong>（<strong>素数</strong>）。</p><p>若 <span class="math inline">\(x&gt;1\)</span> 且有超过两个约数，则称<span class="math inline">\(x\)</span> 是<strong>合数</strong>。</p><p><span class="math inline">\(0,1\)</span> 不是质数也不是合数。</p><h3 id="唯一分解定理算术基本定理">唯一分解定理/算术基本定理</h3><p>任意一个数 <span class="math inline">\(x\)</span>均可分解为若干质数幂次的乘积。即 <span class="math display">\[x=\prod_{i=1}^mp_i^{c_i}\]</span> 其中 <span class="math inline">\(p_1,p_2,\cdots,p_m\)</span>是不同的质数，<spanclass="math inline">\(c_1,c_2,\cdots,c_m\ge1\)</span> 。</p><h4 id="约数个数sigma_0n-和-约数和-sigma_1n">约数个数<spanclass="math inline">\(\sigma_0(n)\)</span> 和 约数和 <spanclass="math inline">\(\sigma_1(n)\)</span></h4><p>若 <span class="math inline">\(n=\prod_{i=1}^kp_i^{c_i}\)</span>，则考虑 <span class="math inline">\(n\)</span> 的约数的唯一分解，每个<span class="math inline">\(p_i\)</span> 的幂次都 <spanclass="math inline">\(\le c_i\)</span> ，因此由乘法原理可得 <spanclass="math display">\[\begin{aligned}\sigma_0(n)&amp;=\prod_{i=1}^k\left(c_i+1\right)\\\sigma_1(n)&amp;=\prod_{i=1}^k\left(1+p_i+p_i^2+\cdots+p_i^{c_i}\right)=\prod_{i=1}^k\dfrac{p_i^{c_i+1}-1}{p_i-1}\end{aligned}\]</span> 因此我们对 <span class="math inline">\(n\)</span>分解质因数后，即可直接得到 <span class="math inline">\(n\)</span>的约数个数、约数和。</p><p>当 <span class="math inline">\(n\)</span> 很大，而 <spanclass="math inline">\(n\)</span>的质因数分解已知时，上述两个公式可以快速求得 <spanclass="math inline">\(n\)</span> 的约数个数 、约数和。</p><h3 id="质数的判定-与-质因数分解">质数的判定 与 质因数分解</h3><h4 id="对单个数">对单个数</h4><p>若 <span class="math inline">\(n\)</span> 为合数，则它至少具有一个<span class="math inline">\(\le\sqrt{n}\)</span> 的因数，据此可以 <spanclass="math inline">\(\mathcal{O}(\sqrt{n})\)</span>判定单个数是否为质数：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">prime</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i * i &lt;= n; ++i) <span class="hljs-keyword">if</span>(!(n % i)) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>以上过程也可以用来<strong>分解质因数</strong>或<strong>枚举所有因数</strong>：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i * i &lt;= n; ++i) <span class="hljs-keyword">if</span>(!(n % i)) &#123;<br>    <span class="hljs-keyword">while</span>(!(n % i)) n /= i, ++cnt;<br>    <span class="hljs-comment">// do something for (i, cnt)</span><br>&#125;<br><span class="hljs-keyword">if</span>(n &gt; <span class="hljs-number">1</span>) <span class="hljs-comment">// do something for (n, 1)</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>更高效的做法</strong></p><p>更高效的质数判定方法：<ahref="https://oi-wiki.org/math/number-theory/meissel-lehmer/">Miller_rabin</a>二次探测法（复杂度 <spanclass="math inline">\(\mathcal{O}(\log^2n)\)</span> ）；</p><p>更高效的质因数分解：<ahref="https://oi-wiki.org/math/number-theory/pollard-rho">Pollard_rho</a>算法（复杂度 <span class="math inline">\(\mathcal{O}(n^{\frac14})\)</span> ）。</p></blockquote><p>如果希望批量判断 <span class="math inline">\(1\sim n\)</span>中所有数是否为质数，逐个判断并不是一种很好的方法，因为这样做没有充分利用整数间的整除关系。</p><h4 id="对区间中所有数">对区间中所有数</h4><h5 id="eratosthenes-筛法">Eratosthenes 筛法</h5><p>把 <span class="math inline">\(1\sim n\)</span>所有数列出来，然后：</p><ul><li>划掉除 <span class="math inline">\(2\)</span> 外所有被 <spanclass="math inline">\(2\)</span> 整除的数字；</li><li>划掉除 <span class="math inline">\(3\)</span> 外所有被 <spanclass="math inline">\(3\)</span> 整除的数字；</li><li>划掉除 <span class="math inline">\(5\)</span> 外所有被 <spanclass="math inline">\(5\)</span> 整除的数字；</li><li><span class="math inline">\(\cdots\cdots\)</span></li><li>划到 <span class="math inline">\(\sqrt n\)</span>为止，剩下的就都是质数了。</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">bool</span> np[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">sieve</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i * i &lt;= n; ++i) <span class="hljs-keyword">if</span>(!np[i])<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = i * i; j &lt;= n; j += i) np[j] = <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>注意其中几个细节：</p><ul><li><span class="math inline">\(i\)</span> 只需要枚举到 <spanclass="math inline">\(\sqrt n\)</span></li><li><span class="math inline">\(j\)</span> 从 <spanclass="math inline">\(i^2\)</span> 开始枚举</li></ul><p>该方法的复杂度为 <span class="math inline">\(\mathcal{O}(n\log\logn)\)</span> ，可以看做 <span class="math inline">\(n\)</span>乘一个常数。</p><blockquote><p><strong>复杂度证明</strong></p><p>依赖 Mertens 第二定理，参见 <ahref="https://oi-wiki.org/math/number-theory/sieve/">OI-Wiki</a></p></blockquote><h5 id="枚举倍数">枚举倍数</h5><h5 id="区间筛法">区间筛法</h5><p>“从中间筛”</p><p>我们用小于 <span class="math inline">\(\sqrt R\)</span>的所有质数去筛 <span class="math inline">\(L\)</span> 到 <spanclass="math inline">\(R\)</span> 的数，如果整除则标记为合数。</p><p>复杂度为 <span class="math inline">\(\mathcal{O}(n\logn)\)</span></p><h5 id="euler-筛法">Euler 筛法</h5><p>与 Eratosthenes 筛法不同，Euler筛法是严格线性的筛法，在接下来将要介绍的“积性函数”的计算中被广泛使用。</p><p>埃氏筛的思路是先枚举质数 <span class="math inline">\(p\)</span>，再枚举另一个约数 ，将所有 <span class="math inline">\(i\timesp\)</span> 都标记为合数。</p><p>欧拉筛则相反，先枚举另一个约数 <span class="math inline">\(i\)</span>，再枚举质数 <span class="math inline">\(p\)</span> 。只不过我们强制这个<span class="math inline">\(p\)</span> 是 <spanclass="math inline">\(i\times p\)</span> 的最小质因数。</p><p>当 <span class="math inline">\(p\)</span> 枚举到 <spanclass="math inline">\(i\)</span> 的质因数时，<spanclass="math inline">\(p\)</span> 就不再是 <spanclass="math inline">\(i\times p\)</span> 的最小质因数了，也就可以<code>break</code> 了。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">bool</span> np[N];<br><span class="hljs-type">int</span> pri[N], cnt = <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">sieve</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i) &#123;<br>        <span class="hljs-keyword">if</span>(!np[i]) pri[++cnt] = i;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= cnt; ++j) &#123;<br>            np[i * pri[j]] = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(!(i % pri[j])) <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>因为每个数只会被筛一次，所以复杂度为 <spanclass="math inline">\(\mathcal O(n)\)</span> 。</p><blockquote><p><strong>更高效的做法</strong></p><p>如果只要求质数个数，还有时间复杂度低于线性的筛法 <ahref="https://oi-wiki.org/math/number-theory/zhou/">洲阁筛</a> / <ahref="https://oi-wiki.org/math/number-theory/min-25/">Min_25筛</a>（<span class="math inline">\(\mathcal{O}(\dfrac{n^{\frac34}}{\log n})\)</span>）</p></blockquote><h3 id="最大公约数-和-最小公倍数">最大公约数 和 最小公倍数</h3><p>若 <span class="math inline">\(d\mid x,d\mid y\)</span>同时成立，则称 <span class="math inline">\(d\)</span> 是 <spanclass="math inline">\(x,y\)</span>的<strong>公约数</strong>。<strong>最大公约数</strong>记为 <spanclass="math inline">\(\gcd(a,b)\)</span> 或 <spanclass="math inline">\((a,b)\)</span> 。</p><p>若 <span class="math inline">\(x\mid m,y\mid m\)</span>同时成立，则称 <span class="math inline">\(m\)</span> 是 <spanclass="math inline">\(x,y\)</span>的<strong>公倍数</strong>。<strong>最小公倍数</strong>记为 <spanclass="math inline">\(\text {lcm}(a,b)\)</span> 或 <spanclass="math inline">\([a,b]\)</span> 。</p><p>若 <span class="math inline">\(\gcd(a,b)=1\)</span> ，则称 <spanclass="math inline">\(a,b\)</span><strong>互素</strong>（<strong>互质</strong>，<strong>既约</strong>）。</p><h4 id="辗转相除法求-gcd">辗转相除法求 <spanclass="math inline">\(\gcd\)</span></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<span class="hljs-keyword">return</span> y ? <span class="hljs-built_in">gcd</span>(y, x % y) : x; &#125;<br></code></pre></td></tr></table></figure><h4 id="gcd-和-textlcm-的唯一分解"><spanclass="math inline">\(\gcd\)</span> 和 <spanclass="math inline">\(\text{lcm}\)</span> 的唯一分解</h4><p>根据定义，若 <spanclass="math inline">\(x=\prod_{i=1}^kp_i^{c_i},y=\prod_{i=1}^kp_i^{d_i}\)</span>，其中 <span class="math inline">\(p_1,\cdots,p_k\)</span>是不同的质数，<span class="math inline">\(c_i,d_i\ge0\)</span> ，则<span class="math display">\[\begin{aligned}\gcd(x,y)&amp;=\prod_{i=1}^kp_i^{\min(c_i,d_i)}\\\text{lcm}(x,y)&amp;=\prod_{i=1}^kp_i^{\max(c_i,d_i)}\end{aligned}\]</span> 上面两个式子在 <span class="math inline">\(x,y\)</span>很大而唯一分解已知的时候可用。</p><p>又因为 <span class="math inline">\(\min(a,b)+\max(a,b)=a+b\)</span>，故有 <span class="math display">\[x\times y=\gcd(x,y)\times\operatorname{lcm}(x,y)\]</span></p><h4 id="bézout-引理">Bézout 引理</h4><p>设 <span class="math inline">\(a,b\)</span>是不全为零的整数，则存在整数 <span class="math inline">\(x,y\)</span>，使得 <span class="math inline">\(ax+by=\gcd(a,b)\)</span> 。</p><p>引理可以由下面的拓展 Euclid 算法构造性地证明。</p><h4 id="拓展-euclid-算法">拓展 Euclid 算法</h4><p>扩展欧几里得（ex-GCD）算法就是通过辗转相除得到方程 <spanclass="math inline">\(ax+by=d\)</span>（ <spanclass="math inline">\(\gcd(a,b)=d\)</span> ）的一组解。</p><p>我们现有方程 <span class="math display">\[ax+by=d\]</span> 辗转相除时，我们令 <span class="math display">\[a_1=b,b_1=a \bmod b\]</span> 即 <span class="math display">\[a_1=b,b_1=a-kb\]</span> 其中 <span class="math inline">\(k=\lfloor\dfracab\rfloor\)</span> ，</p><p>则若 <span class="math inline">\(a_1x+b_1y=1\)</span> 的解为 <spanclass="math inline">\(x=x_1,y=y_1\)</span> ，即 <spanclass="math display">\[bx_1+(a-kb)y_1=1\]</span> 即 <span class="math display">\[ay_1+b(x_1-ky_1)=1\]</span> 则 <span class="math display">\[x=y_1,y=x_1-ky_1\]</span> 当除到最后一步时，有 <spanclass="math inline">\(a=d,b=0\)</span> ，此时易知 <spanclass="math inline">\(x=1,y=0\)</span> 是一组解，直接返回即可。</p><p>代码只有三行：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">exgcd</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b, <span class="hljs-type">int</span>&amp; x, <span class="hljs-type">int</span>&amp; y)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span>(!b) &#123; x = <span class="hljs-number">1</span>, y = <span class="hljs-number">0</span>; <span class="hljs-keyword">return</span>; &#125;<br>    <span class="hljs-built_in">exgcd</span>(b, a % b, y, x);<br>    y -= x * (a / b);<br>&#125;<br></code></pre></td></tr></table></figure><p>这个算法在整环 <span class="math inline">\(\mathbb{Z}\)</span>中看起来用处不大，但在有限域 <spanclass="math inline">\(\mathbb{F}_p\)</span>中将会起到至关重要的作用。</p><h3 id="欧拉函数">欧拉函数</h3><p>定义 <span class="math inline">\(n\)</span> 的欧拉函数为 <spanclass="math inline">\(1\sim n\)</span> 中与 <spanclass="math inline">\(n\)</span> 互质的数的数量，记作 <spanclass="math inline">\(\varphi(n)\)</span> 。</p><p>设 <span class="math inline">\(n=\prod_{i=1}^kp_i^{c_i}\)</span> ，则<span class="math display">\[\begin{aligned}\varphi(n)&amp;=n\prod_{i=1}^k\left(1-\frac1{p_i}\right)\\&amp;=\prod_{i=1}^kp_i^{c_i-1}\left(p_i-1\right)\end{aligned}\]</span> 根据上面的公式，我们可以 <span class="math inline">\(\mathcalO(\sqrt{n})\)</span> 求出单个 <spanclass="math inline">\(\varphi(n)\)</span> 。</p><h3 id="积性函数">积性函数</h3><p>如果一个函数 <span class="math inline">\(f\)</span>满足以下性质：</p><ul><li><span class="math inline">\(f(1)=1\)</span></li><li>若 <span class="math inline">\(p,q\)</span> 互素，则 <spanclass="math inline">\(f(pq)=f(p)f(q)\)</span></li></ul><p>则称 <span class="math inline">\(f\)</span>是<strong>积性函数</strong>。</p><p>这些函数都是积性函数：</p><ul><li>Dirichlet 乘积的单位元 <spanclass="math inline">\(\mathbb{1}\)</span>：<spanclass="math inline">\(\mathbb{1}(n=[n=1])\)</span></li><li><span class="math inline">\(k\)</span> 次恒同函数 <spanclass="math inline">\(\text{Id}_k\)</span> ： <spanclass="math inline">\(\text{Id}_k(n)=n^k\)</span></li><li>欧拉函数 <span class="math inline">\(\varphi\)</span> ：<spanclass="math inline">\(\varphi(n)=n\prod_{i=1}^m(1-\dfrac{1}{p_i})\)</span></li><li><span class="math inline">\(k\)</span> 次约数和 <spanclass="math inline">\(\sigma_k(n)\)</span> ：<spanclass="math inline">\(\sigma_k(n)=\prod_{i=1}^m(1+p_i^k+p_i^{2k}+\cdots+p_i^{c_ik})\)</span></li><li>莫比乌斯函数 <span class="math inline">\(\mu\)</span> ：<spanclass="math inline">\(\mu(n)=\left\{\begin{array}{aligned} 1 &amp;n=1&amp; \\(-1)^k &amp;n=p_1p_2\cdots p_k &amp; \\0&amp;\text{others}\end{array}\right.\)</span></li></ul><table style="width:100%;"><thead><tr class="header"><th><span class="math inline">\(n\)</span></th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th><th>13</th><th>14</th><th>15</th><th>16</th><th>17</th><th>18</th><th>19</th><th>20</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(\varphi(n)\)</span></td><td>1</td><td>1</td><td>2</td><td>2</td><td>4</td><td>2</td><td>6</td><td>4</td><td>6</td><td>4</td><td>10</td><td>4</td><td>12</td><td>6</td><td>8</td><td>8</td><td>16</td><td>6</td><td>18</td><td>8</td></tr><tr class="even"><td><span class="math inline">\(\sigma_0(n)\)</span></td><td>1</td><td>2</td><td>2</td><td>3</td><td>2</td><td>4</td><td>2</td><td>4</td><td>3</td><td>4</td><td>2</td><td>6</td><td>2</td><td>4</td><td>4</td><td>5</td><td>2</td><td>6</td><td>2</td><td>6</td></tr><tr class="odd"><td><span class="math inline">\(\sigma_1(n)\)</span></td><td>1</td><td>3</td><td>4</td><td>7</td><td>6</td><td>12</td><td>8</td><td>15</td><td>13</td><td>18</td><td>12</td><td>28</td><td>14</td><td>24</td><td>24</td><td>31</td><td>18</td><td>39</td><td>20</td><td>42</td></tr><tr class="even"><td><span class="math inline">\(\mu(n)\)</span></td><td>1</td><td>-1</td><td>-1</td><td>0</td><td>-1</td><td>1</td><td>-1</td><td>0</td><td>0</td><td>1</td><td>-1</td><td>0</td><td>-1</td><td>1</td><td>1</td><td>0</td><td>-1</td><td>0</td><td>-1</td><td>0</td></tr></tbody></table><h4 id="euler-筛法求积性函数值">Euler 筛法求积性函数值</h4><p>只要 <span class="math inline">\(f(p^k)\)</span> 可以 <spanclass="math inline">\(\mathcal O(1)\)</span> 算出，积性函数就可以使用Euler 筛法用线性时间计算 <span class="math inline">\(1\sim n\)</span>的取值。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp">f[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i) &#123;<br>    <span class="hljs-keyword">if</span>(!np[i]) prm[++cnt] = i, f[i] = <span class="hljs-built_in">F</span>(i, <span class="hljs-number">1</span>), c[i] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= cnt &amp;&amp; i * pri[j] &lt;= n; ++j) &#123;<br>        <span class="hljs-type">int</span> p = pri[j], ip = i * p;<br>        np[ip] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(!(i % p)) &#123;<br>            f[ip] = f[i] / <span class="hljs-built_in">F</span>(p, c[i]) * <span class="hljs-built_in">F</span>(p, c[i] + <span class="hljs-number">1</span>);<br>            c[ip] = c[i] + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        f[ip] = f[i] * f[p];<br>        c[ip] = <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>其中 <code>f[i]</code> 是积性函数 <spanclass="math inline">\(f(i)\)</span> 的取值，<code>F(p, k)</code> 是<span class="math inline">\(f(p^k)\)</span>的值（可以直接算），<code>c[i]</code> 是 <spanclass="math inline">\(i\)</span> 最小质因数的幂次。</p><p>如果 <span class="math inline">\(\dfrac{f(p^{k+1})}{f(p^k)}\)</span>为定值 ，则无需记录 <code>c[i]</code>。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp">f[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i) &#123;<br>    <span class="hljs-keyword">if</span>(!np[i]) prm[++cnt] = i, f[i] = <span class="hljs-built_in">P</span>(i); <br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= cnt &amp;&amp; i * pri[j] &lt;= n; ++j) &#123;<br>        <span class="hljs-type">int</span> p = pri[j], ip = i * p;<br>        np[ip] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(!(i % p)) &#123;<br>            f[ip] = f[i] * <span class="hljs-built_in">F</span>(p);  <span class="hljs-comment">// 这里不需要用到 c[i] 了！</span><br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        f[ip] = f[i] * f[p];<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>其中 <code>P(p)</code> 是 <span class="math inline">\(f(p)\)</span>的值。</p><p>一些例子：</p><ul><li><span class="math inline">\(\varphi\)</span>：<spanclass="math inline">\(P(p)=p-1,F(p)=p\)</span></li><li><span class="math inline">\(\sigma_0\)</span> ：<spanclass="math inline">\(F(p,k)=k+1\)</span></li><li><span class="math inline">\(\sigma_1\)</span> ：<spanclass="math inline">\(F(p,k)=1+p+\cdots +p^k\)</span></li><li><span class="math inline">\(\mu\)</span> ：<spanclass="math inline">\(P(p)=-1,F(p)=0\)</span></li></ul><h2 id="有限域mathbbf_p上的数论">有限域<spanclass="math inline">\(\mathbb{F}_p\)</span>上的数论</h2><p><span class="math inline">\(\mathbb{F}_p =\mathbb{Z}/p\mathbb{Z}\)</span> 表示整数集 <spanclass="math inline">\(\mathbb Z\)</span> 对 <spanclass="math inline">\(p\)</span> 取模所得的 <spanclass="math inline">\(p\)</span> 种取值组成的集合。</p><p>在 <span class="math inline">\(p\)</span> 为质数时，<spanclass="math inline">\(\mathbb F_p\)</span>是一个具有有限个元素的<strong>域</strong>（一种代数结构，无需理解具体含义）。实数集<span class="math inline">\(\mathbb R\)</span> ，甚至更大的复数集 <spanclass="math inline">\(\mathbb C\)</span> 也是域。</p><p>这启发我们：实数 / 复数集中的一些元素、运算在 <spanclass="math inline">\(\mathbb F_p\)</span> 中可能存在着同构或对应。</p><h3 id="欧拉定理">欧拉定理</h3><h4 id="fermat-小定理">Fermat 小定理</h4><p>若 <span class="math inline">\(p\)</span> 为质数，则对任意 <spanclass="math inline">\(1\le a\le p-1\)</span> ，均有 <spanclass="math inline">\(a^{p-1}\equiv1\pmod p\)</span> 。</p><h5 id="推论">推论</h5><p>对任意 <span class="math inline">\(1\le a\le p-1,b\ge 0\)</span>，均有 <span class="math inline">\(a^b \equiv a^{b \bmod (p-1)} \pmodp\)</span> 。</p><h4 id="euler-定理">Euler 定理</h4><p>对任意 <span class="math inline">\(1\le a \le m-1,(a,m)=1\)</span>，均有 <span class="math inline">\(a^{\varphi(m)}\equiv1\pmod m\)</span>。</p><h5 id="推论-1">推论</h5><p>对任意 <span class="math inline">\(1\le a\lem-1,(a,m)=1,b\ge0\)</span> ，均有 <span class="math inline">\(a^b\equiva^{b\bmod\varphi(m)}\pmod m\)</span> 。</p><p>事实上费马小定理可以看做欧拉定理的特殊情况。</p><h5 id="扩展-euler-定理">扩展 Euler 定理</h5><p>对任意 <span class="math inline">\(1\le a\lem-1,(a,m)&gt;1,b\ge\varphi(m)\)</span> ，均有 <spanclass="math inline">\(a^b\equiv a^{b\bmod\varphi(m)+\varphi(m)}\pmodm\)</span> 。</p><p>这些定理的证明需要用到抽象代数中的群论知识，故跳过。</p><h3 id="乘法逆元">乘法逆元</h3><p>设 <span class="math inline">\(1\le a&lt;m\)</span> ，若存在 <spanclass="math inline">\(1\le b&lt;m\)</span> 满足 <spanclass="math inline">\(ab\equiv1\pmod m\)</span> ，则称 <spanclass="math inline">\(b\)</span> 是 <spanclass="math inline">\(a\)</span> 在模 <spanclass="math inline">\(m\)</span>意义下的<strong>乘法逆元</strong>，简称<strong>逆元</strong>，记作 <spanclass="math inline">\(a^{-1}\)</span> 。</p><p>若 <span class="math inline">\((a,m)=d&gt;1\)</span>，则 <spanclass="math inline">\(d\mid (ab\bmod m)\)</span> ，因此 <spanclass="math inline">\(a\)</span> 存在逆元的充要条件是 <spanclass="math inline">\((a,m)=1\)</span> 。</p><p>根据欧拉定理，<span class="math inline">\(a^{-1}\equiva^{\varphi(m)-1}\pmod m\)</span> 。</p><p>如果 <span class="math inline">\(p\)</span> 为质数，则 <spanclass="math inline">\(a^{-1}\equiv a^{p-2}\pmod m\)</span> 。</p><p>因为这种做法要求出欧拉函数，当 <span class="math inline">\(m\)</span>较大（超过 <span class="math inline">\(10^9\)</span>）时复杂度过高。所以当 <span class="math inline">\(m\)</span>不是质数时，我们一般用扩展欧几里得算法求逆元。</p><h4 id="线性逆元">线性逆元</h4><p>当我们需要的逆元都较小而又很多时，可以用线性逆元一次性求出 <spanclass="math inline">\(1\sim n\)</span> 的所有逆元。</p><p>设 <span class="math inline">\(p=k·i+r,1&lt;i&lt;p,r&lt;i\)</span>，则 <span class="math inline">\(k=\lfloor\dfrac pi\rfloor\)</span><span class="math display">\[k·i+r \equiv 0 \pmod p\]</span> 两边同时乘 <span class="math inline">\(i^{-1}r^{-1}\)</span>，则 <span class="math display">\[k·r^{-1}+i^{-1} \equiv 0 \pmod p\]</span> 故 <span class="math inline">\(i^{-1}=-k·r^{-1}=-\left\lfloor\dfrac pi \right\rfloor r^{-1}\)</span></p><p>因为 <span class="math inline">\(r^{-1}\)</span>已经求出，所以可以递推求出 <code>inv</code>。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp">inv[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i) inv[i] = inv[mod % i] * (mod - mod / i) % mod;<br></code></pre></td></tr></table></figure><h3 id="线性同余方程">线性同余方程</h3><p>关于 <span class="math inline">\(x\)</span> 的形如 <spanclass="math inline">\(ax\equiv b\pmod m\)</span> 的方程称为线性由乘法逆元的定义可知，</p><p>若 <span class="math inline">\((a,m)=1\)</span> ，则该同余方程的解为<span class="math inline">\(x=ba^{-1}\pmod m\)</span> 。</p><p>若 <span class="math inline">\((a,m)\ne-1\)</span> ，设 <spanclass="math inline">\(d=(a,m)\)</span> 。若 <spanclass="math inline">\(d\mid b\)</span> ，则方程两边及模数同时除 <spanclass="math inline">\(d\)</span> 即可；否则方程无解。</p><p>例如 <span class="math inline">\(3x=2\bmod6\)</span> 就是无解的。</p><h4 id="二元一次不定方程">二元一次不定方程</h4><p>形如 <span class="math inline">\(ax+by=c\)</span>的方程称为二元一次不定方程。</p><p>因为 <span class="math inline">\(ax+by=c\)</span> 可写作 <spanclass="math inline">\(ax=c\bmod b\)</span> ，</p><p>因此对于二元一次不定方程 <span class="math inline">\(ax+by=c\)</span>，方程两边同时除以 <span class="math inline">\((a,b,c)\)</span>后，即可得到其通解为 <spanclass="math inline">\(x=x_0+bt,y=y_0-at\)</span> ，其中 <spanclass="math inline">\(x_0=ca^{-1} \bmod b,y_0=\dfrac {ax_0-c}b \bmoda\)</span> 。</p><h4 id="ex-gcd-解线性同余方程">ex-GCD 解线性同余方程</h4><p>当 <span class="math inline">\(m\)</span> 很大的时候，通过求 <spanclass="math inline">\(m\)</span> 的欧拉函数得到 <spanclass="math inline">\(a\)</span> 的逆元复杂度过高。</p><p>ex-GCD 算法就是通过辗转相除得到方程 <spanclass="math inline">\(ax+by=1\)</span>（ <spanclass="math inline">\((a,b)=1\)</span> ）的一组解，从而得到 <spanclass="math inline">\(a\)</span> 模 <spanclass="math inline">\(b\)</span>意义下的逆元，解出线性同余方程或二元一次不定方程。</p><p>在遇到需要求逆元的问题时，如果模数是质数，我们一般用费马小定理或线性逆元求解；如果模数不是质数，则用ex-GCD 求解。</p><h3 id="线性同余方程组">线性同余方程组</h3><p>形如 <span class="math display">\[\left\{\begin{array}{aligned}x \equiv a_1 \pmod{m_1} \\x \equiv a_2 \pmod{m_2} \\\cdots \\x \equiv a_n \pmod{m_n}\end{array}\right.\]</span> 的方程组称为线性同余方程组。</p><p>该方程组的解形如 <span class="math inline">\(x\equiv A\pmodM\)</span> ，其中 <spanclass="math inline">\(M=\operatorname{lcm}(m_1.m_2,\cdots,m_n)\)</span>。</p><h4 id="中国剩余定理crt">中国剩余定理（CRT）</h4><p>当 <span class="math inline">\(m_1,m_2,\cdots,m_n\)</span>两两互质时，我们可以直接用公式求解。</p><p>设 <span class="math inline">\(M=m_1m_2\cdotsm_n=\operatorname{lcm}(m_1,m_2,\cdots,m_n),M_i=\dfrac{M}{m_i},N_i=M_i^{-1}\pmod{m_i}\)</span>，则 <span class="math display">\[x=\sum_{i=1}^na_iM_iN_i\bmod M\]</span> 因为对于任意的 <span class="math inline">\(M_j,j\ne i\)</span>，均有 <span class="math inline">\(m_i\mid M_j\)</span> ，所以 <spanclass="math display">\[x\equiv \sum_{j=1}^n a_j M_j N_j\equiv a_i M_i N_i\equiv a_i M_i M_i^{-1}\equiv a_i\pmod{m_i}\]</span> 逆元用 ex-Gcd 求解即可。</p><p>举个例子，用中国剩余定理解方程组：<span class="math inline">\(x\equiv 2 \pmod 3,x \equiv 3 \pmod 5,x \equiv 4 \pmod 7\)</span> 。 <spanclass="math display">\[\begin{aligned}&amp;a_1=2 \quad m_1=3 \quad M_1=35 \quad N_1 = 35^{-1} = 2^{-1} = 2\pmod 3\\&amp;a_2=3 \quad m_2=5 \quad M_2=21 \quad N_2 = 21^{-1} = 1^{-1} = 1\pmod 5\\&amp;a_3=4 \quad m_3=7 \quad M_3=15 \quad N_3 = 15^{-1} = 1^{-1} = 1\pmod 7\\&amp;x = (2×35×2+3×21×1+4×15×1) \bmod 105 = 263 \bmod 105 = 53\\&amp;x \equiv 53 \pmod{105}\end{aligned}\]</span></p><h4 id="扩展中国剩余定理excrt">* 扩展中国剩余定理（exCRT）</h4><p>当 <span class="math inline">\(m_1,m_2,\cdots,m_n\)</span>不互质时，方程组不存在公式解（ <spanclass="math inline">\(m_i^{-1}\)</span> 可能不存在）。</p><p>但我们可以用扩展中国剩余定理（exCRT）算法使用<strong>增量法</strong>求解。</p><p>即：我们已经知道 <span class="math inline">\(x=x_0\bmod M\)</span>，现在新增了一个方程 <span class="math inline">\(x=a_i\bmod m_i\)</span>。</p><p>我们把这两个方程写成带余除法的形式： <span class="math display">\[x=x_0+pM=a_i+qm_i\]</span> 则有 <span class="math display">\[pM-qm_i=a_i-x_0\]</span> 两边除 <span class="math inline">\(d=(M,m_i)\)</span>后，用ex-Gcd解这个不定方程，可以解出 <spanclass="math inline">\(p,q\)</span> （如果无解说明原方程就无解）。</p><p>取 <span class="math inline">\(p\)</span> 在 <spanclass="math inline">\([0,\dfrac{m_i}d)\)</span> 范围内的一组解，则有<span class="math display">\[x=x_0+pM \mod M×m_i/d\]</span> 例如 <span class="math display">\[\begin{aligned}x_0=3,M=4,&amp;a_2=7,m_2=10\\x=3+4p&amp;=7+10q\\4p-10q&amp;=4\\2p-5q&amp;=2\\p=1,q&amp;=0\\x=3+4×1&amp;=7\mod 20\\------&amp;-------\\x_0=7,M=20,&amp;a_3=11,m_3=14\\x=7+20p&amp;=11+14q\\20p-14q&amp;=4\\10p-7q&amp;=2\\p=3,q&amp;=4\\x=7+20×3&amp;=67\mod 140\\------&amp;-------\\\end{aligned}\]</span></p><h3 id="指数同余方程">指数同余方程</h3><h4 id="离散对数">离散对数</h4><p>形如 <span class="math inline">\(a^x\equiv b\pmod p\)</span>的方程称为指数同余方程。</p><p>根据高中知识，“ <span class="math inline">\(x=\log_a b\)</span>”。</p><p>我们称此时的 <span class="math inline">\(x\)</span> 是模 <spanclass="math inline">\(p\)</span> 意义下以 <spanclass="math inline">\(a\)</span> 为底 <spanclass="math inline">\(b\)</span> 的<strong>（离散）对数</strong>。</p><h4 id="大步小步bsgs算法">大步小步（BSGS）算法</h4><p>在NOIP范围内，我们只需了解 <span class="math inline">\(p\)</span>为质数的做法。<del>其实</del> <span class="math inline">\(p\)</span><del>不是质数也不难做</del>。</p><p>如果暴力求离散对数，我们需要遍历 <span class="math inline">\(0\simp-2\)</span> 所有的 <span class="math inline">\(x\)</span> ，复杂度<span class="math inline">\(\mathcal O(p)\)</span>，模数在<code>int</code>范围内时都会T飞。</p><p>我们将 <span class="math inline">\(1,a,a^2,\cdots,a^{k-1}\)</span>的值存入一个 <code>unordered_map</code> 中，其中 <spanclass="math inline">\(k=\lfloor\sqrt p\rfloor+1\)</span> 。</p><p>然后，我们求出 <span class="math inline">\(a^{-k}=a^{p-1-k}\)</span>，并计算 <span class="math inline">\(b,ba^{-k},ba^{-2k},ba^{-3k},\cdots,ba^{-k^2}\)</span> 的值，并在 <code>unordered_map</code> 中查询。</p><p>若查询成功，即有 <span class="math inline">\(ba^{-ik}=a^j\)</span>，则 <span class="math inline">\(b=a^{ik+j}\)</span> 。</p><p>（以上计算都在模 <span class="math inline">\(p\)</span>意义下进行）</p><p>算法复杂度为 <span class="math inline">\(\mathcal O(\sqrt p)\)</span>，在 <span class="math inline">\(p\le10^{12}\)</span>时效率都非常优秀。</p><p>举个例子：解 <span class="math inline">\(3^x\equiv4\pmod{31}\)</span><span class="math display">\[\begin{aligned}a&amp;=3 \quad b=4 \quad p=31 \quad k=6\\3^1 &amp;\equiv 3 \quad 3^2 \equiv 9 \quad 3^3 \equiv 27 \quad 3^4\equiv 19 \quad 3^5 \equiv 26 \pmod{31}\\3^6 &amp;\equiv 16 \quad 3^{-6} \equiv 2 \pmod{31}\\4×3^{-6} &amp;\equiv 8 \pmod{31}\\4×3^{-12} &amp;\equiv 16 \pmod{31}\\4×3^{-18} &amp;\equiv 1 \equiv 3^0 \pmod{31}\\4 &amp;\equiv 13^{18+0} \equiv 3^{18} \pmod{31}\\x&amp;=18\end{aligned}\]</span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp">unordered_map&lt;<span class="hljs-type">int</span>&gt; mp;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">BSGS</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b, <span class="hljs-type">int</span> p)</span> </span>&#123;<br>    <span class="hljs-type">int</span> k = <span class="hljs-built_in">sqrt</span>(p) + <span class="hljs-number">1</span>, r = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; p; ++i) mp[r] = i, r = (ll)r * a % p;<br>    r = <span class="hljs-built_in">qpow</span>(a, p - <span class="hljs-number">1</span> - k);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; k; ++i) &#123;<br>        <span class="hljs-keyword">if</span>(mp.<span class="hljs-built_in">count</span>(a)) <span class="hljs-keyword">return</span> i * k + mp[a];<br>        a = (ll)a * r % p;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>——什么？？</p><p><span class="math inline">\(p\)</span>是质数，竟然还有无解？？？？</p><p><span class="math inline">\(p=7,a=2,b=3\)</span></p><p><span class="math inline">\(a=2,a^2=4,a^3=1,a^4=2,a^5=4,a^6=1\cdots(\text{mod }7)\)</span></p><p><strong>QAQ</strong></p><blockquote><p><strong>无需求逆元的版本</strong></p><p>以上做法中通过 <span class="math inline">\(ik+j\)</span> 构造出所求的<span class="math inline">\(x\)</span> ，过程中需要求 <spanclass="math inline">\(a^{-k}\)</span> 。</p><p>但如果改用 <span class="math inline">\(ik-j\)</span> 来构造，就可以绕开求逆元的过程。值得注意的是，这样也将不再依赖「 <spanclass="math inline">\(p\)</span> 是质数」这一条件。</p><p>具体来说，取 <span class="math inline">\(k=\lceil\sqrtn\rceil\)</span> ，我们希望找到一组 <spanclass="math inline">\(i,j\)</span> 使得 <spanclass="math inline">\(a^{ik-j}\equiv b\pmod p\)</span> 。</p><p>这等价于 <span class="math inline">\((a^k)^i\equiv ba^j\pmodp\)</span> 。</p><p>与上面的做法类似，我们先将 <spanclass="math inline">\(a^0b=b,ab,a^2b,\cdots,a^{k-1}b\)</span> （以 <spanclass="math inline">\(a^jb\)</span> 为键，<spanclass="math inline">\(j\)</span> 为值）存入 <code>unordered_map</code>中；再用</p><p>在 <code>unordered_map</code> 中查询。</p><p>若成功成功，则由对应的 <span class="math inline">\(i,j\)</span>构造答案 ；否则返回 <span class="math inline">\(-1\)</span>表示无解。</p><p>需要注意的是 <span class="math inline">\(x=0\)</span> 无法被 <spanclass="math inline">\(x=ik-j(0\le j&lt;k,1\le i\le k)\)</span>覆盖，需要特判，即：如果 <span class="math inline">\(b=1\)</span> 且<span class="math inline">\(a\ne0\)</span> ，则直接返回 <spanclass="math inline">\(x=0\)</span> 。</p></blockquote><h3 id="阶和原根-高次同余方程">*阶和原根 高次同余方程</h3><h4 id="阶和原根">阶和原根</h4><p>为什么在实数集一定有解的指数方程在模意义下会出现无解情况？</p><p>拿刚才的例子来说，因为 <spanclass="math inline">\(2^3\bmod7=1\)</span> ，也就是说，数列 <spanclass="math inline">\(\{2^n\}\)</span> 在模 <spanclass="math inline">\(7\)</span> 意义下的循环节是 <spanclass="math inline">\(3\)</span> 而不是 <spanclass="math inline">\(7-1=6\)</span> 。</p><p>我们称这个“循环节”为 <span class="math inline">\(2\)</span>的<strong>阶</strong>，记为 <spanclass="math inline">\(\delta(2)=3\)</span> 。</p><p>严格定义：若 <span class="math inline">\(a^m=1\bmod p\)</span>，且对于任意的 <span class="math inline">\(1\leq i&lt;m,a^i\neq 1\bmodp\)</span> ，则称 <span class="math inline">\(a\)</span> 在模 <spanclass="math inline">\(p\)</span> 意义下的阶为 <spanclass="math inline">\(m\)</span> 。</p><p>若这样的 <span class="math inline">\(m\)</span> 不存在即 <spanclass="math inline">\((a,p)&gt;1\)</span> ，则记 <spanclass="math inline">\(\delta(a)=0\)</span></p><p>例如在模 <span class="math inline">\(7\)</span> 意义下，<spanclass="math inline">\(\delta(1)=1,\delta(2)=3,\delta(3)=6,\delta(4)=3,\delta(5)=6,\delta(6)=2\)</span>。</p><p>若 <span class="math inline">\(\delta(a)=\delta(p)\)</span> ，则称<span class="math inline">\(a\)</span> 是模 <spanclass="math inline">\(p\)</span> 意义下的<strong>原根</strong>（也称<span class="math inline">\(a\)</span> 是 <spanclass="math inline">\(p\)</span> 的原根）。此时，<spanclass="math inline">\(1,a,a^2,\cdots ,a^{\varphi(p)-1}\)</span> 取遍所有<span class="math inline">\(1\sim p\)</span> 中与 <spanclass="math inline">\(p\)</span> 互质的数。</p><h4 id="阶和原根的求法">阶和原根的求法</h4><p>由欧拉定理，容易证明：<spanclass="math inline">\(\delta(a)\mid\varphi(p)\)</span> 。</p><p>因此我们从小到大枚举 <span class="math inline">\(\varphi(p)\)</span>的所有因数 <span class="math inline">\(m\)</span> 求 <spanclass="math inline">\(a^m\)</span> 即可。复杂度 <spanclass="math inline">\(\mathcal{O}{\sqrt p}\)</span> 。</p><p>求原根时，我们从 <span class="math inline">\(2\)</span> 开始枚举<span class="math inline">\(g\)</span> ，若 <spanclass="math inline">\(\delta(g)=\varphi(p)\)</span> ，则 <spanclass="math inline">\(q\)</span> 是 <spanclass="math inline">\(p\)</span> 的原根。</p><p>因为所有的 <span class="math inline">\(g^j,(j,\varphi(p))=1\)</span>都是 <span class="math inline">\(p\)</span> 的原根，所以 <spanclass="math inline">\(p\)</span> 的原根有 <spanclass="math inline">\(\varphi(\varphi(p))\)</span>个，而且基本上均匀分布，所以一般来说试 <spanclass="math inline">\(20\)</span> 个以内就可以试出原根。</p><h4 id="高次同余方程">高次同余方程</h4><p>在NOIP范围内，我们只能解最简单的一种高次同余方程，即形如 <spanclass="math inline">\(x^a\equiv b \bmod p\)</span> ，其中 <spanclass="math inline">\(p\)</span> 为质数的方程。</p><p>我们求出 <span class="math inline">\(p\)</span> 的一个原根 <spanclass="math inline">\(g\)</span> ，两边同时对 <spanclass="math inline">\(g\)</span> 取对数，则 <spanclass="math display">\[a\log_gx=\log_gb \bmod \varphi(p)\]</span> BSGS求出 <span class="math inline">\(\log_g b\)</span>，ex-Gcd解出 <span class="math inline">\(\log_gx\)</span> （注意这里是对<span class="math inline">\(\varphi(p)\)</span> 取模），最后由 <spanclass="math inline">\(x=g^{\log_gx}\)</span> 即可算出答案。</p>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>数学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>组合数学</title>
    <link href="/posts/44bce474.html"/>
    <url>/posts/44bce474.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="排列组合">排列组合</h2><h3 id="加法原理">加法原理</h3><p>完成一件事有 <span class="math inline">\(i\)</span>种方法，其中每种方法有 <span class="math inline">\(a_i\)</span>种方案完成，则总方案数为 <span class="math inline">\(\displaystyle\suma_i\)</span> 。</p><h3 id="乘法原理">乘法原理</h3><p>完成一件事有 <span class="math inline">\(i\)</span>个步骤，其中每个步骤有 <span class="math inline">\(a_i\)</span>种方案完成，则总方案数为 <span class="math inline">\(\displaystyle\proda_i\)</span> 。</p><h3 id="全排列">全排列</h3><p><span class="math inline">\(n\)</span>个不同的物品排成一列，求方案数。</p><p>选出的第一个物品有 <span class="math inline">\(n\)</span>种方案，第二个物品有 <span class="math inline">\(n-1\)</span>种方案<span class="math inline">\(\dots\dots\)</span>第 <spanclass="math inline">\(n\)</span> 个物品有 <spanclass="math inline">\(1\)</span> 种方案。</p><p>因此，总方案数为 <span class="math inline">\(n(n-1)\cdots1=n!\)</span> 。</p><h3 id="排列数">排列数</h3><p><span class="math inline">\(n\)</span> 个不同的物品，选出 <spanclass="math inline">\(m\)</span> 个排成一列，<spanclass="math inline">\(n\le n\)</span> ，求方案数。</p><p>选出的第一个物品有 <span class="math inline">\(n\)</span>种方案，第二个物品有 <span class="math inline">\(n-1\)</span>种方案<span class="math inline">\(\dots \dots\)</span>第 <spanclass="math inline">\(m\)</span> 个物品有 <spanclass="math inline">\(n-m+1\)</span> 种方案。</p><p>因此，总方案数为 <span class="math inline">\(n(n-1)\cdots(n-m+1)=\dfrac {n!}{(n-m)!}\)</span></p><p>记该方案数为 <span class="math inline">\(\text{P}_n^m\)</span> 或<span class="math inline">\(\text A_n^m\)</span> 。</p><p>特别地，若 <span class="math inline">\(m=n\)</span> ，则排列方案数为<span class="math inline">\(\text A_n^n=n!\)</span> 。</p><h3 id="组合数">组合数</h3><p><span class="math inline">\(n\)</span> 个不同的物品，选出 <spanclass="math inline">\(m\)</span> 个，<span class="math inline">\(n\lem\)</span> ，求方案数。<strong>顺序不同的算作一种</strong>。</p><p>因为顺序不同的算一种，所以方案数就是 <spanclass="math inline">\(\dfrac{\textA_n^m}{m!}=\dfrac{n!}{m!(n-m)!}\)</span> 。</p><p>记该方案数为 <span class="math inline">\(\text C_n^m\)</span> 或<span class="math inline">\(\dbinom{n}{m}\)</span> 或 <spanclass="math inline">\(\dfrac{n^{\underline{m}}}{m!}\)</span> 。</p><h3 id="常见排列组合结论">常见排列组合结论</h3><p><del>基本的高考知识点。</del></p><h4 id="圆排列">圆排列</h4><p><span class="math inline">\(n\)</span>个不同的物品排成一个环，旋转可得的算同一种方案，方案数为：<spanclass="math inline">\(\dfrac{\text A_n^n}{n}=(n-1)!\)</span> 。</p><p><span class="math inline">\(n\)</span> 个不同的物品选出 <spanclass="math inline">\(m\)</span>个排成一个环，旋转可得的算同一种方案，方案数为：<spanclass="math inline">\(\dbinom{n}{m} (m-1)! = \dfrac{\textA_n^m}{m}\)</span> 。</p><h4 id="可重集排列">可重集排列</h4><p><span class="math inline">\(n\)</span>种物品，每种物品都有无穷多个，选出 <spanclass="math inline">\(m\)</span> 个物品排成一列，方案数为：<spanclass="math inline">\(n^m\)</span> 。</p><h4 id="可重集组合">可重集组合</h4><p><span class="math inline">\(n\)</span>种物品，每种物品都有无穷多个，选出 <spanclass="math inline">\(m\)</span> 个物品（等价于求 <spanclass="math inline">\(x_1+x_2+\cdots+x_n=m\)</span>的非负整数解组数），方案数为：<spanclass="math inline">\(\dbinom{n+m-1}{n-1}\)</span> 。</p><p>若每种物品必须至少被选择一次（等价于求正整数解组数），方案数为：<spanclass="math inline">\(\dbinom{m-1}{n-1}\)</span> 。</p><h4 id="多重全排列">多重全排列</h4><p><span class="math inline">\(n\)</span> 种物品，第 <spanclass="math inline">\(i\)</span> 种物品有 <spanclass="math inline">\(a_i\)</span>个，将所有物品排成一列，方案数为：<spanclass="math inline">\(\dfrac{(\displaystyle\sum_{i=1}^na_i)!}{\displaystyle\prod_{i=1}^n (a_i!)}\)</span></p><h3 id="杨辉三角">杨辉三角</h3><p>我们把组合数排成一个正三角形： <span class="math display">\[\begin{matrix}&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;1\\&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;1&amp;&amp;1\\&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;1&amp;&amp;2&amp;&amp;1\\&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;1&amp;&amp;3&amp;&amp;3&amp;&amp;1\\&amp;&amp;&amp;&amp;&amp;&amp;&amp;1&amp;&amp;4&amp;&amp;6&amp;&amp;4&amp;&amp;1\\&amp;&amp;&amp;&amp;&amp;&amp;1&amp;&amp;5&amp;&amp;10&amp;&amp;10&amp;&amp;5&amp;&amp;1\\&amp;&amp;&amp;&amp;&amp;1&amp;&amp;6&amp;&amp;15&amp;&amp;20&amp;&amp;15&amp;&amp;6&amp;&amp;1\\&amp;&amp;&amp;&amp;1&amp;&amp;7&amp;&amp;21&amp;&amp;35&amp;&amp;35&amp;&amp;21&amp;&amp;7&amp;&amp;1\\&amp;&amp;&amp;1&amp;&amp;8&amp;&amp;28&amp;&amp;56&amp;&amp;70&amp;&amp;56&amp;&amp;28&amp;&amp;8&amp;&amp;1\\&amp;&amp;1&amp;&amp;9&amp;&amp;36&amp;&amp;84&amp;&amp;126&amp;&amp;126&amp;&amp;84&amp;&amp;36&amp;&amp;9&amp;&amp;1\\&amp;1&amp;&amp;10&amp;&amp;45&amp;&amp;120&amp;&amp;210&amp;&amp;252&amp;&amp;210&amp;&amp;120&amp;&amp;45&amp;&amp;10&amp;&amp;1\\\cdots&amp;&amp;\cdots&amp;&amp;\cdots&amp;&amp;\cdots&amp;&amp;\cdots&amp;&amp;\cdots&amp;&amp;\cdots&amp;&amp;\cdots&amp;&amp;\cdots&amp;&amp;\cdots&amp;&amp;\cdots&amp;&amp;\cdots\end{matrix}\]</span> 这个三角形就称为杨辉三角。</p><p>容易发现下面的数恰好是上面两个数的和，即 <spanclass="math display">\[\dbinom nm=\dbinom {n-1}{m}+\dbinom{n-1}{m-1}\]</span> 考虑实际意义。如果最后一个物品选了，那么其余部分的方案数为<span class="math inline">\(\dbinom{n-1}{m-1}\)</span>；没选，其余部分方案数为 <spanclass="math inline">\(\dbinom{n-1}{m}\)</span>。因此总方案数就是二者相加。</p><h3 id="二项式定理">二项式定理</h3><p>二项式就是形如 <span class="math inline">\((x+y)^n\)</span>的式子。它完全展开一共有 <span class="math inline">\(2^n\)</span>项。</p><p>我们合并同类项时，考虑 <spanclass="math inline">\(x^iy^{n-i}\)</span> 有多少项。</p><p>在 <span class="math inline">\(n\)</span> 个数中选 <spanclass="math inline">\(i\)</span> 个填 <spanclass="math inline">\(x\)</span> ，<spanclass="math inline">\(n-i\)</span> 个填 <spanclass="math inline">\(y\)</span> ，因此有 <spanclass="math inline">\(\dbinom{n}{i}\)</span> 项。故 <spanclass="math display">\[(a+b)^n = \displaystyle\sum_{i=0}^n \dbinom{n}{i} a^i b^{n-i}\]</span> 一些结论：</p><ul><li><span class="math inline">\(2^n = \displaystyle\sum_{i=0}^n\dbinom{n}{i}\)</span></li><li><span class="math inline">\(0^n = \displaystyle\sum_{i=0}^n (-1)^i\dbinom{n}{i}\)</span> （定义 <span class="math inline">\(0^0=1\)</span>）</li><li><span class="math inline">\(\dbinom{n+1}{k+1} = \dbinom{n}{k+1} +\dbinom{n}{k}\)</span></li><li><span class="math inline">\(\dbinom{n+m}{m} =\displaystyle\sum_{i=0}^m \dbinom{m}{m-i} \dbinom{n}{i} \Rightarrow\dbinom{2n}{n} = \displaystyle\sum_{i=0}^n \dbinom{n}{i}^2\)</span></li><li><span class="math inline">\(\dbinom{n}{k} =\dbinom{n}{n-k}\)</span></li><li><span class="math inline">\(\displaystyle\sum_{i=0}^n i\dbinom{n}{i} = n 2^{n-1}\)</span></li></ul><h3 id="多项式定理">多项式定理</h3><p>二项式定理的扩展。 <span class="math display">\[(x_1+x_2+\cdots +x_m)^n=\sum_{\sum_{i=1}^m{a_i}=n}P(n;a_1,a_2,\cdots,a_m)x_1^{a_1}x_2^{a_2}\cdots x_n^{a_n}\]</span></p><h2 id="计数理论">计数理论</h2><h3 id="容斥原理">容斥原理</h3><p>设 <span class="math inline">\(S_1,S_2\)</span> 为有限集，令 <spanclass="math inline">\(|S|\)</span> 表示 <spanclass="math inline">\(S\)</span> 的大小，则： <spanclass="math display">\[|S_1 \cup S_2| = |S_1| + |S_2| - |S_1 \cap S_2|\]</span> 设 <span class="math inline">\(S_1,S_2\)</span> 为有限集，则：<span class="math display">\[|S_1 \cup S_2 \cup S_3| = |S_1| + |S_2| + |S_3| - |S_1 \cap S_2| - |S_1\cap S_3| - |S_2 \cap S_3| + |S_1 \cap S_2 \cap S_3|\]</span> 一般地，设 <spanclass="math inline">\(S_1,S_2,\cdots,S_n\)</span> 为 <spanclass="math inline">\(n\)</span> 个有限集，则： <spanclass="math display">\[\left|\bigcup_{i=1}^n S_i \right| = \sum_{1 \le i \le n} |S_i| - \sum_{1\le i \lt j \le n} |S_i \cap S_j| + \cdots +(-1)^{n-1}\left|\bigcap_{i=1}^n S_i \right|\]</span></p><h3 id="错排问题">错排问题</h3><p><span class="math inline">\(n\)</span> 个球装入 <spanclass="math inline">\(n\)</span> 个箱子，每个箱子装一个球。要求第 <spanclass="math inline">\(i\)</span> 个球不能装入第 <spanclass="math inline">\(i\)</span> 个箱子，方案数为： <spanclass="math display">\[\begin{aligned}D(n) &amp;= (n-1) [D(n-1)+D(n-2)] \\&amp;= n! - \dbinom{n}{1} (n-1)! + \dbinom{n}{2} (n-2)! - \cdots +(-1)^n \dbinom{n}{n} 0! \\&amp;= n! \sum_{i=0}^n \frac{(-1)^n}{i!} \\\end{aligned}\]</span> 其中，$D(1)=0,D(2)=1 $ 。</p><h4 id="有冗余元素的错排问题">有冗余元素的错排问题</h4><p><span class="math inline">\(n\)</span> 个球，<spanclass="math inline">\(n\)</span> 个箱子，每个箱子装一个球，另有 <spanclass="math inline">\(m\)</span> 个多余的球。要求第 <spanclass="math inline">\(i\)</span> 个球不能装入第 <spanclass="math inline">\(i\)</span> 个箱子，方案数为： <spanclass="math display">\[\begin{aligned}D_m(n) &amp;= (n-1) [D_m(n-1) + D_m(n-2)] + mD_m(n-1) \\&amp;= (n+m-1) D_m(n-1) + (n-1) D_m(n-2) \\&amp;= \sum_{i=0}^n (-1)^i \dbinom{n}{i} \text A_{m+i}^i \\\end{aligned}\]</span> 其中，<spanclass="math inline">\(D_m(1)=m,D_m(2)=m^2+m+1.\)</span> 。</p><h4 id="错排问题的容斥解法">错排问题的容斥解法</h4><p><span class="math display">\[D(n)=n!-\dbinom n1(n-1)!+\dbinom n2(n-2)!-\cdots +(-1)^n\dbinom nn0!\]</span></p><p><span class="math display">\[D(n)=n!\sum_{i=0}^n\dfrac{(-1)^n}{i!}\]</span></p><p><span class="math display">\[D_m(n)=P_{n+m}^n-\dbinom n1P_{n+m-1}^{n-1}+\dbinomn2P_{n+m-2}^{n-2}-\cdots +(-1)^n\dbinom nnP_{m}^0\]</span></p><h3 id="第二类-stirling-数">第二类 stirling 数</h3><p><span class="math inline">\(n\)</span> 个人分成 <spanclass="math inline">\(m\)</span> 个小组（组没有编号）的方案数。 <spanclass="math display">\[S(0,0)=1\]</span></p><p><span class="math display">\[S(n,m)=S(n-1,m-1)+mS(n-1,m)\]</span></p><p><span class="math display">\[\begin{aligned}S(n,m)&amp;=\dfrac{1}{m!}\displaystyle\sum_{i=0}^m(-1)^i\dbinom{m}{i}(m-i)^n\\\\&amp;=\displaystyle\sum_{i=0}^m\dfrac{(-1)^i(m-i)^n}{i!(m-i)!}\end{aligned}\]</span></p><h3 id="划分数">划分数</h3><p>把 <span class="math inline">\(n\in\mathbb{N}_+\)</span> 划分为 <spanclass="math inline">\(m\)</span> 个 <spanclass="math inline">\(a_i\)</span> ，<span class="math inline">\(a_i\in\mathbb{N}_+\)</span> 。<span class="math inline">\(P(0,0)=1\)</span><span class="math display">\[P(n,m)=P(n-1,m-1)+P(n-m,m)\]</span></p><h3 id="自然数幂和">自然数幂和</h3><p>设 <spanclass="math inline">\(s_{k,n}=\displaystyle\sum_{i=1}^ni^k\)</span><span class="math display">\[\begin{aligned}n^{k+1}&amp;=\sum_{i=1}^n(i^{k+1}-(i-1)^{k+1})\\&amp;=\sum_{i=1}^n[i^{k+1}+\sum_{j=0}^{k+1}\dbinom{k+1}{j}i^j(-1)^{k-j}]\\&amp;=\sum_{i=1}^n[i^{k+1}-i^{k+1}+\sum_{j=0}^{k}\dbinom{k+1}{j}i^j(-1)^{k-j}]\\&amp;=\sum_{i=1}^n\sum_{j=0}^{k}\dbinom{k+1}{j}i^j(-1)^{k-j}\\&amp;=\sum_{j=0}^{k}(-1)^{k-j}\dbinom{k+1}{j}\sum_{i=1}^ni^j\\&amp;=\sum_{j=0}^{k}(-1)^{k-j}\dbinom{k+1}{j}s_{j,n}\\&amp;=\sum_{j=0}^{k-1}(-1)^{k-j}\dbinom{k+1}{j}s_{j,n}+(k+1)s_{k,n}\Rightarrows_{k,n}=\dfrac{1}{k+1}[n^{k+1}-\sum_{j=0}^{k-1}(-1)^{k-j}\dbinom{k+1}{j}s_{j,n}]\end{aligned}\]</span></p><blockquote><p><strong>拉格朗日插值法</strong></p><p>令 <span class="math inline">\(f(n) = \sum_{i=1}^n i^k\)</span>，最后一项为 <span class="math inline">\(n^k\)</span> ，由于是 <spanclass="math inline">\(n\)</span> 个数相加，所以结果为 <spanclass="math inline">\(k+1\)</span> 次，于是需要 <spanclass="math inline">\(k+2\)</span> 组 <spanclass="math inline">\((x_i,f(x_i))\)</span> 才能求出 <spanclass="math inline">\(f(n)\)</span> （如果 <spanclass="math inline">\(n\le k+2\)</span> 就直接暴力求），我们取 <spanclass="math inline">\(x_i=i\)</span> ，并计算出对应的 <spanclass="math inline">\(f(i)\)</span> 即可求出任意 <spanclass="math inline">\(f(n),n&gt;k+2\)</span> 。 <spanclass="math display">\[\begin{aligned}f(n) = \sum_{i=1}^n i^k &amp;= \sum_{i=1}^{k+2} f(x_i) \prod_{i \ne j}\frac{n-x_i}{x_j-x_i} \\&amp;= \sum_{i=1}^{k+2} f(i) \prod_{i=1,i \ne j}^{k+2} \frac{n-i}{j-i}\\&amp;= \sum_{i=1}^{k+2} f(i) \frac{\prod_{i=1,i \ne j}^{k+2}(n-i)}{\prod_{i=1,i \ne j}^{k+2} (j-i)} \\&amp;= \sum_{i=1}^{k+2} f(i) \frac{\prod_{j = 1}^{k+2} (n-j)}{n-i}\times \frac{(-1)^{k+2-i}}{(i-1)!(k+2-i)!} \\&amp;= \prod_{j = 1}^{k+2} (n-j) \sum_{i=1}^{k+2} \frac{(-1)^{k-i}f(i)}{(n-i)(i-1)!(k+2-i)!} \\\end{aligned}\]</span> 预处理出阶乘、阶乘逆元即可快速求出自然幂数和。</p></blockquote><h3 id="卡特兰数">卡特兰数</h3><p>卡特兰数 <span class="math inline">\(C(n)\)</span> 定义为凸 <spanclass="math inline">\(n+2\)</span> 边形不同的三角剖分数。 <spanclass="math display">\[C(1)=1,C(2)=2,C(3)=5,C(4)=14,C(5)=42,C(6)=132,\cdots\]</span> 根据这个定义，可得递推公式： <span class="math display">\[C(n)=\sum_{i=0}^{n-1}C(i)C(n-i-1)\]</span> 卡特兰数有若干种等价定义。例如：</p><ul><li><span class="math inline">\(n\)</span> 个数按 <spanclass="math inline">\(1\sim n\)</span> 的次序入栈，不同的出栈序列数为<span class="math inline">\(C(n)\)</span> 。</li><li><span class="math inline">\(n\)</span>个点的二叉搜索树个数（即根的序号大于左儿子，小于右儿子）为 <spanclass="math inline">\(C(n)\)</span> 。</li><li><span class="math inline">\(n\)</span> 个 <spanclass="math inline">\(1\)</span> 和 <spanclass="math inline">\(n\)</span> 个 <spanclass="math inline">\(-1\)</span> 组成一个长 <spanclass="math inline">\(2n\)</span>的序列，且满足序列的所有前缀和都非负，序列数量为 <spanclass="math inline">\(C(n)\)</span> 。</li></ul><p>卡特兰数的通项和递推式： <span class="math display">\[\begin{aligned}C(n)&amp;=\dbinom {2n}n-\dbinom {2n}{n+1}\\\\C(n)&amp;=\dfrac {\dbinom{2n}n}{n+1}\\C(n)&amp;=C(n-1)·\dfrac{4n-2}{n+1}.\end{aligned}\]</span></p><h3 id="卢卡斯定理">卢卡斯定理</h3><p><span class="math display">\[\dbinom nm \mod p=\dbinom {\lfloor \dfrac{n}{p}\rfloor}{\lfloor \dfrac{m}{p}\rfloor} \dbinom {n\operatorname{mod}p}{m\operatorname{mod}p} \modp\]</span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">ll <span class="hljs-title">C</span><span class="hljs-params">(<span class="hljs-type">int</span> n,<span class="hljs-type">int</span> m)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(n&lt;m)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> fac[n]*inf[m]%p*inf[n-m]%p;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">lucas</span><span class="hljs-params">(<span class="hljs-type">int</span> n,<span class="hljs-type">int</span> m)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(n&lt;m)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(n&lt;p)<span class="hljs-keyword">return</span> <span class="hljs-built_in">C</span>(n,m);<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">lucas</span>(n/p,m/p)*<span class="hljs-built_in">C</span>(n%p,m%p)%p;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>证明</strong></p><p>设 <span class="math inline">\(n=sp+q,m=tp+r\)</span> ，且 <spanclass="math inline">\(0\le q,r&lt;p\)</span> ，构造多项式 <spanclass="math display">\[(1+x)^n=(1+x)^{sp+q}=((1+x)^p)^s(1+x)^q\]</span> 因为对任意的 <spanclass="math inline">\(1&lt;i&lt;p,p\mid\dbinom{p}{i}\)</span> ，所以<span class="math display">\[(1+x)^p=1+x^p\mod p\]</span> 所以 <span class="math display">\[(1+x)^{sp+q}=(1+x^p)^s(1+x)^q=\sum_{i=0}^s\dbinomsix^{ip}·\sum_{j=0}^q\dbinom qjx^j\mod p\]</span> 比较等式两端 <span class="math inline">\(x^{tp+r}\)</span>的系数，则有 <span class="math display">\[\dbinom {sp+q}{tp+r}=\dbinom st\dbinom qr\]</span> 即定理得证。</p></blockquote><h3 id="康托展开">康托展开</h3><p><del>咕咕咕</del></p><blockquote><p><ahref="https://oi-wiki.org/math/combinatorics/cantor/">康托展开-OI-wiki</a></p></blockquote><h3 id="鸽巢原理">鸽巢原理</h3><p><span class="math inline">\(n\)</span> 物品入 <spanclass="math inline">\(k\)</span> 盒，至少 <spanclass="math inline">\(1\)</span> 盒的物品 <spanclass="math inline">\(\ge \lceil\dfrac nk\rceil\)</span></p><h2 id="概率和期望">概率和期望</h2><h3 id="概率">概率</h3><p>概率就是一件事 <span class="math inline">\(A\)</span>发生的可能性，记作 <span class="math inline">\(P(A)\)</span> 。</p><p><span class="math inline">\(P(A)\)</span> 是一个 <spanclass="math inline">\([0,1]\)</span> 之间的实数。</p><p>如果 <span class="math inline">\(P(A)=0\)</span> ，则 <spanclass="math inline">\(A\)</span> 是不可能事件；</p><p>如果 <span class="math inline">\(P(A)=1\)</span> ，则 <spanclass="math inline">\(A\)</span> 是必然事件；</p><p>如果 <span class="math inline">\(P(A)\in(0,1)\)</span> ，则 <spanclass="math inline">\(A\)</span> 是随机事件。</p><h3 id="互斥事件">互斥事件</h3><p>如果 <span class="math inline">\(A\)</span> 和 <spanclass="math inline">\(B\)</span> 不同时发生，即 <spanclass="math inline">\(P(AB)=0\)</span> ，则称 <spanclass="math inline">\(A\)</span> 和 <spanclass="math inline">\(B\)</span> 是互斥事件。</p><p>如果它们总有一个会发生，即 <spanclass="math inline">\(P(A)+P(B)=1\)</span> ，则称 <spanclass="math inline">\(A\)</span> 和 <spanclass="math inline">\(B\)</span> 是对立事件，此时记 <spanclass="math inline">\(B=\overline{A}\)</span> 。</p><p>如果 <span class="math inline">\(n\)</span>个互斥事件等概率发生（且总有一个会发生），则每个事件的概率都是 <spanclass="math inline">\(\dfrac 1n\)</span> 。</p><h3 id="无关事件">无关事件</h3><p>如果 <span class="math inline">\(A\)</span> 发生与否不影响发生的概率，则称 <span class="math inline">\(A\)</span> 和 <spanclass="math inline">\(B\)</span> 是无关事件。</p><p>此时有 <span class="math inline">\(P(AB)=P(A)P(B)\)</span> 。</p><p>多数概率题的答案都是“方案数/总方案数”！</p><h3 id="概率容斥">概率容斥</h3><p>概率的容斥公式与集合的容斥公式类似，这里仅举三个事件的例子： <spanclass="math display">\[P(A\cup B\cup C)=P(A)+P(B)+P(C)-P(AB)-P(AC)-P(BC)+P(ABC)\]</span></p><h3 id="二项分布">二项分布</h3><p><span class="math inline">\(n\)</span>次独立重复事件，每次事件发生的概率为 <spanclass="math inline">\(p\)</span> ，则事件发生 <spanclass="math inline">\(i\)</span> 次的概率为 <spanclass="math display">\[P(X=i)=\dbinom nip^i(1-p)^{n-i}\]</span></p><blockquote><p><strong>背景</strong></p><p>在 <span class="math inline">\(n\)</span>次独立重复的伯努利试验中，设每次试验中事件 <spanclass="math inline">\(A\)</span> 发生的概率为 <spanclass="math inline">\(p\)</span> 。用 <spanclass="math inline">\(X\)</span> 表示 <spanclass="math inline">\(n\)</span> 重伯努利试验中事件 <spanclass="math inline">\(A\)</span> 发生的次数，则 <spanclass="math inline">\(X\)</span> 的可能取值为 <spanclass="math inline">\(0,1,\cdots,n\)</span> ，且对每一个 <spanclass="math inline">\(k(0\le k\le n)\)</span> 事件 <spanclass="math inline">\(\{X=k\}\)</span> 即为“ <spanclass="math inline">\(n\)</span> 次试验中事件 <spanclass="math inline">\(A\)</span> 恰好发生 <spanclass="math inline">\(K\)</span> 次”，随机变量 <spanclass="math inline">\(X\)</span> 的离散概率分布即为二项分布（BinomialDistribution）。</p></blockquote><h3 id="超几何分布">超几何分布</h3><p><span class="math inline">\(n\)</span> 个物品，<spanclass="math inline">\(m\)</span> 个特殊物品，随机选择 <spanclass="math inline">\(k\)</span> 个，则选出 <spanclass="math inline">\(i\)</span> 个特殊物品的概率为 <spanclass="math display">\[P(X=i)=\dfrac {\dbinom mi\dbinom {n-m}{k-i}}{\dbinom nk}\]</span></p><h3 id="条件概率">条件概率</h3><p><span class="math inline">\(B\)</span> 在 <spanclass="math inline">\(A\)</span> 发生的前提下发生的概率为 <spanclass="math inline">\(P(B\mid A)\)</span> 。</p><p>对于任意事件 <span class="math inline">\(A,B\)</span> ，都有 <spanclass="math inline">\(P(AB)=P(A)P(B\mid A)\)</span> ，</p><p>如果是多个事件，可以推广 <spanclass="math inline">\(P(ABC)=P(A)P(B\mid A)P(C\mid AB)\)</span> 。</p><h3 id="全概率公式">*全概率公式</h3><p><spanclass="math inline">\(P(B)=P(A)P(B|A)+P(\overline{A})P(B|\overline{A})\)</span>。</p><p>若 <span class="math inline">\(A_1,A_2,\cdots ,A_n\)</span>互斥，且恰有一个会发生，则</p><p><span class="math inline">\(P(B)=P(A_1)P(B|A_1)+P(A_2)P(B|A_2)+\cdots+P(A_n)P(B|A_n)\)</span> 。</p><h3 id="离散随机变量的期望">离散随机变量的期望</h3><p>若一个随机量 <span class="math inline">\(X\)</span> 有 <spanclass="math inline">\(n\)</span> 种可能取值，取值为 <spanclass="math inline">\(a_i\)</span> 的概率为 <spanclass="math inline">\(P(X=a_i)\)</span> ，则定义 <spanclass="math inline">\(X\)</span> 的期望为 <span class="math display">\[E(x)=\sum_{i=1}^na_iP(X=a_i)\]</span></p><h3 id="期望的线性性">期望的线性性</h3><p><span class="math display">\[E(aX+bY)=aE(X)+bE(Y)\]</span></p><h3 id="相互独立的值的期望">相互独立的值的期望</h3><p>当 <span class="math inline">\(X,Y\)</span>两个随机量互相独立（即一个量的取值不影响另一个）时，<spanclass="math inline">\(E(XY)=E(X)E(y)\)</span> 。</p><h3 id="期望递推">期望递推</h3><p>有点类似于DP的思想。</p><p>如果一个状态由若干的前驱状态转移而来，且前驱状态的期望和转移来的概率均已知，那么我们就可以通过递推来求出这个状态的期望，而无需从头开始求。</p><h3 id="期望dp">期望DP</h3><p>咕咕咕</p><h2 id="扩展阅读">扩展阅读</h2><blockquote><p><ahref="https://oi-wiki.org/math/combinatorics/combination/">组合数学OI-wiki</a></p></blockquote><blockquote><p><a href="https://oi-wiki.org/math/expectation/">概率论OI-wiki</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>数学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>高斯消元</title>
    <link href="/posts/55f2dbb7.html"/>
    <url>/posts/55f2dbb7.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="有唯一解的方程组">有唯一解的方程组</h2><h3 id="方程组的矩阵形式">方程组的矩阵形式</h3><p>对于一个 <span class="math inline">\(n\)</span> 元一次方程组， <spanclass="math display">\[\left\{\begin{array}{aligned}a_{1,1}x_1+a_{1,2}x_2+\cdots +a_{1,n}x_n=b_1\\a_{2,1}x_1+a_{2,2}x_2+\cdots +a_{2,n}x_n=b_2\\\cdots \\a_{n,1}x_1+a_{2,2}x_2+\cdots +a_{n,n}x_n=b_n.\end{array}\right.\]</span> 我们可以将它写成矩阵乘法： <span class="math display">\[\begin{pmatrix}a_{1,1}&amp;a_{1,2}&amp;\cdots &amp;a_{1,n}\\a_{2,1}&amp;a_{2,2}&amp;\cdots &amp;a_{2,n}\\\vdots&amp;\vdots&amp;\ddots&amp;\vdots\\a_{n,1}&amp;a_{n,2}&amp;\cdots&amp;a_{n,n}\end{pmatrix}\begin{pmatrix}x_1\\x_2\\\vdots\\x_n\end{pmatrix}=\begin{pmatrix}b_1\\b_2\\\vdots\\b_n\end{pmatrix}\]</span></p><h3 id="矩阵的初等变换">矩阵的初等变换</h3><p>交换矩阵的两行（列）（交换两个方程）；</p><p>将矩阵的某一行（列）乘一个常数（给一个方程两边同时乘一个常数）；</p><p>将矩阵的某一行（列）加上另一行（列）的常数倍（一个方程加上另一个方程的常数倍）；</p><p>这三种变换统称为矩阵的<strong>初等变换</strong>。</p><h3 id="消元法">消元法</h3><p>初中已经证明过：一次方程组或有唯一解，或无解，或有无穷多解。</p><p>我们先考虑方程有唯一解的情况。无解和无穷多解的情况最后再讨论。</p><p>我们在消元法解方程组时，就是通过这三种变换来将左边的系数矩阵化为<strong>单位矩阵</strong>，然后直接解出<span class="math inline">\(x_1,\cdots ,x_n\)</span> 。</p><p>这里详细讲一下消第一列的方法，后面类似。</p><p>如果 <span class="math inline">\(a_{1,1}=0\)</span> ，则找到下面某个<span class="math inline">\(a_{i,1}\)</span> 的行，并将第一行与第 <spanclass="math inline">\(i\)</span> 行交换。每一行的 <spanclass="math inline">\(a_{i,1}\)</span> 均为 <spanclass="math inline">\(0\)</span> ，则 <spanclass="math inline">\(x_1\)</span>是自由元（可以取任意值），方程非唯一解。</p><p>把第一行除以 <span class="math inline">\(a_{1,1}\)</span> ，使 <spanclass="math inline">\(a_{1,1}\)</span> 变成 <spanclass="math inline">\(1\)</span> 。</p><p>然后对除第一行外的每一行，第 <span class="math inline">\(i\)</span>行减去第一行的 <span class="math inline">\(a_{i,1}\)</span> 倍，使 <spanclass="math inline">\(a_{i,1}\)</span> 变成 <spanclass="math inline">\(0\)</span> 。</p><p>此时第一列除第一行以外都是 <span class="math inline">\(0\)</span>了。</p><p>再以同样做法处理第 <span class="math inline">\(2,3,\cdots ,n\)</span>列，如果方程有唯一解，那么这个矩阵将成为单位矩阵。此时的 <spanclass="math inline">\(b_1\cdots b_n\)</span> 就是解。</p><p>下面我们先给出在实数集下线性方程组的消元法。当 <spanclass="math inline">\(|a_{i,i}|&lt;\epsilon\)</span> 时，我们认为 <spanclass="math inline">\(a_{i,i}=0\)</span> 。</p><p>方便起见，我们直接将 <span class="math inline">\(b_i\)</span> 存在<span class="math inline">\(a_{i,n+1}\)</span> 的位置。</p><p>注意这里没有区分无解和无穷多解。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)&#123;<br>    <span class="hljs-type">int</span> pos=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i;j&lt;=n;++j)<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">fabs</span>(a[j][i])&gt;eps)<br>            &#123;pos=j;<span class="hljs-keyword">break</span>;&#125;<br>    <span class="hljs-keyword">if</span>(!pos)<br>        <span class="hljs-keyword">return</span> !<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No Solution\n&quot;</span>);<br>    <span class="hljs-keyword">if</span>(pos!=i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">1</span>;j&lt;=n+<span class="hljs-number">1</span>;++j)<br>            <span class="hljs-built_in">swap</span>(a[i][j],a[pos][j]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=n+<span class="hljs-number">1</span>;j&gt;=i;--j)a[i][j]/=a[i][i];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">1</span>;j&lt;=n;++j)<span class="hljs-keyword">if</span>(j!=i)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k=n+<span class="hljs-number">1</span>;k&gt;=i;--k)<br>            a[j][k]-=a[i][k]*a[j][i];<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>相对应地，我们给出模 <span class="math inline">\(p\)</span>意义下线性方程组的消元法：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)&#123;<br>    <span class="hljs-type">int</span> pos=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i;j&lt;=n;++j)<br>        <span class="hljs-keyword">if</span>(a[j][i])<br>            &#123;pos=j;<span class="hljs-keyword">break</span>;&#125;<br>    <span class="hljs-keyword">if</span>(!pos)<br>        <span class="hljs-keyword">return</span> !<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No Solution\n&quot;</span>);<br>    <span class="hljs-keyword">if</span>(pos!=i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">1</span>;j&lt;=n+<span class="hljs-number">1</span>;++j)<br>            <span class="hljs-built_in">swap</span>(a[i][j],a[pos][j]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=n+<span class="hljs-number">1</span>;j&gt;=i;--j)a[i][j]=a[i][j]*<span class="hljs-built_in">inv</span>(a[i][i])%mod;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">1</span>;j&lt;=n;++j)<span class="hljs-keyword">if</span>(j!=i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k=n+i;k&gt;=i;--k)<br>            a[j][k]=(a[j][k]-a[i][k]*a[j][i]%mod+mod)%mod;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="无解和无穷多解的方程组">无解和无穷多解的方程组</h2><p>上面的消元法只能求出唯一解的情况。但解不唯一可能会无解也可能会无穷多解。</p><p>假设我们当前做到第 <span class="math inline">\(i\)</span> 行，第<span class="math inline">\(j\)</span>列（因为有自由元，所以行列可能处理的不一样）</p><p>当出现自由元时，我们变换后的矩阵会有一列 <spanclass="math inline">\(0\)</span> ，例如这种形式： <spanclass="math display">\[\begin{pmatrix}1&amp;&amp;*&amp;*&amp;\dots&amp;*\\&amp;1&amp;*&amp;*&amp;\dots&amp;*\\&amp;&amp;&amp;*&amp;\cdots &amp;*\\&amp;&amp;&amp;*&amp;\cdots &amp;*\\\vdots&amp;\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;\vdots\\&amp;&amp;&amp;*&amp;\cdots &amp;*\end{pmatrix}\]</span> 即消元结束后，自由元那一<strong>列</strong>从第 <spanclass="math inline">\(i\)</span> 行开始都是 <spanclass="math inline">\(0\)</span> 而第 <spanclass="math inline">\(i\)</span> 行以上不是 <spanclass="math inline">\(0\)</span> 。</p><p>此时，我们不直接退出，而是继续考虑第 <spanclass="math inline">\(j+1\)</span> 列，将下一列非 <spanclass="math inline">\(0\)</span> 的方程换到第 <spanclass="math inline">\(i\)</span> 行上。</p><p>如果下一列不是自由元，那么在一轮消元后，矩阵会变成这样： <spanclass="math display">\[\begin{pmatrix}1&amp;&amp;*&amp;&amp;\dots&amp;*\\&amp;1&amp;*&amp;&amp;\dots&amp;*\\&amp;&amp;&amp;1&amp;\cdots &amp;*\\&amp;&amp;&amp;&amp;\cdots &amp;*\\&amp;&amp;\vdots&amp;&amp;\ddots&amp;\\&amp;&amp;&amp;&amp;\cdots &amp;*\end{pmatrix}\]</span> 此时再处理第 <span class="math inline">\(i+1\)</span>行。否则只要这一列仍是自由元，就继续处理第 <spanclass="math inline">\(i\)</span> 行。</p><p>可以发现，每一列非零元素的最后一行形成了一个“阶梯”。也就是最终的矩阵会变成这样：<span class="math display">\[\begin{pmatrix}1&amp;&amp;*&amp;&amp;*&amp;&amp;\cdots&amp;\\&amp;1&amp;*&amp;&amp;*&amp;&amp;\cdots&amp;\\&amp;&amp;&amp;1&amp;*&amp;&amp;\cdots&amp;\\&amp;&amp;&amp;&amp;&amp;1&amp;\cdots&amp;\\\vdots&amp;\vdots&amp;\vdots&amp;\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;\vdots\\&amp;&amp;&amp;&amp;&amp;&amp;\cdots&amp;1\\\\&amp;&amp;\vdots&amp;&amp;\vdots&amp;&amp;\vdots\\\\\end{pmatrix}\]</span> （ <span class="math inline">\(*\)</span> 代表任意实数，可能是<span class="math inline">\(0\)</span> 也可能不是；空白位置都是 <spanclass="math inline">\(0\)</span> ）</p><p>假设我们有 <span class="math inline">\(k\)</span>个自由元，那么最后就会有 <span class="math inline">\(k\)</span> 行是全<span class="math inline">\(0\)</span> 行。此时我们看这些行的 <spanclass="math inline">\(b_i\)</span> 是否为 <spanclass="math inline">\(0\)</span> 。</p><p>如果有至少一项非 <span class="math inline">\(0\)</span>，则方程无解；否则方程（在实数集）有无穷多解。</p><blockquote><p><a href="https://oi-wiki.org/math/gauss/">高斯消元-OI wiki</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>数学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>矩阵乘法</title>
    <link href="/posts/aab28558.html"/>
    <url>/posts/aab28558.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="矩阵的定义和基本运算">矩阵的定义和基本运算</h2><h3 id="矩阵的定义">矩阵的定义</h3><p><span class="math inline">\(n\times m\)</span> 个元素有顺序地排成<span class="math inline">\(n\)</span> 行 <spanclass="math inline">\(m\)</span> 列，就形成了一个矩阵，记作 <spanclass="math inline">\(A\in R^{n \times m}\)</span> 。 <spanclass="math display">\[A=\begin{pmatrix}a_{1,1}&amp; a_{1,2}&amp; a_{1,3} \\a_{2,1}&amp; a_{2,2}&amp; a_{2,3}\\\end{pmatrix}\]</span> 例如上面 <span class="math inline">\(A\)</span> 就是一个 <spanclass="math inline">\(2\times3\)</span> 矩阵。记作 <spanclass="math inline">\(A=(a_{i,j})_{2\times3}\inR^{2\times3}\)</span>。</p><p>若 <span class="math inline">\(n=m\)</span> ，则称 <spanclass="math inline">\(A=(a_{i,j})_{n\times n}\)</span> 为 <spanclass="math inline">\(n\)</span> 阶方阵。</p><h3 id="矩阵的加减运算">矩阵的加减运算</h3><p>当 <span class="math inline">\(A,B\)</span> 的行、列数都相同时，<spanclass="math inline">\(A+B\)</span> 和 <spanclass="math inline">\(A-B\)</span> 是有定义的。</p><p>若 <span class="math inline">\(A=(a_{i,j})_{n \timesm},B=(b_{i,j})_{n \times m}\)</span>，则 <spanclass="math inline">\(A+B=(a_{i,j}+b_{i,j})_{n \timesm},A-B=(a_{i,j}-b_{i,j})_{n \times m}\)</span> 。</p><p>例如： <span class="math display">\[A=\begin{pmatrix}1&amp;2&amp;3\\-1&amp;4&amp;2\\\end{pmatrix},B=\begin{pmatrix}2&amp;4&amp;-1\\3&amp;-3&amp;5\end{pmatrix},\\A+B=\begin{pmatrix}3&amp;6&amp;2\\2&amp;1&amp;7\end{pmatrix}\\A-B=\begin{pmatrix}-1&amp;-2&amp;4\\-4&amp;7&amp;-3\end{pmatrix}\]</span> 矩阵加法满足交换律和结合律。</p><h3 id="矩阵的乘法运算">矩阵的乘法运算</h3><p>当 <span class="math inline">\(A\)</span> 的列数与 <spanclass="math inline">\(B\)</span> 的行数相同时，<spanclass="math inline">\(AB\)</span> 是有定义的。</p><p>若 <spanclass="math inline">\(A=(a_{i,j})_{n×p},B=(b_{i,j})_{p×m}\)</span> ，则<spanclass="math inline">\(AB=(\sum_{k=1}^pa_{i,k}b_{k,j})_{n×m}\)</span>。</p><p>例如： <span class="math display">\[A=\begin{pmatrix}1&amp;3&amp;5\\-1&amp;4&amp;-2\end{pmatrix},B=\begin{pmatrix}-2&amp;5\\3&amp;-1\\7&amp;6\end{pmatrix}\\AB=\begin{pmatrix}42&amp;32\\0&amp;-21\end{pmatrix}\]</span>矩阵乘法满足结合律和分配律，<strong>不满足交换律</strong>。</p><p>当 <span class="math inline">\(n\ne m\)</span> 时，<spanclass="math inline">\(BA\)</span> 不存在；当 <spanclass="math inline">\(n=m\)</span> 但 <span class="math inline">\(n\nep\)</span> 时，<span class="math inline">\(BA\)</span> 和 <spanclass="math inline">\(AB\)</span> 的阶数不同；即使当 <spanclass="math inline">\(n=m=p\)</span> 时，<spanclass="math inline">\(AB=BA\)</span> 也不一定成立。例如： <spanclass="math display">\[A=\begin{pmatrix}1&amp;1\\1&amp;0\\\end{pmatrix},B=\begin{pmatrix}1&amp;0\\1&amp;1\\\end{pmatrix}\\AB=\begin{pmatrix}2&amp;1\\1&amp;0\\\end{pmatrix},BA=\begin{pmatrix}1&amp;1\\2&amp;1\end{pmatrix}\]</span> 下面我们用运算符重载实现 <spanclass="math inline">\(n\)</span>阶方阵的加减乘运算（一般来说矩阵的题结果也要对某个大质数取模）。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> n;<span class="hljs-comment">//n由题目决定。如果题中有多个阶数不同的矩阵，就在结构体里存n。</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">mat</span>&#123;<br>    ll a[N][N];<br>    <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">mat</span><span class="hljs-params">(<span class="hljs-type">int</span> op=<span class="hljs-number">0</span>)</span></span>&#123;<br>        <span class="hljs-built_in">memset</span>(a,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(a));<br>        <span class="hljs-keyword">if</span>(op)<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;++i)a[i][i]=<span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">inline</span> <span class="hljs-type">const</span> ll* <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> x)<span class="hljs-type">const</span>&#123;<span class="hljs-keyword">return</span> a[x];&#125;<br>    <span class="hljs-keyword">inline</span> ll* <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> x)&#123;<span class="hljs-keyword">return</span> a[x];&#125;<br>    <span class="hljs-keyword">inline</span> mat <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> mat&amp; b)<span class="hljs-type">const</span>&#123;<br>        mat c;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;n;++j)<br>                c[i][j]=(a[i][j]+b[i][j])%mod;<br>        <span class="hljs-keyword">return</span> c;<br>    &#125;<br>    <span class="hljs-keyword">inline</span> mat <span class="hljs-keyword">operator</span>-(<span class="hljs-type">const</span> mat&amp; b)<span class="hljs-type">const</span>&#123;<br>        mat c;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;n;++j)<br>                c[i][j]=(a[i][j]-b[i][j]+mod)%mod;<br>        <span class="hljs-keyword">return</span> c;<br>    &#125;<br>    <span class="hljs-keyword">inline</span> mat <span class="hljs-keyword">operator</span>*(<span class="hljs-type">const</span> mat&amp; b)<span class="hljs-type">const</span>&#123;<br>        mat c;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;n;++j)<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k=<span class="hljs-number">0</span>;k&lt;n;++k)<br>                    (c[i][j]+=a[i][k]*b[k][j])%=mod;<br>        <span class="hljs-keyword">return</span> c;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>矩阵加减法复杂度为 <spanclass="math inline">\(\mathcal{O}(n^2)\)</span> ，乘法复杂度 <spanclass="math inline">\(\mathcal{O}(n^3)\)</span> 。</p><p>这里如果初始化参数为 <span class="math inline">\(0\)</span>则初始为零矩阵 <span class="math inline">\(O\)</span> ，参数为 <spanclass="math inline">\(1\)</span> 则初始为单位矩阵 <spanclass="math inline">\(I_n\)</span> 。</p><h3 id="矩阵的转置运算">矩阵的转置运算</h3><p>定义 <span class="math inline">\(A=(a_{i,j})_{n×m}\)</span> 的转置为<span class="math inline">\(A^T=(a_{j,i})_{m×n}\)</span> 。</p><p>例如： <span class="math display">\[A=\begin{pmatrix}1&amp;3&amp;4\\-1&amp;2&amp;-4\end{pmatrix},A^T=\begin{pmatrix}1&amp;-1\\3&amp;2\\4&amp;-4\end{pmatrix}\]</span></p><h3 id="特殊矩阵">特殊矩阵</h3><ul><li><strong>上三角矩阵</strong>：当 <spanclass="math inline">\(i&gt;j\)</span> 时，<spanclass="math inline">\(a_{i,j}=0\)</span> 。</li><li><strong>下三角矩阵</strong>：当 <spanclass="math inline">\(i&lt;j\)</span> 时，<spanclass="math inline">\(a_{i,j}=0\)</span> 。</li><li><strong>对称矩阵</strong>：任意 <spanclass="math inline">\(i,j\)</span>，<spanclass="math inline">\(a_{i,j}=a_{j,i}\)</span> 。即 <spanclass="math inline">\(A=A^T\)</span> 。</li><li><strong>对角矩阵</strong>：是方阵，且当 <spanclass="math inline">\(i\ne j\)</span> 时，<spanclass="math inline">\(a_{i,j}=0\)</span> ，记为 <spanclass="math inline">\(\text{diag}(a_1,a_2,\cdots ,a_n)\)</span> 。</li><li><strong>循环矩阵</strong>：是方阵，且对任意的 <spanclass="math inline">\(i,j\)</span> 均有 <spanclass="math inline">\(a_{i,j}=a_{i\%n+1,j\%n+1}\)</span></li><li>（ <span class="math inline">\(n\)</span>阶）<strong>单位矩阵</strong>：<spanclass="math inline">\(I_n=\text{diag}(1,1,\cdots ,1)\)</span> 。</li></ul><p>例如： <span class="math display">\[\begin{aligned}A=&amp;\begin{pmatrix}1&amp;-3&amp;4\\&amp;2&amp;1\\&amp;&amp;-2\\\end{pmatrix}\\ \\B=&amp;\begin{pmatrix}1&amp;&amp;\\5&amp;3&amp;\\4&amp;1&amp;-2\\\end{pmatrix}\\ \\S=&amp;\begin{pmatrix}1&amp;3&amp;4\\3&amp;-4&amp;2\\4&amp;2&amp;-2\\\end{pmatrix}\\ \\D=&amp;\begin{pmatrix}1&amp;&amp;\\&amp;4&amp;\\&amp;&amp;-3\\\end{pmatrix}\\ \\C=&amp;\begin{pmatrix}1&amp;2&amp;3\\3&amp;1&amp;2\\2&amp;3&amp;1\\\end{pmatrix}\\ \\I=&amp;\begin{pmatrix}1&amp;&amp;\\&amp;1&amp;\\&amp;&amp;1\\\end{pmatrix}\end{aligned}\]</span> 以上矩阵（单位矩阵除外）对于加减乘 <del>除</del>运算均封闭。例如两个上三角矩阵相乘仍为上三角矩阵。</p><p>单位矩阵的性质：对任意的 <span class="math inline">\(A\inR^{n×n}\)</span> 均有 <span class="math inline">\(IA=AI=A\)</span>。</p><h2 id="矩阵加速数列递推">矩阵加速数列递推</h2><p>矩阵等价于一个<strong>线性变换</strong>，可以理解为将一组数通过互相加减常数倍的方式变换为新的一组数。</p><p>例如： <span class="math display">\[T(x,y,z)=(2x+y,3x-z,x-y+4z)\]</span> 它对应的矩阵就是 <span class="math display">\[A=\begin{pmatrix}2&amp;3&amp;1\\1&amp;0&amp;-1\\0&amp;-1&amp;4\end{pmatrix}\]</span> <spanclass="math inline">\(T(x,y,z)=\begin{pmatrix}x&amp;y&amp;z\end{pmatrix}A\)</span>。</p><p>每个 <span class="math inline">\(n\)</span>维向量的线性变换都唯一对应着一个 <span class="math inline">\(n\timesn\)</span> 矩阵。</p><p>线性变换的复合对应着矩阵乘法。即 <spanclass="math inline">\(U(T(v))=vAB\)</span> （ <spanclass="math inline">\(v\)</span> 是一个向量）。</p><p>重载运算符后，矩阵快速幂和整数的快速幂一样做。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">inline</span> mat <span class="hljs-title">qpow</span><span class="hljs-params">(mat x,<span class="hljs-type">int</span> y)</span></span>&#123;<br>    mat res=<span class="hljs-built_in">mat</span>(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(;y;y&gt;&gt;=<span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">if</span>(y&amp;<span class="hljs-number">1</span>)res=res*x;<br>        x=x*x;<br>    &#125;<span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><p>数列递推问题的目标就是让 <spanclass="math inline">\(\begin{pmatrix}x_n&amp;\cdots\end{pmatrix}\)</span> 通过乘转移矩阵 <spanclass="math inline">\(T\)</span> 得到 <spanclass="math inline">\(\begin{pmatrix}x_{n+1}&amp;\cdots\end{pmatrix}\)</span></p><h2 id="倍增floyd算法">倍增Floyd算法</h2><p>如果我们把一张有向无边权图的邻接矩阵 <spanclass="math inline">\(A\)</span> 自乘得到 <spanclass="math inline">\(A^2\)</span> ，会得到什么？</p><p>这相当于对每一对点 <span class="math inline">\((i,j)\)</span>，我们都枚举了一遍所有的 <span class="math inline">\(k\)</span> ，只要<span class="math inline">\((i,k),(k,j)\)</span>同时存在，那么就统计一次。</p><p>因此，我们得到了所有点对间长度为 <spanclass="math inline">\(2\)</span> 的路径数！</p><p>同理，<span class="math inline">\(A^k\)</span> 就是所有点对间长度为<span class="math inline">\(k\)</span> 的路径数。</p><h2 id="操作序列问题">* 操作序列问题</h2><p>某些数据结构题目中，我们要维护一些奇怪的操作。这些操作无法简单地用标记去表示。此时往往会考虑把它们看做线性变换，并转化为矩阵解决。</p><blockquote><p><a href="https://oi-wiki.org/math/matrix/">矩阵-OI-wiki</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>数学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>线段树</title>
    <link href="/posts/8893d943.html"/>
    <url>/posts/8893d943.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>线段树是一种高效维护<strong>区间信息</strong>的数据结构，可以在 <spanclass="math inline">\(\mathcal{O}(\log n)\)</span>时间复杂度内实现单点修改、区间修改、区间查询等操作。树状数组能够解决的问题理论上都可以用线段树解决。</p><p>线段树以树形结构维护着这样一些“线段”（区间）的信息：</p><ul><li>根结点对应一条 <span class="math inline">\(1\sim n\)</span>的线段；</li><li>任何线段（ <span class="math inline">\(l\sim r\)</span> ）长度 <spanclass="math inline">\(&gt;1\)</span>的结点都有恰好两个子结点，分别对应线段 <span class="math inline">\(l\simmid\)</span> 与 <span class="math inline">\(mid+1\sim r\)</span> ，其中<span class="math inline">\(mid=\lfloor \dfrac{l+r}{2}\rfloor\)</span>。</li></ul><p>线段树上结点的深度每增大1，线段长度就折半，因此线段树深度为 <spanclass="math inline">\(\log n\)</span> ，由此保证了单点修改复杂度为 <spanclass="math inline">\(\mathcal{O}(\log n)\)</span> 。</p><p>对于任意区间，都可以在线段树上找到不重叠的至多 <spanclass="math inline">\(2\log n\)</span>条线段（每种深度至多两条）将其恰好覆盖，这保证了线段树区间操作复杂度为<span class="math inline">\(\mathcal{O}(\log n)\)</span> 。</p><p>规定根结点编号为 <span class="math inline">\(1\)</span> ，编号为<span class="math inline">\(p\)</span>的结点的两个子结点（若存在）编号为 <spanclass="math inline">\(2p\)</span> 与 <spanclass="math inline">\(2p+1\)</span> 。这样定义的结点编号最大不会超过<span class="math inline">\(4n\)</span> 。</p><blockquote><p><strong>线段树的空间</strong></p><p>如果采用堆式存储（ <span class="math inline">\(2p\)</span> 是 <spanclass="math inline">\(p\)</span> 的左儿子，<spanclass="math inline">\(2p+1\)</span> 是 <spanclass="math inline">\(p\)</span> 的右儿子），若有 <spanclass="math inline">\(n\)</span> 个叶子结点，则 <spanclass="math inline">\(d\)</span> 数组的范围最大为 <spanclass="math inline">\(2^{\left\lceil\log{n}\right\rceil+1}\)</span>。</p><p>分析：容易知道线段树的深度是 <span class="math inline">\(\lceil\logn\rceil\)</span>的，则在堆式储存情况下叶子节点（包括无用的叶子节点）数量为 <spanclass="math inline">\(2^{\left\lceil\log{n}\right\rceil}\)</span>个，又由于其为一棵完全二叉树，则其总节点个数 <spanclass="math inline">\(2^{\left\lceil\log{n}\right\rceil+1}-1\)</span>。当然如果你懒得计算的话可以直接把数组长度设为 <spanclass="math inline">\(4n\)</span> ，因为 <spanclass="math inline">\(\dfrac{2^{\lceil\log n\rceil+1}-1}{n}\)</span>的最大值在 <span class="math inline">\(n=2^{x}+1(x\in N_{+})\)</span>时取到，此时节点数为 <spanclass="math inline">\(2^{\left\lceil\log{n}\right\rceil+1}-1=2^{x+2}-1=4n-5\)</span>。</p></blockquote><p>单点修改，区间查询最大值。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> dat[N&lt;&lt;<span class="hljs-number">2</span>],val[N];<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> Mid ((l+r)&gt;&gt;1)    <span class="hljs-comment">// 这些宏定义能极大程度地帮助你简化代码，同时降低写挂的可能性</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> Len (r-l+1)</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> Root 1,1,n</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> Lpos pos&lt;&lt;1</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> Rpos Lpos|1</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> Lson Lpos,l,Mid</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> Rson Rpos,Mid+1,r</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> This pos,l,r</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">upd</span><span class="hljs-params">(<span class="hljs-type">int</span> pos)</span></span>&#123;                   <span class="hljs-comment">// 更新信息        </span><br>    dat[pos]=std::<span class="hljs-built_in">max</span>(dat[Lpos],dat[Rpos]);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">build</span> <span class="hljs-params">(<span class="hljs-type">int</span> pos,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span>&#123;           <span class="hljs-comment">// 建树</span><br>    <span class="hljs-keyword">if</span>(l==r) dat[pos]=val[l];<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">build</span>(Lson),<span class="hljs-built_in">build</span>(Rson),<span class="hljs-built_in">upd</span>(pos);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">upd</span><span class="hljs-params">(<span class="hljs-type">int</span> pos,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> p,<span class="hljs-type">int</span> v)</span></span>&#123;  <span class="hljs-comment">// 单点修改</span><br>    <span class="hljs-keyword">if</span>(l==r) <span class="hljs-keyword">return</span> dat[pos]=v,<span class="hljs-built_in">void</span>();<br>    <span class="hljs-keyword">if</span>(p&lt;=Mid)<span class="hljs-built_in">upd</span>(Lson,p,v);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">upd</span>(Rson,p,v);<br>    <span class="hljs-built_in">upd</span>(pos);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">qry</span><span class="hljs-params">(<span class="hljs-type">int</span> pos,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> L,<span class="hljs-type">int</span> R)</span></span>&#123;   <span class="hljs-comment">// 区间查询</span><br>    <span class="hljs-keyword">if</span>(L&lt;=l&amp;&amp;r&lt;=R) <span class="hljs-keyword">return</span> dat[pos];<br>    <span class="hljs-keyword">if</span>(R&lt;=Mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">qry</span>(Lson,L,R);<br>    <span class="hljs-keyword">if</span>(L&gt; Mid) <span class="hljs-keyword">return</span> <span class="hljs-built_in">qry</span>(Rson,L,R);<br>    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">max</span>(<span class="hljs-built_in">qry</span>(Lson,L,R),<span class="hljs-built_in">qry</span>(Rson,L,R)); <br>&#125;<br></code></pre></td></tr></table></figure><h3 id="区间修改与懒标记">区间修改与懒标记</h3><p>在修改区间 <span class="math inline">\([l,r]\)</span>时，如果修改所有与 <span class="math inline">\(l,r\)</span>相关的线段，那么时间复杂度将退化为<spanclass="math inline">\(\mathcal{O}(n)\)</span>。线段树通过引入<strong>懒标记</strong>把对整条线段的修改操作暂存在结点上，当需要访问子节点时再把修改操作应用到子结点上。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> val[N],dat[N&lt;&lt;<span class="hljs-number">2</span>],tag[N&lt;&lt;<span class="hljs-number">2</span>];<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">stg</span><span class="hljs-params">(<span class="hljs-type">int</span> pos,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> v)</span></span>&#123;        <span class="hljs-comment">// 添加标记</span><br>    tag[pos]+=v,dat[pos]+=Len*v;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">psd</span><span class="hljs-params">(<span class="hljs-type">int</span> pos,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span>&#123;              <span class="hljs-comment">// 下传标记</span><br>    <span class="hljs-built_in">stg</span>(Lson,tag[pos]),<span class="hljs-built_in">stg</span>(Rson,tag[pos]),tag[pos]=<span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">upd</span><span class="hljs-params">(<span class="hljs-type">int</span> pos)</span></span>&#123;<br>    dat[pos]=dat[Lpos]+dat[Rpos];<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bld</span><span class="hljs-params">(<span class="hljs-type">int</span> pos,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(l==r)dat[pos]=val[l];<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">bld</span>(Lson),<span class="hljs-built_in">bld</span>(Rson),<span class="hljs-built_in">upd</span>(pos);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">upd</span><span class="hljs-params">(<span class="hljs-type">int</span> pos,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> L,<span class="hljs-type">int</span> R,<span class="hljs-type">int</span> v)</span></span>&#123;  <span class="hljs-comment">// 区间修改</span><br>    <span class="hljs-keyword">if</span>(L&lt;=l&amp;&amp;r&lt;=R)<span class="hljs-keyword">return</span> <span class="hljs-built_in">stg</span>(This,v),<span class="hljs-built_in">void</span>();<br>    <span class="hljs-built_in">psd</span>(This);<br>    <span class="hljs-keyword">if</span>(L&lt;=Mid)<span class="hljs-built_in">upd</span>(Lson,L,R,v);<br>    <span class="hljs-keyword">if</span>(R&gt; Mid)<span class="hljs-built_in">upd</span>(Rson,L,R,v);<br>    <span class="hljs-built_in">upd</span>(pos);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">qry</span><span class="hljs-params">(<span class="hljs-type">int</span> pos,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> L,<span class="hljs-type">int</span> R)</span></span>&#123;         <span class="hljs-comment">// 区间查询</span><br>    <span class="hljs-keyword">if</span>(L&lt;=l&amp;&amp;r&lt;=R)<span class="hljs-keyword">return</span> dat[pos];<br>    <span class="hljs-built_in">psd</span>(This);<br>    <span class="hljs-keyword">if</span>(R&lt;=Mid)<span class="hljs-keyword">return</span> <span class="hljs-built_in">qry</span>(Lson,L,R);<br>    <span class="hljs-keyword">if</span>(L&gt; Mid)<span class="hljs-keyword">return</span> <span class="hljs-built_in">qry</span>(Rson,L,R);<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">qry</span>(Lson,L,R)+<span class="hljs-built_in">qry</span>(Rson,L,R);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="维护各种奇怪的东西">维护各种奇怪的东西</h3><p>概括地说：</p><ul><li>线段树维护的区间信息需要能够<strong>快速合并</strong>，并且合并运算具有<strong>结合律</strong>（即合并顺序不影响结果）；</li><li>线段树区间修改时需要快速计算出新的区间信息并且使用的懒标记需要能够<strong>合并</strong>，懒标记下放时的优先级以及互相的影响需要严格而良好的定义。</li></ul><blockquote><p><strong>懒标记的优先级</strong></p><p>当需要在线段树上同时维护<strong>多种标记</strong>时，需要仔细地考虑并安排不同标记的优先顺序，同时留意添加一种标记时可能会对其他已有标记产生影响。</p></blockquote><h3 id="树链剖分线段树">树链剖分&amp;线段树</h3><p>树链剖分能够把树上任意两点间的链拆分成至多 <spanclass="math inline">\(\log n\)</span> 条重链，而每条重链又对应着<code>dfn</code> 序中的一个区间。如果再用线段树维护按 <code>dfn</code>序拍列结点的信息，那么就可以在 <spanclass="math inline">\(\mathcal{O}(\log^2 n)\)</span>复杂度内查询出树上任意链上的信息。</p><h3 id="动态开点线段树">动态开点线段树</h3><p>当需要维护的区间很长（如 <span class="math inline">\(n=10^9\)</span>），但操作次数有限（如 <span class="math inline">\(m=10^5\)</span>）时，如果建立出完整的线段树，空间复杂度为 <spanclass="math inline">\(\mathcal{O}(n)\)</span> ，无法接受。</p><p>但可以发现每次操作涉及到的线段数为 <spanclass="math inline">\(\mathcal{O}(\log n)\)</span>级别，完成所有操作涉及到的区间个数级别为 <spanclass="math inline">\(\mathcal{O}(m\log n)\)</span>，这是一个可以接受的空间开销规模。</p><p>于是我们放弃之前用数组存储线段树上所有结点的做法，而是在访问到未创建结点时为其分配存储位置，这样的线段树叫做<strong>动态开点线段树</strong>。</p><h3 id="权值线段树">权值线段树</h3><p>与树状数组维护可重集合的 <code>count</code>数组类似，线段树也可以用来维护可重集合的 <code>count</code>数组，这样的线段树常被称作<strong>权值线段树</strong>。</p><p>在使用动态开点线段树实现权值线段树时可以放松对权值值域的限制（权值甚至可以取为负数！），这与处理较大权值时需要事先离散化的树状数组相比具有巨大的优势。</p><h3 id="线段树上二分">线段树上二分</h3><p>与树状数组上二分类似，线段树上也可以进行二分。</p><p>概括地说，线段树上二分的实质是利用线段树上当前结点及其两个子节点维护的信息快速判断要查找的位置在左右哪个区间中。</p><p>由于线段树的深度为 <span class="math inline">\(\log n\)</span>，所以线段树上二分的复杂度为 <spanclass="math inline">\(\mathcal{O}(\log n)\)</span> 。</p><h3 id="线段树优化建图">线段树优化建图</h3><p>与ST表优化建图类似，线段树也可以用于优化建图。</p><h3 id="线段树综合应用">线段树综合应用</h3><blockquote><p>在更多更灵活的题目中，线段树等数据结构往往被用来<strong>快速</strong>维护一些区间信息，即一种<strong>优化暴力的手段</strong>。</p><p>这一类问题中，数据结构的维护只是最后一步，难点往往在于想出第一步的<span class="math inline">\(\mathcal{O}(n^2)\)</span> 或 <spanclass="math inline">\(\mathcal{O}(nm)\)</span> 的暴力。</p><p>解决这类优化问题时，一般都是在得到暴力解法后，将<strong>要实现的操作</strong>都列出来，再选择合适的数据结构维护这些操作。</p><p><strong>考场上遇到这类题目一定要先写出暴力，拿到尽可能多的分数！！</strong></p><p align="right">——fr</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>树状数组</title>
    <link href="/posts/59a0de58.html"/>
    <url>/posts/59a0de58.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><strong>树状数组</strong>是一种高效地支持增量式<strong>修改单点</strong>、<strong>查询前缀和</strong>的树状数据结构，两种操作的时间复杂度都是<span class="math inline">\(\mathcal{O}(\log n)\)</span> 。</p><p>与线段树相比，树状数组有很多优势：</p><ul><li><p>常数极小，实际运行效率远优于线段树；</p></li><li><p>只使用一个数组即可实现，空间复杂度为 <spanclass="math inline">\(\Theta(n)\)</span> ；</p></li><li><p>代码简短，易于实现，<del>易于背诵</del>。</p></li></ul><p>要兼顾查询与修改的效率，就需要合适地选择一些区间进行整体维护——使查询时用到的区间数和修改时改动的区间数都尽可能少。如下是一个例子：</p><p><img src="https://s2.loli.net/2022/08/11/Tdq4hHNUaROp1xw.png" /></p><p>最下面的八个方块代表存入 <span class="math inline">\(a\)</span>中的八个数；他们上面的呈树状结构的方块就是维护着数组 <spanclass="math inline">\(a\)</span> 的树状数组 <spanclass="math inline">\(c\)</span> ，其中 <spanclass="math inline">\(c_2\)</span> 维护的是 <spanclass="math inline">\(a_1\sim a_2\)</span> ，<spanclass="math inline">\(c_4\)</span> 维护的是 <spanclass="math inline">\(a_1\sim a_4\)</span> ，<spanclass="math inline">\(c_6\)</span> 维护的是 <spanclass="math inline">\(a_5\sim a_6\)</span> ，<spanclass="math inline">\(c_8\)</span> 维护的是 <spanclass="math inline">\(a_1\sim a_8\)</span> 。</p><h3 id="lowbit">lowbit</h3><p><span class="math inline">\(\operatorname{lowbit}\)</span>是构建树状数组的理论基础。</p><p><span class="math inline">\(\operatorname{lowbit}(x)\)</span> 表示<span class="math inline">\(x\)</span> 的二进制表示中最低位的 <spanclass="math inline">\(1\)</span> 对应的值。</p><p>例如： <span class="math inline">\(x=88_{(10)}=01011000_{(2)}\)</span> ，<spanclass="math inline">\(\operatorname{lowbit}(x) = 1000_{(2)}\)</span>。</p><p>那么如何求 <spanclass="math inline">\(\operatorname{lowbit}(x)\)</span>？有符号正整数的相反数的二进制表示为：原数按位<strong>取反</strong>再<strong>加一</strong>，<spanclass="math inline">\(x\)</span> 与 <spanclass="math inline">\(-x\)</span> 在且只在 <spanclass="math inline">\(x\)</span> 的二进制表示中最低位的 <spanclass="math inline">\(1\)</span> 处均为 <spanclass="math inline">\(1\)</span> ，将两者按位与后即得到 <spanclass="math inline">\(\operatorname{lowbit}(x)\)</span> 。</p><p>即：<strong><code>lowbit(x) = x&amp;-x</code></strong>。</p><p>例如： <span class="math display">\[\begin{aligned}        x &amp;=88_{(10)} =01011000_{(2)} \\       -x &amp;= -88_{(10)} = \left(10100111_{(2)} + 1_{(2)}\right)=10101000_{(2)} \\\operatorname{lowbit}(x) &amp;= x \ \&amp; -x = 1000_{(2)}\end{aligned}\]</span> 树状数组中 <span class="math inline">\(c_j\)</span>维护的<strong>区间长度</strong>为 <spanclass="math inline">\(\operatorname{lowbit}(x)\)</span> ，即：<spanclass="math inline">\(c_j\)</span> 维护的区间为 <spanclass="math inline">\(a_{j-\operatorname{lowbit}(x+1)}\sim a_j\)</span>，即：<spanclass="math inline">\((j-\operatorname{lowbit}(j),j]\)</span> 。</p><h3 id="查询操作">查询操作</h3><p>在查询 <span class="math inline">\(a\)</span>的前缀时，只需要合并若干个 <span class="math inline">\(c_j\)</span>上的信息。</p><p>任意正整数 <span class="math inline">\(x\)</span>可以用二进制表示，比如：<span class="math inline">\(13_{(10)} = 1101_{(2)}\)</span> ；</p><p>前缀 <span class="math inline">\([1,x]\)</span> 可以按照 <spanclass="math inline">\(x\)</span> 的二进制表示中为 <spanclass="math inline">\(1\)</span> 的位置被拆成至多 <spanclass="math inline">\(\log_2 x\)</span> 个 <spanclass="math inline">\(c_j\)</span> ，保证了单次查询的复杂度为 <spanclass="math inline">\(\mathcal{O}(\log n)\)</span> 。</p><p>比如 <span class="math inline">\([1,13] = (0,1101_{(2)}]\)</span>可以拆成：</p><ol type="1"><li><span class="math inline">\(\left(1100_{(2)},1101_{(2)}\right] \\cdots \ c_{13}\)</span> ， <spanclass="math inline">\(\operatorname{lowbit}\left(1101_{(2)}\right) =1_{(2)}\)</span> ；</li><li><span class="math inline">\(\left(1000_{(2)},1100_{(2)}\right] \\cdots \ c_{12}\)</span> ， <spanclass="math inline">\(\operatorname{lowbit}\left(1100_{(2)}\right) =100_{(2)}\)</span> ；</li><li><span class="math inline">\(\left(0_{(2)},1000_{(2)}\right] \ \cdots\ c_{8}\)</span> ，<spanclass="math inline">\(\operatorname{lowbit}\left(1000_{(2)}\right) =1000_{(2)}\)</span> 。</li></ol><p>具体拆分过程如下：</p><ol type="1"><li>每次将 <span class="math inline">\(x\)</span> 作为右端点，维护的区间左(开)端点为 <spanclass="math inline">\(x-\operatorname{lowbit}(x)\)</span> ；</li><li>将原左(开)端点，作为新的右端点，即：令 <spanclass="math inline">\(x=x-\operatorname{lowbit}(x)\)</span> ；</li><li>重复以上步骤直到 <span class="math inline">\(x=0\)</span> 。</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">qry</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br>    <span class="hljs-type">int</span> res=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(;x;x-=x&amp;-x)res+=c[x];<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="更新操作">更新操作</h3><p>在更新 <span class="math inline">\(a_i\)</span>时，要同时更新所有维护范围包含 <span class="math inline">\(a_i\)</span>的 <span class="math inline">\(c_j\)</span> ，从 <spanclass="math inline">\(c\)</span> 中的结点 <spanclass="math inline">\(i\)</span>开始更新，不断跳到父节点继续更新，直到父节点超出最大维护范围为止。</p><p><span class="math inline">\(i\)</span> 的父节点 <spanclass="math inline">\(j\)</span> 应该同时满足 <spanclass="math inline">\(j&gt;i\)</span> 、<spanclass="math inline">\(\operatorname{lowbit}(j)&gt;\operatorname{lowbit}(i)\)</span>且 <span class="math inline">\(j-\operatorname{lowbit}(j)\lei-\operatorname{lowbit}(i)\)</span> ，事实上，这样的 只有一个，那就是<span class="math inline">\(j=i+\operatorname{lowbit}(i)\)</span> 。</p><p>由于每跳一次，<spanclass="math inline">\(\operatorname{lowbit}\)</span>增大，区间长度至少扩大到原来的二倍，因此单次更新中最多跳 <spanclass="math inline">\(\log n\)</span> 次就会出界，时间复杂度 <spanclass="math inline">\(\mathcal{O}(\log n)\)</span> 。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">upd</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> delta)</span> </span>&#123;<br>    <span class="hljs-keyword">for</span>(;x&lt;=n;x+=x&amp;-x)c[x]+=delta;<br>&#125;<br></code></pre></td></tr></table></figure><p>==注意==</p><p>树状数组<strong>不支持</strong> <spanclass="math inline">\(0\)</span> 做下标，若数据中出现 <spanclass="math inline">\(0\)</span> 需要整体 <spanclass="math inline">\(+1\)</span> 后再处理。</p><p>树状数组一定<strong>支持</strong>的两种操作是对序列累积贡献的单点<strong>增量式</strong>修改和<strong>前缀</strong>查询；实现区间查询的必要条件是贡献可逆，即可以由两个前缀贡献经过一定计算得到。</p><p>例如： <code>sum</code> 是可逆贡献，<code>min/max</code>不是可逆贡献。</p><h3 id="区间修改区间求和">区间修改，区间求和</h3><p>为了支持区间修改，维护序列 <span class="math inline">\(a\)</span>的<strong>差分数组</strong> <span class="math inline">\(b\)</span>，由定义得 <span class="math inline">\(a_i=\sum_{j=1}^i b_j\)</span>。这时对 <span class="math inline">\(a\)</span> 的一个前缀 <spanclass="math inline">\([1,r]\)</span> 求和： <spanclass="math display">\[\begin{aligned}sum(r)=&amp;\sum_{i=1}^{r} a_i=\sum_{i=1}^r\sum_{j=1}^ib_j\\=&amp;\sum_{i=1}^r b_i\times(r-i+1)\\=&amp;(r+1) \times \sum_{i=1}^r b_i - \sum_{i=1}^r b_i\times i\end{aligned}\]</span>任意区间和可以用两个前缀和相减得到，因此只需要用两个树状数组分别维护<span class="math inline">\(\sum b_i\)</span> 和 <spanclass="math inline">\(\sum i\times b_i\)</span> ，就能实现区间求和。</p><h3 id="二维树状数组">二维树状数组</h3><p><strong>树状数组套树状数组</strong>：</p><ul><li><del>最简单的一种<strong>树套树</strong></del>；</li><li><del>直接套娃即可</del>；</li><li>在外层树状数组的每个节点上维护一棵树状数组；</li><li>查询/更新时使用二重循环即可。</li></ul><h3 id="树状数组上二分">树状数组上二分</h3><p>类似于线段树上二分，树状数组上也可以进行二分。</p><p>使用<strong>树状数组上二分</strong>（可能需要预先离散化），可以 <spanclass="math inline">\(\mathcal{O}(\log n)\)</span> 查询第 <spanclass="math inline">\(k\)</span>小/大元素，实现类似<strong>平衡树</strong>的效果。</p><p>主要思想是：按二进制位从高到低逐渐二分出答案。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">kth</span><span class="hljs-params">(<span class="hljs-type">int</span> k)</span> </span>&#123;<br>    <span class="hljs-type">int</span> r = <span class="hljs-number">0</span>, t;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = LOG_N; i&gt;=<span class="hljs-number">0</span>; --i) &#123;<br>        t = r | <span class="hljs-number">1</span> &lt;&lt; i;     <br>        <span class="hljs-keyword">if</span> (t &lt;= n &amp;&amp; d[t] &lt; k)k -= d[t], r = t;<br>    &#125;<br>    <span class="hljs-keyword">return</span> r + <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="树状数组的应用">树状数组的应用</h3><h4 id="维护集合">维护集合</h4><p>一个可重集合的 <code>count</code>数组可以用树状数组维护，利用树状数组的两种基本操作，可以高效地实现：</p><ul><li>插入/删除元素 …… 单点修改；</li><li>查询排名 …… 前缀求和。</li></ul><p>再配合二分+树状数组或树状数组上二分等科技，也可以快速查询指定排名的数，复杂度分别为<span class="math inline">\(\mathcal{O}(\log^2n)\)</span> 、<spanclass="math inline">\(\mathcal{O}(\log n)\)</span> 。</p><h4 id="统计逆序对">统计逆序对</h4><h4 id="二维偏序">二维偏序</h4><h4 id="优化dp">优化DP</h4><p>维护前缀 <span class="math inline">\(\max\)</span>，降低DP转移复杂度。如： LIS 问题</p><blockquote><p><a href="https://oi.wiki/ds/fenwick/">树状数组-OI wiki</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>字典树</title>
    <link href="/posts/eea60a6a.html"/>
    <url>/posts/eea60a6a.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><strong>字典树</strong>（<code>trie</code>），是一种维护许多<strong>字符串</strong>构成的“字典”的数据结构。当然，整数也可以按其在某种进制下的表示被当作字符串。</p><p>字典树用边来代表字母，从根结点到树上某一结点的路径代表了一个字符串。比如下图中<span class="math inline">\(1\to4\to 8\to 12\)</span> 表示的就是字符串<code>caa</code>：</p><p><img src="https://s2.loli.net/2022/08/11/ESRjK6tp2bc1IUD.png" /></p><h3 id="结构">结构</h3><p>字典树的结构非常易懂，我们用 <spanclass="math inline">\(\delta(u,c)\)</span> 表示结点 <spanclass="math inline">\(u\)</span> 的 <spanclass="math inline">\(c\)</span> 字符指向的下一个结点，或着说是结点<span class="math inline">\(u\)</span> 代表的字符串后面添加一个字符<span class="math inline">\(c\)</span> 形成的字符串的结点。（的取值范围和字符集大小有关，不一定总是 <spanclass="math inline">\([0,26)\)</span> ）</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span>&#123;<br>    <span class="hljs-type">int</span> c[<span class="hljs-number">26</span>];<br>    <span class="hljs-type">int</span> tag;<br>&#125;a[N];<br><span class="hljs-type">int</span> rot,tot=<span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>&#123; rot=++tot; &#125;<br></code></pre></td></tr></table></figure><h3 id="插入">插入</h3><p>有时需要标记插入进字典树的是哪些字符串，每次插入完成时在这个字符串所代表的节点处打上标记即可。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">char</span>* s)</span></span>&#123;<br>    <span class="hljs-type">int</span> pos=rot,val;<br>    <span class="hljs-keyword">for</span>(;*s;++s)&#123;<br>        val=(*s)-<span class="hljs-string">&#x27;a&#x27;</span>;<br>        <span class="hljs-keyword">if</span>(!a[pos].c[val])a[pos].c[val]=++tot;  <span class="hljs-comment">//不存在则新建子结点</span><br>        pos=a[pos].c[val];<br>    &#125;<br>    a[pos].tag++;   <span class="hljs-comment">//标记尾结点</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="查找">查找</h3><p>字典树最基础的应用就是查找一个字符串是否在“字典”中出现过（更进一步地，判断一个字符串是否是字典树中某串的<strong>前缀</strong>）。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">char</span>* s)</span></span>&#123;<br>    <span class="hljs-type">int</span> pos=rot,val;<br>    <span class="hljs-keyword">for</span>(;*s;++s)&#123;<br>        val=(*s)-<span class="hljs-string">&#x27;a&#x27;</span>;<br>        <span class="hljs-keyword">if</span>(!a[pos].c[val])<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;    <span class="hljs-comment">//未找到</span><br>        pos=a[pos].c[val];<br>    &#125;<br>    <span class="hljs-keyword">return</span> a[pos].tag;  <span class="hljs-comment">//返回尾结点的标记</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="trie">01-trie</h3><p><strong>01-trie</strong>是将整数的二进制表示（位数固定，补前导零）看做一个字符串，按二进制位<strong>从高到低</strong>的顺序插入构建出的字符集为<span class="math inline">\(\{0,1\}\)</span> 的字典树。</p><p>事实上，与平衡树类似，01-trie也可以用于维护一个有序集合，支持插入、删除、数查排名、排名查数等操作。但由于空间开销大等原因，很少见到这样使用01-trie的OI选手。</p><p>01-trie 最常见的应用是快速计算数 <spanclass="math inline">\(x\)</span>与字典树中所有数异或结果的<strong>最大值</strong>或最小值。以最大值为例，具体的做法是从树根开始（即按二进制位从高到低）贪心：</p><ul><li>若存在与 <span class="math inline">\(x\)</span>当前位上的值相反的边，则走这条边，使这一位的异或结果成为 <spanclass="math inline">\(1\)</span> ；</li><li>若不存在，则走相同的边，使这一位的异或结果为 <spanclass="math inline">\(0\)</span> 。</li></ul><p>答案从高位到低位依次构造，正确性显然。</p><blockquote><p><a href="https://oi.wiki/string/trie/">Tire- OI wiki</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>字符串</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>5分钟搭建博客系列</title>
    <link href="/posts/18551a9f.html"/>
    <url>/posts/18551a9f.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="写在前面">写在前面</h2><p><del>本文是作者目前已知的<strong>所有</strong>静态博客框架的合集，您可以自行查询想要使用的框架。</del></p><p><ahref="https://jamstack.org/generators/">这里</a>似乎有所有静态博客生成器，现阶段准备写<span class="math inline">\(\text{Star}&gt;2k\)</span>的框架<del>（不一定按顺序）</del></p><p>下面介绍的都是一些基本操作，进阶内容详见---&gt;🕊️</p><p>正因如此，介绍过程<del>相对比较</del>简略，仅会描述入门级的内容。当然在<del>不久的</del>将来<del>可能</del>会单独写几篇详细介绍的文章，主要针对<del>人气较高</del>的生成器<del>（似乎都已经写完了诶(❁´◡`❁)）</del></p><p>如果这里没有您想要了解的，欢迎在评论区留言~~</p><p><del>文章有些长，建议跳读</del></p><h3 id="准备工作">准备工作</h3><ul><li>Git环境和GitHub账号</li><li><del>终端</del></li></ul><h3 id="注意事项">注意事项</h3><ul><li><p>如有报错，请检查代理是否开启、包管理器版本是否符合要求等，如仍有问题，<del>建议多尝试几次</del>。当然错误原因都是英语，<del>看不懂可以<code>BDFS</code>一下</del>QwQ。</p></li><li><p>下文中，若无特殊说明，则需在<code>Repo--Settings--Pages</code>中选择从主分支的根目录部署。待<code>GitHub Actions</code>跑完后就可以看到站点（<code>&lt;YOURNAME&gt;.github.io/&lt;PROJECT_NAME&gt;</code>）。</p></li></ul><hr /><center><font color="#63bbd0"><b><spanstyle="font-size:2em;">水沝㴇淼渁㵘正式开始</span></b></font></center><hr /><h2 id="mkdocsmaterial主题">MkDocs(Material主题)</h2><blockquote><p><a href="https://squidfunk.github.io/mkdocs-material/">Material forMkDocs</a> 是 <a href="https://www.mkdocs.org">MkDocs</a>的主题，是一个面向（技术）项目文档的静态站点生成器。</p></blockquote><h3 id="开始">🎗️开始</h3><h4 id="配置环境">配置环境</h4><p>安装<a href="https://www.python.org/downloads/">Python</a></p><h4 id="安装material-for-mkdocs">安装Material for MkDocs</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ pip install mkdocs-material<br></code></pre></td></tr></table></figure><h3 id="创建站点">🎍创建站点</h3><h4 id="初始化">初始化</h4><p>完成安装后，转到您希望项目所在的目录，输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mkdocs new .<br></code></pre></td></tr></table></figure><p>生成的文件如下</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">.<br>├─ docs/<br>│  └─ index.md<br>└─ mkdocs.yml<br></code></pre></td></tr></table></figure><h4 id="设置主题">设置主题</h4><p>在<code>mkdocs.yml</code>中添加下面几行</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">theme:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">material</span><br></code></pre></td></tr></table></figure><h4 id="高级配置">高级配置</h4><blockquote><p>咕咕咕</p></blockquote><h4 id="本地预览">本地预览</h4><p>输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mkdocs serve <br></code></pre></td></tr></table></figure><p>后打开<ahref="http://localhost:8000/">http://localhost:8000/</a>就会看到下图所示界面</p><figure><img src="https://s2.loli.net/2022/08/10/9eMrI2oTxNGEftu.png"alt="MkDocs预览" /><figcaption aria-hidden="true">MkDocs预览</figcaption></figure><h4 id="生成静态文件">生成静态文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mkdocs build<br></code></pre></td></tr></table></figure><h3 id="写作">🪄写作</h3><p>在<code>/docs</code>目录下创建<code>Markdown</code>文档即可</p><p>例如目录结构如下</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text">.<br>├─ docs/<br>│  ├─ foo/<br>|  |  ├─ bar.md<br>|  |  └─ index.md<br>│  └─ index.md<br>└─ mkdocs.yml<br></code></pre></td></tr></table></figure><p>则URL为</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">docs/index.md        =&gt; http://domain.com<br>docs/foo/bar.md      =&gt; http://domain.com/foo/bar/<br>docs/foo/index.md    =&gt; http://domain.com/foo/<br></code></pre></td></tr></table></figure><h3 id="部署">🏹部署</h3><p>添加远程库并执行自带的部署命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git init<br>$ git remote add origin https://github.com/&lt;YOURNMAE&gt;/&lt;PROJECT_NAME&gt;.git<br>$ mkdocs gh-deploy<br></code></pre></td></tr></table></figure><h3 id="section">🎉</h3><h2 id="docsify">Docsify</h2><blockquote><p>docsify 可以快速帮你生成文档网站。不同于 GitBook、Hexo的地方是它不会生成静态的 <code>.html</code>文件，所有转换工作都是在运行时。如果你想要开始使用它，只需要创建一个<code>index.html</code> 就可以开始编写文档并直接部署在 GitHubPages。</p></blockquote><h3 id="开始-1">🛝开始</h3><h4 id="配置环境-1">配置环境</h4><p>安装Node.js</p><h4 id="安装docsify-cli-工具">安装<code>docsify-cli</code> 工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm i docsify-cli -g<br></code></pre></td></tr></table></figure><h3 id="创建站点-1">🏐创建站点</h3><h4 id="初始化-1">初始化</h4><p>执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ docsify init ./docs<br></code></pre></td></tr></table></figure><p>即可在<code>./docs</code>目录下创建站点</p><h4 id="本地预览-1">本地预览</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ docsify serve docs<br></code></pre></td></tr></table></figure><p>在 <a href="http://localhost:3000">http://localhost:3000</a>查看效果</p><h4 id="个性化">个性化</h4><p>参见<ahref="https://docsify.js.org/#/zh-cn/">官方文档</a><strong>🕊️</strong></p><h3 id="写作-1">💡写作</h3><p>直接写<code>Markdown</code>文件</p><h3 id="部署-1">📸部署</h3><p><del><em>经典操作</em></del></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git init<br>$ git add .<br>$ git commit -m <span class="hljs-string">&#x27;&lt;COMMIT_MESSAGE&gt;&#x27;</span><br>$ git remote add origin https://github.com/&lt;YOURNAME&gt;/&lt;PROJECT_NAME&gt;.git<br>$ git push -u origin main<br></code></pre></td></tr></table></figure><h3 id="section-1">🎉</h3><h2 id="next.js">Next.js</h2><blockquote><p>Next.js 是一个灵活的<strong>React框架</strong>，它为您提供构建块来创建快速的<strong>Web应用程序</strong>。</p><blockquote><p>具体介绍详见<ahref="https://nextjs.org/learn/foundations/about-nextjs/what-is-nextjs">官方文档</a></p></blockquote></blockquote><h3 id="开始-2">🧶开始</h3><h4 id="配置环境-2">配置环境</h4><p>安装Node.js</p><h4 id="创建next.js应用">创建Next.js应用</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npx create-next-app@latest<br></code></pre></td></tr></table></figure><p>就会在当前目录下自动生成一个Next.js应用</p><h3 id="创建站点-2">🔨创建站点</h3><p>在上一步操作中，我们已经完成了站点的初始化，可以执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm run dev<br></code></pre></td></tr></table></figure><p>以在<ahref="http://localhost:3000">http://localhost:3000</a>上查看效果</p><p><del>至于个性化，本来就想咕</del></p><p><del>何况我对<code>JS</code>一窍不通🕊️</del></p><h3 id="写作-2">🎓写作</h3><p>啊啊啊写<code>JS</code>！放过我QWQ</p><h3 id="部署-2">🏸部署</h3><p><em><del>还是经典操作</del></em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git init<br>$ git add .<br>$ git commit -m <span class="hljs-string">&#x27;&lt;COMMIT_MESSAGE&gt;&#x27;</span><br>$ git remote add origin https://github.com/&lt;YOURNAME&gt;/&lt;PROJECT_NAME&gt;.git<br>$ git push -u origin main<br></code></pre></td></tr></table></figure><p>执行后打开<ahref="https://vercel.com">Vercel</a>，绑定你的GitHub账户后部署刚创建好的仓库，模板选Next.js，一路确定</p><p>等部署成功的烟花撒完，在控制台中找到项目域名就可以查看网站了</p><p>对于二级域名的个性化，可在控制台中自行查找</p><p>上述过程比较㵘，不懂之处请参照<ahref="https://nextjs.org/">官方文档</a>操作</p><h3 id="section-2">🎉</h3><h2 id="hugo">Hugo</h2><p>参见<a href="../posts/3bc0bbc9.html">此文</a></p><h2 id="gatsby">Gatsby</h2><p><del>本地安装错误 <span class="math inline">\(n\)</span>次，暂🕊️</del></p><p><del>口胡一下</del></p><p>还是一些经典操作，<del>初始化的时候瞎选就行（理论上学过英语就能看懂）</del></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install -g gatsby-cli<br></code></pre></td></tr></table></figure><p>然后执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ gatsby new<br></code></pre></td></tr></table></figure><p>会有下面的东西</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 以下内容摘自官方文档(https://gatsbyjs.com/docs/tutorial/part-1/)</span><br>What would you like to call your site?<br>✔ · My First Gatsby Site <span class="hljs-comment">#站点名称</span><br>What would you like to name the folder <span class="hljs-built_in">where</span> your site will be created?<br>✔ Desktop/ my-first-gatsby-site <span class="hljs-comment">#工作目录名</span><br>✔ Will you be using JavaScript or TypeScript?<br>❯ JavaScript <span class="hljs-comment">#配置文件语言(建议JS)</span><br>  TypeScript<br>✔ Will you be using a CMS?<br>&gt; No (or I<span class="hljs-string">&#x27;ll add it later) #是否使用CMS</span><br><span class="hljs-string">  –</span><br><span class="hljs-string">  Contentful</span><br><span class="hljs-string">  DatoCMS</span><br><span class="hljs-string">  Netlify CMS</span><br><span class="hljs-string">  Sanity</span><br><span class="hljs-string">  Shopify</span><br><span class="hljs-string">  WordPress</span><br><span class="hljs-string">✔ Would you like to install a styling system? </span><br><span class="hljs-string">&gt; No (or I&#x27;</span>ll add it later) <span class="hljs-comment">#安装排版系统</span><br>  –<br>  Emotion<br>  PostCSS<br>  Sass<br>  styled-components<br>  Theme UI<br>  vanilla-extract<br>✔ Would you like to install additional features with other plugins?<br>&gt;( ) Add the Google Analytics tracking script <span class="hljs-comment">#插件</span><br> ( ) Add responsive images<br> ( ) Add an automatic sitemap<br> ( ) Generate a manifest file<br> ( ) Add Markdown and MDX support<br> ( ) Add Markdown support (without MDX)<br>  ─────<br>  Done<br>Thanks! Here<span class="hljs-string">&#x27;s what we&#x27;</span>ll now <span class="hljs-keyword">do</span>:<br>    🛠  Create a new Gatsby site <span class="hljs-keyword">in</span> the folder my-first-gatsby-site<br>? Shall we <span class="hljs-keyword">do</span> this? (Y/n) › Yes<br></code></pre></td></tr></table></figure><p>接着就是安装了，<del>挂了不知道多少次</del></p><p><del><strong>以下内容仅停留在理论层面</strong></del></p><p>请参阅<ahref="https://www.gatsbyjs.com/docs/tutorial/">官方文档</a>QwQ</p><h2 id="jekyll">Jekyll</h2><blockquote><p>Jekyll is a static site generator. It takes text written in yourfavorite markup language and uses layouts to create a static website.You can tweak the site’s look and feel, URLs, the data displayed on thepage, and more.</p><p><del>（懒得翻译）</del></p></blockquote><h3 id="开始-3">🔖开始</h3><h4 id="配置环境-3">配置环境</h4><p>安装<ahref="https://rubyinstaller.org/">Ruby</a>，下载时选择<strong>Ruby+Devkit</strong>的版本</p><p>安装后会执行一个脚本，开始选择<strong>MSYS2 and MINGW developmenttool chain[3]</strong>之后一路Yes即可<del>（似乎也没有那么多）</del></p><h4 id="安装jekyll">安装<code>Jekyll</code></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ gem install jekyll bundler<br></code></pre></td></tr></table></figure><h4 id="初始化-2">初始化</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ jekyll new myblog<br></code></pre></td></tr></table></figure><p>上述过程可能会很慢，<del>要有耐心哦</del>~</p><h3 id="创建站点-3">🍭创建站点</h3><p>此时我们已经有了一个空白的站点，不妨执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ jekyll serve<br></code></pre></td></tr></table></figure><p>以在<ahref="http://localhost:4000/">http://localhost:4000/</a>查看效果</p><p>接下来可以参照<ahref="https://jekyllrb.com/docs/">官方文档</a>进行操作，或通过<code>BDFS</code>参考一些进阶方法</p><p><del>原因是要写<code>JS</code>（逃</del></p><h3 id="写作-3">🖊️写作</h3><p><code>JS</code>+<code>Markdown</code>，<del>那就🕊️了吧</del></p><h3 id="部署-3">🎸部署</h3><p><em>经典操作++</em></p><p>需要注意的是，如果你的个性链接是以<code>/myblog</code>之类结尾，需要更改<code>_config.yml</code>中的<code>baseurl</code>项</p><h3 id="section-3">🎉</h3><h2 id="nuxt">Nuxt</h2><p><code>Vue</code>？</p><p><del>再见</del></p><p><del>为什么这么靠前</del></p><p><del>咕咕咕🕊️</del></p><p><ahref="https://nuxtjs.org/docs/get-started/installation">官方文档</a></p><h4 id="安装">💡安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ yarn create nuxt-app &lt;project-name&gt;<br></code></pre></td></tr></table></figure><h4 id="写作-4">👀写作</h4><p>去他的Vue</p><h4 id="部署-4">👑部署</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ yarn generate<br></code></pre></td></tr></table></figure><p><del>然后又是<em>经典操作</em></del></p><p>然而需要注意的是，我们需要在<code>nuxt.config.js</code>中加入下面几行</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">generate</span>: &#123;<br>    <span class="hljs-attr">dir</span>: <span class="hljs-string">&#x27;docs&#x27;</span>,<br>    <span class="hljs-attr">subFolders</span>: <span class="hljs-literal">false</span><br>&#125;<br></code></pre></td></tr></table></figure><p>并设置GitHub Pages使用<code>/docs</code>部署页面</p><h4 id="section-4">🎉</h4><h2 id="docusaurus">Docusaurus</h2><p>好慢啊（bushi</p><p><a href="https://v2.docusaurus.io/">文档</a></p><h3 id="安装-1">🥪安装</h3><p>疯狂跑命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npx create-docusaurus@latest my-website classic<br>$ <span class="hljs-built_in">cd</span> my-website<br>$ npm run start<br></code></pre></td></tr></table></figure><h3 id="写作-5">🧹写作</h3><p>写<code>MarkDown</code>即可</p><h3 id="部署-5">✈️部署</h3><p>更改<code>docusaurus.config.js</code>，设置域名、子域、仓库所有者、仓库名……</p><p>用<strong><code>Git Bash</code></strong>执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ GIT_USER=&lt;YOURNAME&gt; yarn deploy<br></code></pre></td></tr></table></figure><p>跑一下就好了</p><h3 id="section-5">🎉</h3><h2 id="hexo">Hexo</h2><p>参见<a href="/posts/39651.html">此文</a></p><h2 id="slate">Slate</h2><blockquote><p>Please note, only Linux and macOS are officially supported at thistime. While slate should work on Windows, it is unsupported.</p></blockquote><p><del>好！</del></p><p><a href="https://slatedocs.github.io/slate/">文档</a></p><h2 id="gitbook">GitBook</h2><p>在<a href="https://gitbook.com">官网</a>上注册账号，按提示搞就行</p><p><del>似乎对国内网络不太友好</del></p><h2 id="docute">Docute</h2><p>方便至极</p><p><a href="https://docute.egoist.dev/zh/">官方文档</a></p><h3 id="开始-4">🎲开始</h3><p>在工作目录下新建一个<code>index.html</code>，写入以下内容</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>My Docs<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://unpkg.com/docute@4/dist/docute.css&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;docute&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/docute@4/dist/docute.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Docute</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;#docute&#x27;</span></span><br><span class="language-javascript">      &#125;)</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>接着新建一个<code>README.md</code>文件，作为网站首页</p><h3 id="写作-6">🧩写作</h3><p>So easy!</p><p>不就是Markdown吗</p><h3 id="部署-6">🍡部署</h3><p><em>经典操作</em>+10086</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git init<br>$ git add .<br>$ git commit -m <span class="hljs-string">&#x27;init&#x27;</span><br>$ git remote add origin https://github.com/&lt;YOURNAME&gt;/&lt;PROJECT_NAME&gt;.git<br>$ git push -u origin main<br></code></pre></td></tr></table></figure><h3 id="section-6">🎉</h3><h2 id="astro">Astro</h2><p>快极了</p><p><ahref="https://docs.astro.build/zh-cn/getting-started/">官方文档</a>（有中文诶！好评）</p><h3 id="开始-5">⏱️开始</h3><h5 id="初始化-3">初始化</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ yarn create astro<br></code></pre></td></tr></table></figure><p>按情况选择安装内容</p><h5 id="预览">预览</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ yarn start<br></code></pre></td></tr></table></figure><h3 id="写作-7">📌写作</h3><p>在<code>src/pages</code>中写<code>.astro</code>或<code>.md</code>文档均可</p><h3 id="部署-7">🍄部署</h3><p>先<del>经典操作一条龙服务</del>，然后在<code>Pages</code>设置中选择从<code>Workflow</code>部署</p><p>接着选择自行创建，在网页编辑器中写入下面内容</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Github</span> <span class="hljs-string">Pages</span> <span class="hljs-string">Astro</span> <span class="hljs-string">CI</span><br><br><span class="hljs-attr">on:</span><br>  <span class="hljs-comment"># Trigger the workflow every time you push to the `main` branch</span><br>  <span class="hljs-comment"># Using a different branch name? Replace `main` with your branch’s name</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span> [ <span class="hljs-string">main</span> ]<br>  <span class="hljs-comment"># Allows you to run this workflow manually from the Actions tab on GitHub.</span><br>  <span class="hljs-attr">workflow_dispatch:</span><br>  <br><span class="hljs-comment"># Allow this job to clone the repo and create a page deployment</span><br><span class="hljs-attr">permissions:</span><br>  <span class="hljs-attr">contents:</span> <span class="hljs-string">read</span><br>  <span class="hljs-attr">pages:</span> <span class="hljs-string">write</span><br>  <span class="hljs-attr">id-token:</span> <span class="hljs-string">write</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">your</span> <span class="hljs-string">repository</span> <span class="hljs-string">using</span> <span class="hljs-string">git</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span>          <br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install,</span> <span class="hljs-string">build,</span> <span class="hljs-string">and</span> <span class="hljs-string">upload</span> <span class="hljs-string">your</span> <span class="hljs-string">site</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">withastro/action@v0</span><br><br>  <span class="hljs-attr">deploy:</span><br>    <span class="hljs-attr">needs:</span> <span class="hljs-string">build</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">github-pages</span><br>      <span class="hljs-attr">url:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">steps.deployment.outputs.page_url</span> <span class="hljs-string">&#125;&#125;</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span><br>        <span class="hljs-attr">id:</span> <span class="hljs-string">deployment</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/deploy-pages@v1</span><br></code></pre></td></tr></table></figure><p>并命名为<code>deploy.yml</code></p><p>之后会自动触发部署</p><p>当然，我们改变了仓库内容，下次在本地修改前需要先执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git pull https://github.com/&lt;YOURNAME&gt;/&lt;PROJECT_NAME&gt;.git<br></code></pre></td></tr></table></figure><p>再<code>push</code></p><h3 id="section-7">🎉</h3><h2 id="gridea">Gridea</h2><p><del>有GUI啊，那没事了</del></p><h3 id="开始-6">🍀开始</h3><p>安装<a href="https://gridea.dev/">Gridea</a></p><p>配置GitHub用户和仓库信息，点击左下角的<code>检测远程连接</code>，确认无误后点击同步即可</p><blockquote><p>注：请关闭代理</p></blockquote><h3 id="写作-8">🌈写作</h3><p>软件内置了Markdown编辑器，直接写作即可</p><h3 id="部署-8">🛶部署</h3><p><strong>同步=部署</strong></p><h3 id="section-8">🎉</h3><h2 id="umijs">UmiJS</h2><p><code>JS</code>啊，那没事了</p><h3 id="安装-2">🕶️安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ yarn create umi<br></code></pre></td></tr></table></figure><p>具体选项参阅<a href="https://umijs.org/">官方文档</a></p><p>使用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ yarn dev<br></code></pre></td></tr></table></figure><p>进行预览</p><h3 id="写作-9">🍸写作</h3><p>不会</p><h3 id="部署-9">🍴部署</h3><p>似乎有点麻烦</p><h4 id="安装插件">安装插件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ yarn install gh-pages --dev<br></code></pre></td></tr></table></figure><h4 id="修改.unirc.ts">修改<code>.unirc.ts</code></h4><p>添加以下内容</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-attr">outputPath</span>: <span class="hljs-string">&#x27;build&#x27;</span>,<br><span class="hljs-attr">publicPath</span>: <span class="hljs-string">&#x27;https://&lt;YOURNAME&gt;.gitee.io/&lt;PROJECT_NAME&gt;/&#x27;</span>,<br><span class="hljs-attr">history</span>: &#123; <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;hash&#x27;</span> &#125;, <br></code></pre></td></tr></table></figure><h4 id="修改package.json">修改<code>package.json</code></h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;start&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;umi dev&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;umi build&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;postinstall&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;umi generate tmp&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;prettier&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;prettier --write &#x27;**/*.&#123;js,jsx,tsx,ts,less,md,json&#125;&#x27;&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;test&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;umi-test&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;test:coverage&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;umi-test --coverage&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-comment">// 下面新增发布命令</span><br>    <span class="hljs-attr">&quot;deploy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gh-pages -d build&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><h4 id="发布">发布</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ yarn build<br>$ yarn deploy<br></code></pre></td></tr></table></figure><h3 id="section-9">🎉</h3><h2 id="eleventy11ty">Eleventy(11ty)</h2><p>搞不明白（QwQ</p><h3 id="安装-3">💎安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install<br>$ npm install --save-dev @11ty/eleventy<br></code></pre></td></tr></table></figure><h3 id="模板">☘️模板</h3><p>可以在<code>Markdown</code>前通过<code>Front Matter</code>引入模板</p><p>新建<code>_includes</code>文件夹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs nunjucks">// default.njk<br>&lt;!DOCTYPE html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>  &lt;meta charset=&quot;UTF-8&quot;&gt;<br>  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>  &lt;title&gt;&#123;&#123; title &#125;&#125; | My Site&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>   &#123;&#123; content | safe &#125;&#125;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs nunjunks">// blog.njk<br>---<br>layout: default<br>---<br> <br>&lt;h1&gt;&#123;&#123; title &#125;&#125;&lt;/h1&gt;<br>&lt;div&gt;<br>  Published on &#123;&#123; date &#125;&#125;<br>&lt;/div&gt;<br> <br>&lt;article&gt;<br>  &#123;&#123; content | safe &#125;&#125;<br>&lt;/article&gt;<br></code></pre></td></tr></table></figure><h3 id="部署-10">🚩部署</h3><p>新建名为<code>.nojekyll</code>的空文件</p><p>新建<code>.gitignore</code>并写入<code>/node_modules</code></p><p>新建<code>/.github/workflows/deploy.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Eleventy</span> <span class="hljs-string">Build</span><br><span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>]<br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build_deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-22.04</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@master</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">TartanLlama/actions-eleventy@master</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-gh-pages@v3</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">publish_dir:</span> <span class="hljs-string">_site</span> <br>          <span class="hljs-attr">publish_branch:</span> <span class="hljs-string">gh-pages</span><br>          <span class="hljs-attr">github_token:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">&#125;&#125;</span><br></code></pre></td></tr></table></figure><p>并选择从<code>gh-pages</code>分支部署</p><h3 id="section-10">🎉</h3><h2 id="pelican">Pelican</h2><p><ahref="https://docs.getpelican.com/en/latest/quickstart.html">官方文档</a></p><h3 id="安装-4">🛞安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ python -m pip install <span class="hljs-string">&quot;pelican[markdown]&quot;</span><br>$ pelican-quickstart<br></code></pre></td></tr></table></figure><p>按需初始化</p><h3 id="写作-10">💾写作</h3><p>写<code>Markdown</code>！好事！</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ pelican content<br>$ pelican --listen<br></code></pre></td></tr></table></figure><p>执行上述命令进行预览</p><h3 id="部署-11">📠部署</h3><p>进入<code>output</code>文件夹，执行<em>经典操作</em></p><p><del>阿巴阿巴阿巴阿巴</del></p><h3 id="section-11">🎉</h3><h2 id="mdbook">mdBook</h2><p>看着不错</p><h3 id="安装-5">☄️安装</h3><h4 id="安装rust">安装<ahref="https://www.rust-lang.org/tools/install">Rust</a></h4><p><del>英语都能看懂是吧</del></p><p><strong>注意</strong>如果不想安装<code>Visual Studio</code>，可以在安装后执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ rustup toolchain install stable-x86_64-pc-windows-gnu<br>$ rustup default stable-x86_64-pc-windows-gnu<br></code></pre></td></tr></table></figure><h4 id="安装mdbook">安装mdBook</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ cargo install mdbook<br></code></pre></td></tr></table></figure><p><del>需要漫长的等待</del></p><h3 id="写作-11">☃️写作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mdbook init my-first-book<br></code></pre></td></tr></table></figure><p>在<code>src</code>目录下写<code>Markdown</code>即可</p><p>具体格式参阅<ahref="https://rust-lang.github.io/mdBook/">官方文档</a></p><p>通过</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mdbook serve --open<br></code></pre></td></tr></table></figure><p>进行本地预览</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ mdbook build<br></code></pre></td></tr></table></figure><p>构建静态文件</p><h3 id="部署-12">🌸部署</h3><p>在<code>book</code>目录下执行<em>经典操作</em></p><h3 id="section-12">🎉</h3><h2 id="svelte-kit">Svelte Kit</h2>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>哈希表</title>
    <link href="/posts/850f2080.html"/>
    <url>/posts/850f2080.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><strong>哈希表</strong>（<code>Hash Table</code>）又称<strong>散列表</strong>，是一种以<code>key-value</code> 形式存储数据的数据结构。</p><p>所谓以 <code>key-value</code> 形式存储数据，是指任意的<code>key</code>都<strong>唯一</strong>对应到内存中的某个位置。只需要给出查找的值<code>key</code>，就可以快速地找到其对应的 <code>value</code>。</p><p>可以把哈希表理解为一种高级的<strong>数组</strong>，这种数组的下标可以是大整数，浮点数，字符串，甚至结构体。</p><h3 id="哈希函数">哈希函数</h3><p>要让 <code>key</code> 对应到内存中的位置，就要为 <code>key</code>计算索引，也就是计算 <code>value</code> 的存储位置。根据<code>key</code>计算索引的函数就叫做<strong>哈希函数</strong>，也称<strong>散列函数</strong>。</p><p>在 OI 中，最常见的情况是 <code>key</code> 为整数的情况。当<code>key</code> 的范围比较小的时候，可以直接把 <code>key</code>作为数组的下标；但当 <code>key</code>的范围比较大，就需要用到哈希表。一般把 <code>key</code>模一个较大的质数作为索引，也就是取 <spanclass="math inline">\(f(x)=x\operatorname{mod} M\)</span>作为哈希函数。</p><p>另一种可能出现的情况是 <code>key</code> 为字符串的情况，但在 OI中，一般不直接把字符串作为<code>key</code>，而是先算出字符串的哈希值（将在下一节中介绍），再把其哈希值作为<code>key</code> 插入到哈希表里。</p><p>能为 <code>key</code> 计算索引之后，我们就可以知道每个<code>value</code> 应该放在哪里了。假设我们用数组 <spanclass="math inline">\(a\)</span> 存放数据，哈希函数是 <spanclass="math inline">\(\mathcal{f}\)</span> ，那键值对 <spanclass="math inline">\((key,value)\)</span> 就应该放在 <spanclass="math inline">\(a[\mathcal{f}(key)]\)</span> 上。</p><p>无论 <span class="math inline">\(key\)</span>是什么类型，范围多大，<spanclass="math inline">\(\mathcal{f}(key)\)</span>都应是在可接受范围内的整数，可以作为数组的下标。</p><h3 id="冲突">冲突</h3><p>对于任意的 <span class="math inline">\(key\)</span>，如果哈希函数计算出来的索引都不相同，那只用根据索引把 <spanclass="math inline">\((key,value)\)</span>放到对应的位置就行了。但实际上，常常会出现两个不同的 <spanclass="math inline">\(key\)</span>，他们用哈希函数计算出来的索引是相同的。这时候就需要一些方法来处理冲突，常用的方法是<strong>拉链法</strong>。</p><h4 id="拉链法">拉链法</h4><p>拉链法也称<strong>开散列法</strong>（open hashing）。</p><p>拉链法是在每个存放数据的地方建立一个<strong>链表</strong>，如果有多个<span class="math inline">\(key\)</span>索引到同一个地方，只用把他们都放到那个位置的链表里就行了。查询的时候需要把对应位置的链表整个扫描一遍，对其中的每个数据比较其<span class="math inline">\(key\)</span> 与查询的 <spanclass="math inline">\(key\)</span> 是否一致。如果索引的范围是 <spanclass="math inline">\(0 \sim M-1\)</span> ，哈希表的大小为 <spanclass="math inline">\(N\)</span> ，那么一次查询需要进行期望 <spanclass="math inline">\(\mathcal{O}(\dfrac{N}{M})\)</span> 次比较。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">const</span> <span class="hljs-type">int</span> SIZE = <span class="hljs-number">1e6</span>+<span class="hljs-number">5</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> M = <span class="hljs-number">999997</span>;   <span class="hljs-comment">// 或 1e6+7</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">HashTable</span> &#123;<br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> &#123;<br>        <span class="hljs-type">int</span> next, value, key;<br>    &#125; data[SIZE];<br>    <span class="hljs-type">int</span> head[M], size;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> </span>&#123; <span class="hljs-keyword">return</span> (key % M+M)%M; &#125;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> p = head[<span class="hljs-built_in">f</span>(key)]; p; p = data[p].next)<br>            <span class="hljs-keyword">if</span> (data[p].key == key) <span class="hljs-keyword">return</span> data[p].value;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-type">int</span> key, <span class="hljs-type">int</span> value)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> p = head[<span class="hljs-built_in">f</span>(key)]; p; p = data[p].next)<br>            <span class="hljs-keyword">if</span> (data[p].key == key) <span class="hljs-keyword">return</span> data[p].value = value;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> key, <span class="hljs-type">int</span> value)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">get</span>(key) != <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>        data[++size] = (Node)&#123;head[<span class="hljs-built_in">f</span>(key)], value, key&#125;;<br>        head[<span class="hljs-built_in">f</span>(key)] = size;<br>        <span class="hljs-keyword">return</span> value;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="闭散列法">闭散列法</h4><p>闭散列方法把所有记录直接存储在散列表中，如果发生冲突则根据某种方式继续进行探查。</p><p>比如线性探查法：如果在 <code>d</code> 处发生冲突，就依次检查<code>d + 1</code> ， <code>d + 2</code> ……</p><p>当散列表接近存满时，查找效率较差；存满后不能再插入新元素。</p><p><del><strong>比赛中直接使用 <code>&lt;unordered_map&gt;</code>即可！</strong></del></p><h2 id="字符串-hash">字符串 Hash</h2><p><strong>字符串 Hash</strong>是一种高效处理字符串匹配问题的<strong>近似算法</strong>，其核心思想在于将难以快速比较的字符串映射到一个<strong>值域较小</strong>（但也不能过小）、可以<strong>方便比较</strong>的范围。</p><p>我们定义一个把字符串映射到整数的函数 <spanclass="math inline">\(\mathcal{f}\)</span> ，这个 <spanclass="math inline">\(\mathcal{f}\)</span> 称为是<strong>字符串 Hash函数</strong>。</p><p>我们希望这个函数 <span class="math inline">\(\mathcal{f}\)</span>可以方便地帮我们判断两个字符串是否相等。具体来说，我们希望在 Hash函数值不一样的时候，两个字符串一定不一样。需要注意的是：其否命题不一定总是成立，也就是说：不相同的字符串经过Hash 函数映射也可能得到相同的值，这种现象称作 <strong>Hash冲突</strong>。</p><p>通常我们采用的是<strong>多项式 Hash</strong> 的方法，即 <spanclass="math inline">\(\mathcal{f}=\sum s[i]\times base^i(\operatorname{mod} MOD)\)</span> 或 <span class="math inline">\(f(s) =\sum s[i] \times {base}^{|s|-i} \pmod{MOD}\)</span>（虽然前一种看起来更简洁，但在实际使用中会出现麻烦的“对齐问题”，因此更常用实际上的是<strong>后一种</strong>定义）。</p><p>这里面的 <span class="math inline">\(base\)</span> 和 <spanclass="math inline">\(MOD\)</span> 需要选取得足够合适才行，以使得 Hash函数的值分布尽量均匀，尽量避免发生 Hash 冲突。</p><p>如果 <span class="math inline">\(base\)</span> 和 <spanclass="math inline">\(MOD\)</span> 互质，在输入随机的情况下，这个 Hash函数在 <span class="math inline">\([0,M)\)</span>上每个值概率相等，此时单次比较的冲突率为 <spanclass="math inline">\(\dfrac{1}{M}\)</span>。所以，哈希的模数一般会选用<strong>大质数</strong>。</p><h3 id="冲突率">冲突率</h3><p>若进行 <span class="math inline">\(n\)</span> 次比较，每次冲突率<span class="math inline">\(\dfrac{1}{M}\)</span> ，那么总冲突率是 <spanclass="math inline">\(1-\left(1-\dfrac 1 M\right)^n\)</span>。在随机数据下，若 <span class="math inline">\(M=10^9 +7,n=10^6\)</span> ，冲突率约为 <span class="math inline">\(\dfrac1{1000}\)</span> ，并不是能够完全忽略不计的。</p><p>一种特殊的情形是利用 <code>unsigned long long</code>类型的自然溢出特性（相当于对 <span class="math inline">\(M =2^{64}\)</span>取模），这能有效简化代码实现。但有经验的出题人很可能会对此定向构造数据，显著提高自然溢出的冲突率，甚至确保发生Hash 冲突。</p><p>因此，进行字符串哈希时，为了安全起见，经常会分别取两组不同的 <spanclass="math inline">\(base\)</span> 和 <spanclass="math inline">\(MOD\)</span> 分别计算 Hash值，这样哈希函数的值域就能扩大到两者之积，错误率就能进一步减小了。<del>但由于这种写法较为繁琐，所以一般情况下还是会只使用一组质数或者干脆使用自然溢出。</del></p><h3 id="多次询问子串哈希">多次询问子串哈希</h3><p>单次计算一个字符串的哈希值复杂度是 <spanclass="math inline">\(\mathcal{O}(n)\)</span> ，其中 <spanclass="math inline">\(n\)</span>为串长，与暴力匹配没有区别，如果需要多次询问一个字符串的子串的哈希值，每次重新计算效率非常低下。</p><p>一般采取的方法是对整个字符串先预处理出每个前缀的哈希值，将哈希值看成一个<span class="math inline">\(b\)</span> 进制的数对 <spanclass="math inline">\(M\)</span>取模的结果，这样的话每次就能快速求出子串的哈希了：</p><p>令 <span class="math inline">\(f_i(s)\)</span> 表示 <spanclass="math inline">\(f(s[1..i])\)</span> ，那么 <spanclass="math inline">\(f(s[l..r])=f_r(s)-f_{l-1}(s) \timesb^{r-l+1}\)</span> ，其中 <span class="math inline">\(b^{r-l+1}\)</span>可以预处理出来。</p><p>这样就可以在 <span class="math inline">\(\mathcal{O}(n)\)</span>的预处理后每次 <span class="math inline">\(\mathcal{O}(1)\)</span>地计算子串的哈希值了。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">const</span> <span class="hljs-type">int</span> MOD=<span class="hljs-number">1e9</span>+<span class="hljs-number">7</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> base=<span class="hljs-number">19260817</span>;<br>ll pw[N],hs[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-type">int</span> n,<span class="hljs-type">char</span>* s)</span></span>&#123;<br>    pw[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)&#123;<br>        pw[i]=pw[i<span class="hljs-number">-1</span>]*base%MOD;<br>        hs[i]=(hs[i<span class="hljs-number">-1</span>]*base+s[i])%MOD;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">mod</span><span class="hljs-params">(ll x)</span></span>&#123; <span class="hljs-keyword">return</span> (x%MOD+MOD)%MOD; &#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">hash</span><span class="hljs-params">(<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">mod</span>(hs[r]-hs[l<span class="hljs-number">-1</span>]*pw[r-l+<span class="hljs-number">1</span>]);<br>&#125;<br></code></pre></td></tr></table></figure><p>推导过程： <span class="math display">\[\begin{aligned}    f(s) &amp;= \sum_{i=1}^{|s|}{s[i]*base^{|s|-i}} \\    \\    \mathrm{hs}[x] &amp;= f(s[1\dots x]) =\sum_{i=1}^{x}{s[i]*base^{x-i}} \\    \mathrm{hs}[x+1] &amp;= f(s[1\dots x+1]) =\sum_{i=1}^{x+1}{s[i]*base^{x+1-i}} \\    &amp;= \sum_{i=1}^{x}{s[i]*base^{x+1-i}} +s[x+1]*base^{0} \\    &amp;= base * \sum_{i=1}^{x}{s[i]*base^{x-i}} + s[x+1] \\    &amp;= \mathrm{hs}[x] * base +s[x+1] \\    \\    \mathrm{hash}(l,r) &amp;= f(s[l\dots r]) \\    &amp;= \sum_{i=1}^{r-l+1}{s[l+i-1]*base^{r-l+1-i}} \\    &amp;= \sum_{j=l}^{r}{s[j]*base^{r-j}} \\    &amp;= \sum_{i=1}^{r}{s[i]*base^{r-i}} -\sum_{i=1}^{l-1}{s[i]*base^{r-i}} \\    &amp;= \mathrm{hs}[r] - base^{r-l+1} *\sum_{i=1}^{l-1}{s[i]*base^{l-1-i}} \\    &amp;= \mathrm{hs}[r] - base^{r-l+1} * \mathrm{hs}[l-1]\end{aligned}\]</span></p><h3 id="字符串-hash-的应用">字符串 Hash 的应用</h3><h4 id="字符串匹配">字符串匹配</h4><p>求出模式串的哈希值后，求出文本串每个长度为模式串长度的子串的哈希值，分别与模式串的哈希值比较即可。</p><h4 id="字符串最小循环节">字符串最小循环节</h4><p><em>引理</em></p><p>字符串 <span class="math inline">\(s[1\cdots n]\)</span> 的循环节为<span class="math inline">\(d\)</span> 的充分必要条件为 <spanclass="math inline">\(s[1..n-d]=s[d+1..n]\)</span> 。</p><p><del>读者自证不难。</del></p><p>枚举字符串长度的所有约数，使用 Hash 判断即可。</p><h4 id="特殊变换">特殊变换</h4><h4 id="最长回文子串">最长回文子串</h4><p>二分答案，判断是否可行时枚举回文中心（对称轴），哈希判断两侧是否相等。需要分别预处理正着和倒着的哈希值。时间复杂度<span class="math inline">\(\mathcal{O}(n\log n)\)</span> 。</p>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>字符串</category>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ST表/稀疏表</title>
    <link href="/posts/13859c4d.html"/>
    <url>/posts/13859c4d.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p><ahref="https://faioj.brynhild.online/wiki/notes/OI-Wiki/ds/sparse-table/">ST表 - OI Wiki</a></p></blockquote><h6 id="例题">例题</h6><p>给定 <span class="math inline">\(n\)</span> 个数，有 <spanclass="math inline">\(m\)</span> 个询问，对于每个询问，你需要回答区间<span class="math inline">\([l,r]\)</span> 中的最大值。</p><ol type="1"><li><span class="math inline">\(n,m \le 10^5\)</span> ；</li><li><span class="math inline">\(n\le 10^5,m\le 10^7\)</span> 。</li></ol><ul><li><p>暴力：每次都对区间 <span class="math inline">\([l,r]\)</span>扫描一遍，求出最大值，这显然会超时。</p></li><li><p>分块：复杂度 <span class="math inline">\(\mathcal{O}(m\sqrt{n})\)</span>，也许能够通过1，但不可能通过2。</p></li><li><p>单调栈+二分：复杂度 <span class="math inline">\(\mathcal{O}(m\logn+f_{sort}(m))\)</span>，就算使用最快的基数排序或挂链排序也不能保证通过2。</p></li></ul><hr /><p><strong>ST表</strong>（稀疏表）是一种基于<strong>倍增</strong>思想，可以做到<span class="math inline">\(O(n\log n)\)</span> 预处理，<spanclass="math inline">\(O(1)\)</span>回答每个区间询问的数据结构。但是<strong>不支持修改操作</strong>。</p><p>基于倍增思想，我们考虑如何求出区间最大值。</p><p>为了更快地查询区间最大值，我们需要提前预处理出一些区间的答案。</p><p>长度为 <span class="math inline">\(n\)</span> 的序列上区间的个数为<span class="math inline">\(\dfrac{n(n+1)}{2}\)</span>，时间和空间都不允许把他们预处理出来。于是退而求其次，预处理出所有长度为 <spanclass="math inline">\(2^i\)</span> 的区间的最大值，其中区间 <spanclass="math inline">\([x,x+2^i)\)</span> 的最大值记作<code>st[x][i]</code>。</p><p>显然地，<code>st[x][0] = val[i]</code>，<code>st[x][i+1] = max(st[x][i], st[x+(1&lt;&lt;i)][i])</code>。</p><p>预处理复杂度 <span class="math inline">\(\mathcal{O}(n\logn)\)</span> 。</p><p>下面考虑如何通过预处理出的这些区间快速的到任意区间的最大值。</p><p>对于任意区间 <span class="math inline">\([l,r]\)</span>，总能找到不超过两个长度为 <span class="math inline">\(2^{\left\lfloor\log_{2}{r-l+1}\right\rfloor}\)</span>（记其中指数部分为 <spanclass="math inline">\(g\)</span> ）的区间：<spanclass="math inline">\([l,l+2^g-1]\)</span> 和 <spanclass="math inline">\([r-2^g+1,r]\)</span> ，恰好完全覆盖 <spanclass="math inline">\([l,r]\)</span>（允许重复）。</p><p>又因为区间最大值是一个<strong>可重复贡献</strong>问题（即：数 <spanclass="math inline">\(x\)</span>被统计的次数对答案无影响），所以可以将这两个区间的最大值简单合并，得到区间<span class="math inline">\([l,r]\)</span> 的最大值。</p><p>单次查询复杂度 <span class="math inline">\(\mathcal{O}(1)\)</span>。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> st[N][L], lg[N], val[N];<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span>&#123;<br>    lg[<span class="hljs-number">0</span>]=<span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)lg[i]=lg[i&gt;&gt;<span class="hljs-number">1</span>]+<span class="hljs-number">1</span>,st[i][<span class="hljs-number">0</span>]=val[i];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j+<span class="hljs-number">1</span>&lt;L;++j)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i+(<span class="hljs-number">1</span>&lt;&lt;(j+<span class="hljs-number">1</span>))<span class="hljs-number">-1</span>&lt;=n;++i)<br>            st[i][j+<span class="hljs-number">1</span>]=std::<span class="hljs-built_in">max</span>(st[i][j],st[i+(<span class="hljs-number">1</span>&lt;&lt;j)][j]);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span>&#123;<br>    <span class="hljs-type">int</span> g=lg[r-l+<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">max</span>(st[l][g],st[r-(<span class="hljs-number">1</span>&lt;&lt;g)+<span class="hljs-number">1</span>][g]);<br>&#125;<br></code></pre></td></tr></table></figure><p>除区间最大/最小值（RMQ）以外，ST表还可以高效地解决<strong>静态</strong>区间按位与、区间按位或、区间GCD等问题。</p><blockquote><p><strong>RMQ</strong> 是 <code>Range Maximum/Minimum Query</code>的缩写，表示区间最大（最小）值。</p><blockquote><p><a href="https://oi.wiki/topic/rmq/">RMQ-OI wiki</a></p></blockquote></blockquote><p>这些问题的一个共同点是它们都是<strong>可重复贡献问题</strong>，或者说，<strong>ST表是能够高效解决静态可重复贡献问题的数据结构</strong>。</p><h3 id="可重复贡献">可重复贡献</h3><p><strong>可重复贡献问题</strong>是指对于运算 <spanclass="math inline">\(\text{opt}\)</span> ，满足 <spanclass="math inline">\(x\operatorname{opt} x=x\)</span>，则对应的区间询问就是一个可重复贡献问题。</p><p>例如，<span class="math inline">\(\operatorname{max}(x,x)=x\)</span>，<span class="math inline">\(\operatorname{gcd}(x,x)=x\)</span>，所以<strong>RMQ</strong>和<strong>区间GCD</strong>都是可重复贡献问题。</p><p>区间和就不具有这个性质，如果求区间和的时候采用的预处理区间重叠了，则会导致重叠部分被计算两次。</p><p>另外， <span class="math inline">\(\operatorname{opt}\)</span>还必须满足<strong>结合律</strong>才能使用ST表求解。</p><p>如果仔细分析一下，可重复贡献问题一般都带有某种类似RMQ的成分。例如：区间按位与就是对每个二进制位取最小值；而区间GCD则是对每个质因数的指数取最小值。</p><h3 id="st表与图">ST表与图</h3><p><del>咕咕咕</del></p>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>并查集</title>
    <link href="/posts/fab451a5.html"/>
    <url>/posts/fab451a5.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p><ahref="https://faioj.brynhild.online/wiki/notes/OI-Wiki/ds/dsu/">并查集 -OI Wiki</a></p></blockquote><p>并查集是一种树形的数据结构，能够处理一些不交集的<strong>合并</strong>及<strong>查询</strong>问题。</p><h3 id="初始化">初始化</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">makeSet</span><span class="hljs-params">(<span class="hljs-type">int</span> size)</span> </span>&#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) fa[i] = i;  <span class="hljs-comment">// i 就在它本身的集合里</span><br>  <span class="hljs-keyword">return</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="查找">查找</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> fa[MAXN];  <span class="hljs-comment">// 记录某个人的爸爸是谁，特别规定，祖先的爸爸是他自己</span><br><br><span class="hljs-comment">// 递归</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>  <span class="hljs-comment">// 寻找x的祖先</span><br>  <span class="hljs-keyword">if</span> (fa[x] == x)  <span class="hljs-comment">// 如果 x 是祖先则返回</span><br>    <span class="hljs-keyword">return</span> x;<br>  <span class="hljs-keyword">else</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">find</span>(fa[x]);  <span class="hljs-comment">// 如果不是则 x 的爸爸问 x 的爷爷</span><br>&#125;<br><br><span class="hljs-comment">// 非递归</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>  <span class="hljs-keyword">while</span> (x != fa[x])  <span class="hljs-comment">// 如果 x 不是祖先，就一直往上一辈找</span><br>  &#123;<br>    x = fa[x];<br>  &#125;<br>  <span class="hljs-keyword">return</span> x;  <span class="hljs-comment">// 如果 x 是祖先则返回</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="合并">合并</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">unionSet</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<br>  <span class="hljs-comment">// x 与 y 所在家族合并</span><br>  x = <span class="hljs-built_in">find</span>(x);<br>  y = <span class="hljs-built_in">find</span>(y);<br>  fa[x] = y;  <span class="hljs-comment">// 把 x 的祖先变成 y 的祖先的儿子</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="优化">优化</h3><p>不加任何优化的并查集有可能退化成一条链，导致查询复杂度退化为 <spanclass="math inline">\(O(n)\)</span>。并查集常见的优化有<strong>路径压缩</strong>与<strong>按秩合并</strong>两种。</p><h4 id="路径压缩">路径压缩</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> f[N];<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123; <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; ++i)f[i]=i; &#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123; <span class="hljs-keyword">return</span> x==f[x]?x:f[x]=<span class="hljs-built_in">find</span>(f[x]); &#125;    <span class="hljs-comment">// 路径压缩</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span>&#123; f[<span class="hljs-built_in">find</span>(x)]=<span class="hljs-built_in">find</span>(y); &#125; <br></code></pre></td></tr></table></figure><h4 id="按秩合并">按秩合并</h4><p>这里的“秩”既可以取为树的深度也可以取为集合大小，但取秩为树的深度与路径压缩不兼容。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> f[N], s[N];  <span class="hljs-comment">// 取秩为集合大小</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123; <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; ++i)f[i]=i, s[i]=<span class="hljs-number">1</span>; &#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123; <span class="hljs-keyword">return</span> x==f[x]?x:f[x]=<span class="hljs-built_in">find</span>(f[x]); &#125;   <span class="hljs-comment">// 路径压缩</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span>&#123;                        <span class="hljs-comment">// 按秩合并</span><br>    x=<span class="hljs-built_in">find</span>(x), y=<span class="hljs-built_in">find</span>(y);<br>    <span class="hljs-keyword">if</span>(x==y)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span>(s[x]&gt;s[y])<span class="hljs-built_in">swap</span>(x, y);<br>    f[x]=y, s[y]+=s[x]; <br>&#125; <br></code></pre></td></tr></table></figure><p>需要注意的是，如果合并时祖孙关系不能颠倒，那么就不能使用按秩合并优化。</p><h4 id="时间复杂度">时间复杂度</h4><table><thead><tr class="header"><th>优化</th><th>时间复杂度</th></tr></thead><tbody><tr class="odd"><td>无</td><td>最坏 <span class="math inline">\(O(nm)\)</span></td></tr><tr class="even"><td>按秩合并</td><td>最坏 <span class="math inline">\(O(m\log n)\)</span></td></tr><tr class="odd"><td>路径压缩</td><td>平均 <span class="math inline">\(O(m\alpha(m,n))\)</span></td></tr><tr class="even"><td>路径压缩&amp;按秩合并</td><td>平均 <span class="math inline">\(O(m\alpha(m,n))\)</span></td></tr></tbody></table><p><span class="math inline">\(\alpha(n)\)</span>为反阿克曼函数，增长极其缓慢，在OI数据范围内可以认为是较小的常数。</p><h3 id="带权并查集">带权并查集</h3><p>在并查集的边上可以维护一个权值（并需要定义路径压缩时权值使用的运算），这样的并查集叫做<strong>带权并查集</strong>，能够实现更复杂的功能。<strong>路径压缩</strong>与<strong>按秩合并</strong>两种优化在带权并查集中仍能够使用。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; pii;<br><span class="hljs-type">int</span> f[N], s[N], d[N];  <span class="hljs-comment">// 取秩为集合大小</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123; <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; ++i)f[i]=i, s[i]=<span class="hljs-number">1</span>, d[i]=<span class="hljs-number">0</span>; &#125;<br><span class="hljs-function">pii <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;      <br>    <span class="hljs-keyword">if</span>(x==f[x])<span class="hljs-keyword">return</span> <span class="hljs-built_in">pii</span>(f[x],d[x]);<br>    pii res=<span class="hljs-built_in">find</span>(f[x]);<br>    f[x]=res.first, d[x]+=res.second;   <span class="hljs-comment">// 路径压缩</span><br>    res.second=d[x];<br>    <span class="hljs-keyword">return</span> res;<br>&#125;   <br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">bool</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> z)</span></span>&#123; <span class="hljs-comment">// x --z-&gt; y</span><br>    pii px=<span class="hljs-built_in">find</span>(x), py=<span class="hljs-built_in">find</span>(y);<br>    z+=py.second-px.second;<br>    x=px.first, y=py.first;<br>    <span class="hljs-keyword">if</span>(x==y)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(s[x]&gt;s[y])<span class="hljs-built_in">swap</span>(x, y), z=-z;      <span class="hljs-comment">// 按秩合并</span><br>    f[x]=y, s[y]+=s[x], d[x]=z; <br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hugo搭建个人博客</title>
    <link href="/posts/3bc0bbc9.html"/>
    <url>/posts/3bc0bbc9.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="开始">🎟️开始</h3><h4 id="安装chocolatey或scoop">0.安装<ahref="https://chocolatey.org/">Chocolatey</a>或<ahref="https://scoop.sh/">Scoop</a></h4><p>以下以Chocolatey为例，Scoop与之相似，可参阅<ahref="https://gohugo.io/getting-started/installing">官方文档</a>。</p><p>安装后打开终端，输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ choco --version<br></code></pre></td></tr></table></figure><p>检查安装是否成功</p><h4 id="安装hugo">1.安装Hugo</h4><p>输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ choco install hugo -confirm    <span class="hljs-comment">#普通版本</span><br></code></pre></td></tr></table></figure><p>或</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ choco install hugo-extended -confirm    <span class="hljs-comment">#带有Sass/SCSS的扩展版本</span><br></code></pre></td></tr></table></figure><h4 id="创建站点">2.创建站点</h4><p>输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hugo new site quickstart<br></code></pre></td></tr></table></figure><p>就会在<code>quickstart</code>目录下创建Hugo站点</p><h4 id="添加主题">3.添加主题</h4><p>此处以<code>Kagome</code>为例，<ahref="https://themes.gohugo.io/">其他主题</a></p><p>依次执行以下三行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">cd</span> quickstart<br>$ git init<br>$ git submodule add https://github.com/miiiku/hugo-theme-kagome.git ./themes/kagome    <span class="hljs-comment">#此处的链接可根据需求替换</span><br></code></pre></td></tr></table></figure><p>然后更改配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">echo</span> theme = \&quot;ananke\&quot; &gt;&gt; config.toml<br></code></pre></td></tr></table></figure><h4 id="写下第一篇文章">4.写下第一篇文章</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hugo new posts/my-first-post.md<br></code></pre></td></tr></table></figure><p>文章会带一个<code>Format Matter</code></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: &quot;My First Post&quot;<br>date: 2022-08-08T20:00:11+08:00<br><span class="hljs-section">draft: true</span><br><span class="hljs-section">---</span><br></code></pre></td></tr></table></figure><p>当要发布文章时，将<code>draft: true</code>改为<code>false</code>即可</p><h4 id="本地预览">5.本地预览</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hugo server -D<br></code></pre></td></tr></table></figure><p>打开<ahref="http://localhost:1313">http://localhost:1313</a>查看效果</p><h4 id="主题配置">6.主题配置</h4><p>在<code>config.toml</code>中编辑即可</p><h3 id="部署">🪁部署</h3><h4 id="初始化">初始化</h4><p>执行<code>hugo -D</code>生成<code>./public</code>文件夹后，依次执行以下指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">cd</span> ~/quickstart/public  <span class="hljs-comment"># 生成的 HTML 文件保存在 &quot;public&quot; 目录中，&quot;public&quot; 文件夹会被转换为 Git 库。 </span><br>$ git init  <span class="hljs-comment"># 初始化 Git 库。</span><br></code></pre></td></tr></table></figure><h4 id="添加远程库">添加远程库</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git remote add origin git@github.com:&lt;YOURNAME&gt;/&lt;YOURNAME&gt;.github.io.git<br></code></pre></td></tr></table></figure><h4 id="提交更改">提交更改</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git status  <span class="hljs-comment"># 查看当前修改状态。</span><br>$ git add .  <span class="hljs-comment"># 添加所有修改过的文件。你也可以只添加某个文件。</span><br>$ git commit -m <span class="hljs-string">&quot;Add a new post&quot;</span>  <span class="hljs-comment"># commit message.</span><br></code></pre></td></tr></table></figure><h4 id="推送">推送</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git push -u origin main<br></code></pre></td></tr></table></figure><h4 id="完结撒花">完结撒花🎉</h4><h3 id="进阶">✨进阶</h3><p>略</p>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>堆</title>
    <link href="/posts/6d4014b7.html"/>
    <url>/posts/6d4014b7.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>堆是一种树形数据结构，每个结点的键值都大于等于（或小于等于）其父节点的键值。</p><p>按堆顶（即树根）键值是全堆的最大或最小值，堆可以分为大根堆与小根堆。</p><p>所有堆支持的三种基本操作是<strong>插入元素</strong>、<strong>查询堆顶</strong>、<strong>删除堆顶</strong>。</p><p>STL中的<strong>容器适配器</strong> <code>std::priority_queue</code>在默认情况下是使用 <code>std::vector</code> 存储的二叉大根堆。</p><h3 id="手写二叉堆">手写二叉堆</h3><blockquote><p><a href="http://oi.wiki/ds/binary-heap/">二叉堆 - OI Wiki</a></p></blockquote><p>最简单的堆是二叉堆，其形态是一棵完全二叉树。二叉堆可以直接使用数组进行存储，结点<code>x</code> 的左右儿子为 <code>2x = x&lt;&lt;1</code> 与<code>2x+1 = x&lt;&lt;1|1</code>。</p><p>堆的应用范围较广，除了在 Dijkstra算法中维护最近结点外，还广泛应用于在贪心题目中维护最优决策。</p><div class="note note-primary">            <h6 id="例题-2523-heap-a">例题 #2523 Heap A</h6><p>将 <span class="math inline">\(n\)</span> 件工具依次编号为，工作台上最多可以同时摆放 <span class="math inline">\(m\)</span>件工具，其余工具都在工具箱中，初始时工作台上没有工具。</p><p>现在要依次使用 <span class="math inline">\(p\)</span>件工具，若工作台上有当前需要的工具则可以直接使用，否则需要去工具箱中取出相应的工具，若工作台上的工具数量大于<span class="math inline">\(m\)</span>，则必须将其中一件工具重新放回箱中。</p><p>求最少需要从工具箱中取多少次工具。</p>          </div><div class="note note-success">            <h6 id="题解">题解</h6><p>贪心策略：若桌面空间不足，则桌面上下一次使用最晚的工具放回工具箱。</p><p>感性理解正确性：让下一次使用较早的工具留在桌面上更有可能使之后几次不需要取新工具。</p>          </div><h3 id="可撤回贪心">可撤回贪心</h3><div class="note note-primary">            <h6 id="例题-2524-heap-b">例题 #2524 Heap B</h6><p>一个环形广场周围有 <span class="math inline">\(n\)</span> 个空位，第<span class="math inline">\(i\)</span>个空位有一个美观度 <spanclass="math inline">\(a_i\)</span> 。</p><p>现在想把 <span class="math inline">\(m\)</span>棵树种进这些空位中，每个种了树的位置都会为广场提供其相应的美观度。</p><p>由于某些规划问题，相邻两个空位中不能同时种上树，试求可能取得的最大美观度。</p>          </div><div class="note note-success">            <h6 id="题解">题解</h6><p>堆与双向链表实现可撤回贪心。</p><p>每次贪心地选择美观度最大的，如果要撤回一棵树的选择，那么只可能是因为选择这棵树相邻的两棵树收益更大。因此可以在选择一棵树<code>i</code>后把这棵树及相邻的两棵树合并成一棵新的“树”，新树的美观度为<code>a[pre[i]]+a[nex[i]]-a[i]</code> 如果选择了这颗新“树”，就代表撤回树<code>i</code> 并选择 <code>pre[i]</code> 和<code>nex[i]</code>。使用双向循环链表维护树之间的前趋后继关系，用堆维护美观度最大的树即可。</p>          </div><h3 id="左偏树">左偏树</h3><blockquote><p><a href="https://oi.wiki/ds/leftist-tree/">左偏树-OI wiki</a></p></blockquote><p><strong>左偏树</strong>是一种<strong>可并堆</strong>，具有堆的性质，可以快速合并。</p><h4 id="text-dist-的定义和性质"><span class="math inline">\(\text{dist}\)</span> 的定义和性质</h4><p>对于一棵二叉树，我们定义 <strong>外节点</strong>为左儿子或右儿子为空的节点，定义一个外节点的 <spanclass="math inline">\(\text {dist}\)</span> 为 <spanclass="math inline">\(1\)</span> ，一个不是外节点的节点 <spanclass="math inline">\(\text {dist}\)</span>为其到子树中最近的外节点的距离加一。空节点的 <spanclass="math inline">\(\text{dist}\)</span> 为 <spanclass="math inline">\(0\)</span> 。</p><p><strong>一棵有</strong> <span class="math inline">\(n\)</span><strong>个节点的二叉树，根的</strong> <spanclass="math inline">\(\text{dist}\)</span> <strong>不超过</strong> <spanclass="math inline">\(\left\lceil\log (n+1)\right\rceil\)</span>（ <spanclass="math inline">\(\text{dist}\)</span><strong>性质</strong>），因为一棵根的 <spanclass="math inline">\(\text{dist}\)</span> 为 <spanclass="math inline">\(x\)</span> 的二叉树至少有 <spanclass="math inline">\(x-1\)</span> 层是满二叉树，那么就至少有 <spanclass="math inline">\(2^x-1\)</span>个节点。注意这个性质是所有二叉树都具有的，并不是左偏树所特有的。</p><h4 id="左偏树的定义和性质">左偏树的定义和性质</h4><p>左偏树是一棵二叉树，它不仅具有堆的性质，并且是「<strong>左偏</strong>」的：每个节点左儿子的<span class="math inline">\(\text{dist}\)</span> 都大于等于右儿子的<span class="math inline">\(\text{dist}\)</span> 。</p><p>因此，<strong>左偏树每个节点的</strong> <spanclass="math inline">\(\text{dist}\)</span><strong>都等于其右儿子的</strong> <spanclass="math inline">\(\text{dist}\)</span> <strong>加</strong> <spanclass="math inline">\(1\)</span>（<strong>左偏性质</strong>）。</p><p>需要注意的是， <span class="math inline">\(\text{dist}\)</span>不是深度， <strong>左偏树的深度没有保证</strong>，一条向左的链也是左偏树。</p><h4 id="核心操作---合并merge">核心操作 - 合并（<code>merge</code>)</h4><p>合并两个堆时，由于要满足堆性质，先取值较大的那个根作为合并后堆的根节点，然后将这个根的左儿子作为合并后堆的左儿子，递归地合并其<strong>右儿子</strong>与另一个堆，作为合并后的堆的右儿子。为了满足左偏性质，合并后若左儿子的<span class="math inline">\(\text{dist}\)</span> 小于右儿子的 <spanclass="math inline">\(\text{dist}\)</span> ，就交换两个儿子。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span>&#123;<br>    <span class="hljs-type">int</span> val,ls,rs,d;<br>&#125; h[N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (!x || !y) <span class="hljs-keyword">return</span> x | y;         <span class="hljs-comment">// 若一个堆为空则返回另一个堆</span><br>    <span class="hljs-keyword">if</span> (t[x].val &lt; t[y].val) std::<span class="hljs-built_in">swap</span>(x, y);  <span class="hljs-comment">// 取值较大的作为根</span><br>    t[x].rs = <span class="hljs-built_in">merge</span>(t[x].rs, y);        <span class="hljs-comment">// 递归合并右儿子与另一个堆</span><br>    <span class="hljs-keyword">if</span> (t[t[x].rs].d &gt; t[t[x].ls].d)<br>        std::<span class="hljs-built_in">swap</span>(t[x].ls, t[x].rs);    <span class="hljs-comment">// 若不满足左偏性质则交换左右儿子</span><br>    t[x].d = t[t[x].rs].d + <span class="hljs-number">1</span>;          <span class="hljs-comment">// 更新dist</span><br>    <span class="hljs-keyword">return</span> x;<br>&#125;<br></code></pre></td></tr></table></figure><p>由于<strong>左偏性质</strong>，每递归一层，其中一个堆根节点的 <spanclass="math inline">\(\text{dist}\)</span> 就会减小 ，又根据 <spanclass="math inline">\(\text{dist}\)</span><strong>性质</strong>，合并两个大小分别为 <spanclass="math inline">\(n\)</span> 和 <spanclass="math inline">\(m\)</span> 的堆复杂度是 <spanclass="math inline">\(O(\log n+\log m)\)</span> 。</p><p>左偏树还有一种无需交换左右儿子的写法：将 <spanclass="math inline">\(\text{dist}\)</span> 较大的儿子视作左儿子，<spanclass="math inline">\(\text{dist}\)</span> 较小的儿子视作右儿子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span>&amp; <span class="hljs-title">rs</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123; <span class="hljs-keyword">return</span> t[x].ch[t[t[x].ch[<span class="hljs-number">1</span>]].d &lt; t[t[x].ch[<span class="hljs-number">0</span>]].d]; &#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<br>  <span class="hljs-keyword">if</span> (!x || !y) <span class="hljs-keyword">return</span> x | y;<br>  <span class="hljs-keyword">if</span> (t[x].val &lt; t[y].val) <span class="hljs-built_in">swap</span>(x, y);<br>  <span class="hljs-built_in">rs</span>(x) = <span class="hljs-built_in">merge</span>(<span class="hljs-built_in">rs</span>(x), y);<br>  t[x].d = t[<span class="hljs-built_in">rs</span>(x)].d + <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">return</span> x;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="其它操作">其它操作</h4><h5 id="插入节点">插入节点</h5><p>单个节点也可以视为一个堆，合并即可。</p><h5 id="删除根">删除根</h5><p>合并根的左右儿子即可。</p><h5 id="删除任意节点">删除任意节点</h5><h6 id="做法">做法</h6><p>先将左右儿子合并，然后自底向上更新 <spanclass="math inline">\(\text{dist}\)</span>、不满足左偏性质时交换左右儿子，当<span class="math inline">\(\text{dist}\)</span>无需更新时结束递归：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span>&amp; <span class="hljs-title">rs</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123; <span class="hljs-keyword">return</span> t[x].ch[t[t[x].ch[<span class="hljs-number">1</span>]].d &lt; t[t[x].ch[<span class="hljs-number">0</span>]].d]; &#125;<br><br><span class="hljs-comment">// 有了 pushup，直接 merge 左右儿子就实现了删除节点并保持左偏性质</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<br>  <span class="hljs-keyword">if</span> (!x || !y) <span class="hljs-keyword">return</span> x | y;<br>  <span class="hljs-keyword">if</span> (t[x].val &lt; t[y].val) <span class="hljs-built_in">swap</span>(x, y);<br>  t[<span class="hljs-built_in">rs</span>(x) = <span class="hljs-built_in">merge</span>(<span class="hljs-built_in">rs</span>(x), y)].fa = x;<br>  <span class="hljs-built_in">pushup</span>(x);<br>  <span class="hljs-keyword">return</span> x;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>  <span class="hljs-keyword">if</span> (!x) <span class="hljs-keyword">return</span>;<br>  <span class="hljs-keyword">if</span> (t[x].d != t[<span class="hljs-built_in">rs</span>(x)].d + <span class="hljs-number">1</span>) &#123;<br>    t[x].d = t[<span class="hljs-built_in">rs</span>(x)].d + <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">pushup</span>(t[x].fa);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="复杂度证明">复杂度证明</h6><p>我们令当前 <code>pushup</code> 的这个节点为 <spanclass="math inline">\(x\)</span> ，其父亲为 <spanclass="math inline">\(y\)</span> ，一个节点的“初始 ” <spanclass="math inline">\(\text{dist}\)</span> 为它在 <code>pushup</code>前的 <span class="math inline">\(\text{dist}\)</span> 。我们先<code>pushup</code> 一下删除的节点，然后从其父亲开始起讨论复杂度。</p><p>继续递归下去有两种情况：</p><ol type="1"><li><span class="math inline">\(x\)</span> 是 <spanclass="math inline">\(y\)</span> 的右儿子，此时 <spanclass="math inline">\(y\)</span> 的初始 <spanclass="math inline">\(\text{dist}\)</span> 为 <spanclass="math inline">\(x\)</span> 的初始 <spanclass="math inline">\(\text{dist}\)</span> 加一。</li><li><span class="math inline">\(x\)</span> 是 <spanclass="math inline">\(y\)</span> 的左儿子，只有 <spanclass="math inline">\(y\)</span> 的左右儿子初始 <spanclass="math inline">\(\text{dist}\)</span> 相等时（此时左儿子 <spanclass="math inline">\(\text{dist}\)</span>减一会导致左右儿子互换）才会继续递归下去，因此 <spanclass="math inline">\(y\)</span> 的初始 <spanclass="math inline">\(\text{dist}\)</span> 仍然是 <spanclass="math inline">\(x\)</span> 的初始 <spanclass="math inline">\(\text{dist}\)</span> 加一。</li></ol><p>所以，我们得到，除了第一次<code>pushup</code>（因为被删除节点的父亲的初始 <spanclass="math inline">\(\text{dist}\)</span>不一定等于被删除节点左右儿子合并后的初始 <spanclass="math inline">\(\text{dist}\)</span> 加一），每递归一层 <spanclass="math inline">\(x\)</span> 的初始 <spanclass="math inline">\(\text{dist}\)</span> 就会加一，因此最多递归 <spanclass="math inline">\(O(\log n)\)</span> 层。</p><h5id="整个堆加上减去一个值乘上一个正数">整个堆加上/减去一个值、乘上一个正数</h5><p>其实可以打标记且不改变相对大小的操作都可以。</p><p>在根打上标记，删除根/合并堆（访问儿子）时下传标记即可：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<br>  <span class="hljs-keyword">if</span> (!x || !y) <span class="hljs-keyword">return</span> x | y;<br>  <span class="hljs-keyword">if</span> (t[x].val &gt; t[y].val) <span class="hljs-built_in">swap</span>(x, y);<br>  <span class="hljs-built_in">pushdown</span>(x);<br>  t[x].rs = <span class="hljs-built_in">merge</span>(t[x].rs, y);<br>  <span class="hljs-keyword">if</span> (t[t[x].rs].d &gt; t[t[x].ls].d) <span class="hljs-built_in">swap</span>(t[x].ls, t[x].rs);<br>  t[x].d = t[t[x].rs].d + <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">return</span> x;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">pop</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>  <span class="hljs-built_in">pushdown</span>(x);<br>  <span class="hljs-keyword">return</span> <span class="hljs-built_in">merge</span>(t[x].ls, t[x].rs);<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="随机合并">随机合并</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<br>  <span class="hljs-keyword">if</span> (!x || !y) <span class="hljs-keyword">return</span> x | y;<br>  <span class="hljs-keyword">if</span> (t[y].val &lt; t[x].val) <span class="hljs-built_in">swap</span>(x, y);<br>  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">rand</span>() &amp; <span class="hljs-number">1</span>)  <span class="hljs-comment">// 随机选择是否交换左右子节点</span><br>    <span class="hljs-built_in">swap</span>(t[x].ls, t[x].rs);<br>  t[x].ls = <span class="hljs-built_in">merge</span>(t[x].ls, y);<br>  <span class="hljs-keyword">return</span> x;<br>&#125;<br></code></pre></td></tr></table></figure><p>可以看到该实现方法唯一不同之处便是采用了随机数来实现合并，这样一来便可以省去<span class="math inline">\(\text{dist}\)</span>的相关计算。且平均时间复杂度亦为 <span class="math inline">\(O(\logn)\)</span> ，详细证明可参考 <ahref="https://cp-algorithms.com/data_structures/randomized_heap.html">RandomizedHeap</a>。</p><h4 id="注意事项">注意事项</h4><p>一般需要用数组记录每个堆的堆顶编号/指针。</p><p>题目中通常需要操作的是「 <span class="math inline">\(x\)</span>所在的堆」，这时一般需要同时维护<strong>并查集</strong>用于查询「 <spanclass="math inline">\(x\)</span> 所在的堆」的根结点。</p><h3 id="配对堆">配对堆</h3><blockquote><p><a href="https://oi.wiki/ds/pairing-heap/">配对堆-OI wiki</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>笔记</category>
      
      <category>数据结构</category>
      
    </categories>
    
    
    <tags>
      
      <tag>学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VuePress搭建个人博客</title>
    <link href="/posts/f4df537b.html"/>
    <url>/posts/f4df537b.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="vuepress介绍">VuePress介绍</h3><p><code>VuePress</code>由两部分组成：第一部分是一个<ahref="https://github.com/vuejs/vuepress/tree/master/packages/%40vuepress/core">极简静态网站生成器</a><ahref="https://github.com/vuejs/vuepress/tree/master/packages/%40vuepress/core"></a>，它包含由<code>Vue</code> 驱动的<ahref="https://www.vuepress.cn/theme/">主题系统</a>和<ahref="https://www.vuepress.cn/plugin/">插件API</a>，另一个部分是为书写技术文档而优化的<ahref="https://www.vuepress.cn/theme/default-theme-config.html">默认主题</a>，它的诞生初衷是为了支持<code>Vue</code> 及其子项目的文档需求。</p><p>每一个由 <code>VuePress</code> 生成的页面都带有预渲染好的<code>HTML</code>，也因此具有非常好的加载性能和搜索引擎优化（<code>SEO</code>）。同时，一旦页面被加载，<code>Vue</code>将接管这些静态内容，并将其转换成一个完整的单页应用（<code>SPA</code>），其他的页面则会只在用户浏览到的时候才按需加载。</p><h4 id="工作原理">工作原理</h4><p>事实上，一个 <code>VuePress</code> 网站是一个由 <ahref="http://vuejs.org/">Vue</a><a href="http://vuejs.org/"></a>、<ahref="https://github.com/vuejs/vue-router">Vue Router</a> 和 <ahref="http://webpack.js.org/">webpack</a><ahref="http://webpack.js.org/"></a>驱动的单页应用。如果你以前使用过<code>Vue</code>的话，当你在开发一个自定义主题的时候，你会感受到非常熟悉的开发体验，你甚至可以使用<code>Vue DevTools</code> 去调试你的自定义主题。</p><p>在构建时，我们会为应用创建一个服务端渲染（<code>SSR</code>）的版本，然后通过虚拟访问每一条路径来渲染对应的HTML。这种做法的灵感来源于<a href="https://nuxtjs.org/">Nuxt</a>的 <code>nuxt generate</code>命令，以及其他的一些项目，比如 <ahref="https://www.gatsbyjs.org/">Gatsby</a>。</p><h4 id="主题">主题</h4><p>本文以<code>vuepress-theme-hope</code> 为例</p><p>主题不仅在默认主题的基础上<strong>大幅提高美观性</strong>，同时搭配各种插件，<strong>在各种细节与功能上为VuePress 提供全方位的增强</strong>。</p><p><a href="https://www.vuepress.cn/">VuePress文档</a></p><p><ahref="https://vuepress-theme-hope.github.io/v2/zh/">主题文档</a></p><h3 id="安装使用">🔭安装/使用</h3><h4 id="安装">安装</h4><p>在当前项目的 <code>[dir]</code> 文件夹内创建 vuepress-theme-hope项目:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm init vuepress-theme-hope@next [<span class="hljs-built_in">dir</span>]<br></code></pre></td></tr></table></figure><p>注：这里的 <code>[dir]</code>是一个参数，你需要使用真实的文件夹名称替换它，例如<code>docs</code>、<code>src</code> 或其他你喜欢的名称。</p><p>具体流程如下：</p><figure><img src="https://s2.loli.net/2022/08/08/XRK8Ntl1YELqQDj.png"alt="安装流程" /><figcaption aria-hidden="true">安装流程</figcaption></figure><h4 id="使用">使用</h4><p>请在配置文件中导入并使用 <code>hopeTheme</code> 以使用<code>vuepress-theme-hope</code>。</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// .vuepress/config.ts</span><br><span class="hljs-keyword">import</span> &#123; defineUserConfig &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuepress&quot;</span>;<br><span class="hljs-keyword">import</span> theme <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./theme&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; hopeTheme &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuepress-theme-hope&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineUserConfig</span>(&#123;<br>  <span class="hljs-attr">base</span>: <span class="hljs-string">&quot;/docs/&quot;</span>,<br><br>  <span class="hljs-attr">locales</span>: &#123;<br>    <span class="hljs-string">&quot;/&quot;</span>: &#123;<br>      <span class="hljs-attr">lang</span>: <span class="hljs-string">&quot;en-US&quot;</span>,<br>      <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;&quot;</span>,<br>      <span class="hljs-attr">description</span>: <span class="hljs-string">&quot;&quot;</span>,<br>    &#125;,<br>    <span class="hljs-string">&quot;/zh/&quot;</span>: &#123;<br>      <span class="hljs-attr">lang</span>: <span class="hljs-string">&quot;zh-CN&quot;</span>,<br>      <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;&quot;</span>,<br>      <span class="hljs-attr">description</span>: <span class="hljs-string">&quot;&quot;</span>,<br>    &#125;,<br>  &#125;,<br><br>  theme,<br>&#125;);<br></code></pre></td></tr></table></figure><p>可以查看 <ahref="https://github.com/vuepress-theme-hope/vuepress-theme-hope/blob/main/docs/theme/src/.vuepress/config.ts">主题文档配置</a>作为一个配置参考。</p><h3 id="功能">🖌️功能</h3><p><ahref="https://vuepress-theme-hope.github.io/v2/zh/guide/get-started/markdown.html">Markdown</a></p><p><ahref="https://vuepress-theme-hope.github.io/v2/zh/guide/interface/#%E7%9B%AE%E5%BD%95">界面</a></p><p><ahref="https://vuepress-theme-hope.github.io/v2/zh/guide/markdown/">Markdown增强</a></p><p><ahref="https://vuepress-theme-hope.github.io/v2/zh/guide/layout/">布局</a></p><p><ahref="https://vuepress-theme-hope.github.io/v2/zh/guide/feature">功能</a></p><p><ahref="https://vuepress-theme-hope.github.io/v2/zh/guide/blog/">博客</a></p><p><ahref="https://vuepress-theme-hope.github.io/v2/zh/guide/advanced/">高级</a></p><h3 id="部署到github">🛹部署到GitHub</h3><ol type="1"><li><p>到<code>&lt;USERNAME&gt;.github.io</code>：参见前文</p></li><li><p>到<code>&lt;USERNAME&gt;.github.io/&lt;REPO&gt;/</code></p><p>在仓库中新建<code>gh-pages</code>分支即可</p></li></ol><p>为了方便部署,我们可以安装一个插件叫做 <code>gh-pages</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add -D gh-pages<br></code></pre></td></tr></table></figure><p>然后修改<code>package.json</code>中的脚本命令,添加如下的两条,</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;deploy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gh-pages -d docs/.vuepress/dist&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;commit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;yarn docs:build &amp;&amp; yarn deploy&quot;</span><br></code></pre></td></tr></table></figure><p>修改后的文件如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;docs&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.0.0&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;A project of vuepress-theme-hope&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;license&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;MIT&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;docs:build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vuepress build docs&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;docs:clean-dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vuepress dev ./docs --clean-cache&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;docs:dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vuepress dev ./docs&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;deploy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gh-pages -d docs/.vuepress/dist&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;commit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;yarn docs:build &amp;&amp; yarn deploy&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;devDependencies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;@vuepress/client&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^2.0.0-beta.48&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;gh-pages&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^4.0.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;vue&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^3.2.36&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;vuepress&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^2.0.0-beta.48&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;vuepress-theme-hope&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^2.0.0-beta.84&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>此时执行<code>yarn commit</code>就可以部署了。</p><p>至于报错，可能是因为你的项目还没有关联仓库地址，只要关联下问题就解决了。至于如何关联,其实我们在<code>GitHub</code>创建空项目的时候，<code>GitHub</code>会告诉我们该如何做。这个比较简单，这里就不做过多阐述了。</p>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>如何使用Typora+Fluid优雅的写作</title>
    <link href="/posts/26036c99.html"/>
    <url>/posts/26036c99.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="前言">前言</h2><p>Fluid是一款很十分优雅的主题，那么写一篇优雅的文章搭配它呢？以下会从几个方面来简述，主要还是做几个推荐。</p><h2 id="文章内容">文章内容</h2><h3 id="熟悉-markdown-语法">熟悉 Markdown 语法</h3><h4 id="标题">标题</h4><ol type="1"><li><p>使用 <code>#</code> 表示标题，其中 <code>#</code>号必须在行首</p></li><li><p>使用 <code>===</code> 或者 <code>---</code> 表示。</p></li></ol><p>示例：</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs clean"># 一级标题<br>## 二级标题<br>### 三级标题<br>#### 四级标题<br>##### 五级标题<br>###### 六级标题<br><br>一级标题<br>---<br>二级标题<br>===<br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/MWNRKTBp6dGOUVJ.png"alt="标题样式" /><figcaption aria-hidden="true">标题样式</figcaption></figure><h4 id="分割线">分割线</h4><p>使用三个或以上的 <code>-</code> 或者 <code>*</code>表示，且这一行只有符号，<strong>注意不要被识别为二级标题即可</strong>，例如中间或者前面可以加空格。</p><p>示例：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">------<br></code></pre></td></tr></table></figure><hr /><h4 id="斜体和粗体">斜体和粗体</h4><p>使用 <code>*</code> 和 <code>**</code>分别表示斜体和粗体，删除线使用两个 <code>~</code> 表示</p><p>示例：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-emphasis">*我是斜体*</span><br><span class="hljs-strong">**我是粗体**</span><br><span class="hljs-strong">**<span class="hljs-emphasis">*我又斜又粗*</span>**</span><br>~~我无了~~<br></code></pre></td></tr></table></figure><p><em>我是斜体</em> <strong>我是粗体</strong><strong><em>我又斜又粗</em></strong> <del>我无了</del></p><h4 id="超链接和图片">超链接和图片</h4><p>链接和图片的写法类似，图片仅在超链接前多了一个 <code>!</code>，一般是 [文字描述] (链接)</p><p>示例：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs markdown">[<span class="hljs-string">百度</span>](<span class="hljs-link">https://www.baidu.com</span>)<br>![<span class="hljs-string">Logo</span>](<span class="hljs-link">https://qwerx29.coding.net/p/mycdn/d/img/git/raw/master/202205111741670.png</span>)<br></code></pre></td></tr></table></figure><p><a href="https://www.baidu.com">百度</a> <imgsrc="https://s2.loli.net/2022/08/08/iPVD2BjrQF38H6a.png"alt="Logo" /></p><h4 id="无序列表">无序列表</h4><p>使用 <code>-</code>、<code>+</code> 和 <code>*</code>表示无序列表，前后留一行空白，可嵌套，例如</p><ul><li></li><li></li><li></li></ul><h4 id="有序列表">有序列表</h4><p>使用 <code>1.</code> （点号后面有个空格）表示有序列表，可嵌套。</p><h4 id="文字引用">文字引用</h4><p>使用 <code>&gt;</code> 表示，可以有多个<code>&gt;</code>，表示层级更深，例如</p><blockquote><p>。</p><blockquote><p>。。</p><blockquote><p>。。。</p></blockquote></blockquote><p>。</p></blockquote><h4 id="行内代码块">行内代码块</h4><p>其实上面已经用过很多次了，即使用 ` 表示，例如<code>HelloWorld</code></p><p>扩展：很多字符是需要转义，使用反斜杠 <code>\</code> 进行转义</p><h4 id="代码块">代码块</h4><p>使用四个空格缩进表示代码块，一些 IDE 支持行数提示和着色，一般使用三个` 表示，例如</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-code">```python</span><br><span class="hljs-code">print(&quot;Hello World&quot;)</span><br><span class="hljs-code">```</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello World&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="流程图">流程图</h4><p>支持Mermaid流程图</p><p>示例：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-code">```mermaid</span><br><span class="hljs-code">classDiagram</span><br><span class="hljs-code">Class01 &lt;|-- AveryLongClass : Cool</span><br><span class="hljs-code">Class03 *-- Class04</span><br><span class="hljs-code">Class05 o-- Class06</span><br><span class="hljs-code">Class07 .. Class08</span><br><span class="hljs-code">Class09 --&gt; C2 : Where am i?</span><br><span class="hljs-code">Class09 --* C3</span><br><span class="hljs-code">Class09 --|&gt; Class07</span><br><span class="hljs-code">Class07 : equals()</span><br><span class="hljs-code">Class07 : Object[] elementData</span><br><span class="hljs-code">Class01 : size()</span><br><span class="hljs-code">Class01 : int chimp</span><br><span class="hljs-code">Class01 : int gorilla</span><br><span class="hljs-code">Class08 &lt;--&gt; C2: Cool label</span><br></code></pre></td></tr></table></figure><pre><code class=" mermaid">classDiagramClass01 &lt;|-- AveryLongClass : CoolClass03 *-- Class04Class05 o-- Class06Class07 .. Class08Class09 --&gt; C2 : Where am i?Class09 --* C3Class09 --|&gt; Class07Class07 : equals()Class07 : Object[] elementDataClass01 : size()Class01 : int chimpClass01 : int gorillaClass08 &lt;--&gt; C2: Cool label</code></pre><h4 id="数学公式">数学公式</h4><p>使用 <code>$</code> 表示，其中一个 <code>$</code> 表示在行内，两个<code>$</code> 表示独占一行。</p><p>eg : <span class="math inline">\(\sum_{i=1}^n a_i=0\)</span></p><p>支持 <strong>LaTeX</strong> 编辑显示支持，访问 <ahref="https://katex.org/docs/api.html">Katex</a>参考更多使用方法。</p><p>推荐一个常用的数学公式在线编译网站：https://www.latexlive.com/</p><h4 id="表格">表格</h4><table style="width:100%;"><thead><tr class="header"><th>站点</th><th style="text-align: center;">地址</th><th style="text-align: right;">介绍</th></tr></thead><tbody><tr class="odd"><td>Fluid Docs</td><td style="text-align: center;">https://hexo.fluid-dev.com/docs/</td><td style="text-align: right;">Fluid 官方文档</td></tr><tr class="even"><td>Hexo-theme-fluid</td><tdstyle="text-align: center;">https://github.com/fluid-dev/hexo-theme-fluid</td><td style="text-align: right;">Fluid Github Repo</td></tr><tr class="odd"><td>Fluid Blog</td><td style="text-align: center;">https://hexo.fluid-dev.com/</td><td style="text-align: right;">Fluid 官方博客</td></tr></tbody></table><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs markdown">站点|地址|介绍<br>--|:--:|--:<br>Fluid Docs|https://hexo.fluid-dev.com/docs/|Fluid 官方文档<br>Hexo-theme-fluid|https://github.com/fluid-dev/hexo-theme-fluid|Fluid Github Repo<br>Fluid Blog|https://hexo.fluid-dev.com/|Fluid 官方博客<br></code></pre></td></tr></table></figure><h4 id="脚注">脚注</h4><p>默认渲染器下正常显示，不同渲染器显示效果不同，写法如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs markdown">脚注演示[^1]<br>[<span class="hljs-symbol">^1</span>]: <span class="hljs-link">脚注内容演示</span><br></code></pre></td></tr></table></figure><p><del>至于为什么有些公式、流程图无法渲染，是因为 <strong>Markdown追求简洁式写作，默认渲染器不支持复杂渲染。</strong></del></p><h3 id="善用-html">善用 HTML</h3><p>我们可以在 Markdown 中插入一些简单的 HTML 代码或 CSS片段来获得更多扩展，使得文章内容更具有多样性。以下演示几个简单功能。</p><p><a id="demo">跳转位置演示（跳转位置设置点）</a></p><h4 id="文字颜色">文字颜色</h4><p><span style="color: #519D9E; ">#519D9E颜色演示</span></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>  <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color: #519D9E; &quot;</span>&gt;</span>#519D9E颜色演示<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br></code></pre></td></tr></table></figure><hr /><h4 id="文字大小">文字大小</h4><p><span style="font-size:0.7em;">0.7em 文字大小演示</span></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>  <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size:0.7em;&quot;</span>&gt;</span>0.7em 文字大小演示<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br></code></pre></td></tr></table></figure><hr /><h4 id="文字位置">文字位置</h4><p style="text-align:center">内容居中演示</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align:center&quot;</span>&gt;</span>内容居中演示<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> # 可以修改 text-align 参数来设置文字位置。<br></code></pre></td></tr></table></figure><hr /><h4 id="页内跳转">页内跳转</h4><p><a href="#demo">点击到达跳转位置演示</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#demo&quot;</span>&gt;</span>点击到达跳转位置演示<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> # 在需要跳转的地方添加此代码。<br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span>跳转位置演示（跳转位置设置点）<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> # 在跳转位置添加此代码。<br></code></pre></td></tr></table></figure><hr /><h4 id="综合演示">综合演示</h4><p style="text-align:center;color:#8EC0E4;font-size:1.5em;font-weight: bold;">综合演示 <br> 优雅使用 Fluid 写文章</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align:center;color:#8EC0E4;font-size:1.5em;font-weight: bold;&quot;</span>&gt;</span><br>综合演示<br><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>优雅使用 Fluid 写文章<br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="iframe-页面镶套">iframe 页面镶套</h4><p>iframe 页面镶套可以帮助我们更好的展示一个页面。比如以下演示页面。</p><iframe src="https://phantasus.vercel.app/" name="topFrame" scrolling="yes" noresize="noresize" id="topFrame" width="100%" height="650" frameborder="0"></iframe><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://phantasus.vercel.app/&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;100%&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;500&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;topFrame&quot;</span> <span class="hljs-attr">scrolling</span>=<span class="hljs-string">&quot;yes&quot;</span>  <span class="hljs-attr">noresize</span>=<span class="hljs-string">&quot;noresize&quot;</span> <span class="hljs-attr">frameborder</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;topFrame&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br></code></pre></td></tr></table></figure><p>一些参数说明，<code>width="100%"</code>为宽度自适应，高度请根据实际需求跳转，<strong>注意移动端页面是否匹配。</strong><code>scrolling</code> 为滚动条参数。<code>frameborder</code>为边框参数。<code>noresize</code> 属性规定用户无法调整框架的大小。</p><h4 id="details-标签">details 标签</h4><p>用于展示代码较多需要折叠或折叠相关内容，以下为演示。<code>summary</code>填写显示名称。</p><details><summary>Demo</summary><p><b>。。。</b></p><p><b>。。。</b></p></details><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">details</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">summary</span>&gt;</span>Demo<span class="hljs-tag">&lt;/<span class="hljs-name">summary</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>。。。<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>。。。<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">details</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="善用-tag-组件">善用 Tag 组件</h3><p>Fluid 内置了许多 Tag组件，包含便签、行内标签（已知不会出现间隔，谨慎使用）、勾选框、按钮和组图，可以使用这些组件来丰富文章内容，具体点击查看官方文档查看，<strong><ahref="https://hexo.fluid-dev.com/docs/guide/#tag-插件">点击跳转到 FluidDoc</a></strong>。</p><h2 id="配图">配图</h2><p>众所周知，<strong>博客好不好看，配图占一半</strong>。这里给大家推荐几个我常用找配图的地方。<strong>另外，请遵循相关网站的版权协议。</strong></p><h3 id="wallpaper-hub">Wallpaper Hub</h3><figure><img src="https://s2.loli.net/2022/08/08/H4woiyBbGe8hsW5.png"alt="Wallpaper Hub" /><figcaption aria-hidden="true">Wallpaper Hub</figcaption></figure><p><strong><a href="https://wallpaperhub.app/">点击跳转到 WallpaperHub</a></strong></p><h3 id="wallhaven">Wallhaven</h3><figure><img src="https://s2.loli.net/2022/08/08/YyR5NkGT1IZe4xA.png"alt="Wallhaven" /><figcaption aria-hidden="true">Wallhaven</figcaption></figure><p><strong><a href="https://wallhaven.cc/">点击跳转到Wallhaven</a></strong></p><h3 id="unsplash">Unsplash</h3><figure><img src="https://s2.loli.net/2022/08/08/Xq4Ya5wPJplCegd.png"alt="Unsplash" /><figcaption aria-hidden="true">Unsplash</figcaption></figure><p><strong><a href="https://unsplash.com/">点击跳转到Unsplash</a></strong></p>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo个人博客美化之花里胡哨Pro</title>
    <link href="/posts/ac736f0d.html"/>
    <url>/posts/ac736f0d.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>之前介绍了<code>GitHub Pages</code>+<code>Hexo</code>搭建个人博客和一些美化操作，今天我们继续魔改博客，让它变得更加花里胡哨——通过<code>js</code>和<code>css</code>更加自由地美化我们的博客</p><span id="more"></span><p class="note note-danger">注意<br/>一次性加载过多JS会导致网页卡顿</p><h3 id="在主题中引入jscss">🖼️在主题中引入js&amp;css</h3><h4 id="新建css或者js文件">新建css或者js文件</h4><p>我们以<code>css</code>为例，在<code>themes\fluid\source\css\</code>文件夹下新建一个文本文档，找到一段可用的<code>css</code>美化代码，复制粘贴的新建的文档里面，然后把文档的<code>.txt</code>修改成<code>.css</code>然后打开主题配置文件找到<code>custom_js</code>和<code>custom_js</code>下面进行引入</p><div class="note note-info">            <p>以下所有文件的引入方法不再重复</p>          </div><h4 id="把新建的cssjs文件引入主题">把新建的css(js)文件引入主题</h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># 指定自定义 .js 文件路径</span><br><span class="hljs-attr">custom_js:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/js/example.js</span><br><span class="hljs-comment"># 指定自定义 .css 文件路径，用法和 custom_js 相同</span><br><span class="hljs-attr">custom_css:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">/css/example.css</span><br></code></pre></td></tr></table></figure><h3 id="js类特效">🎪JS类特效</h3><h4 id="鼠标点击">鼠标点击</h4><h5 id="爱心效果">爱心效果</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">!<span class="hljs-keyword">function</span>(<span class="hljs-params">e,t,a</span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">n</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-title function_">c</span>(<span class="hljs-string">&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#x27;&#x27;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 500%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;</span>),<span class="hljs-title function_">o</span>(),<span class="hljs-title function_">r</span>()&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">r</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;d.<span class="hljs-property">length</span>;e++)d[e].<span class="hljs-property">alpha</span>&lt;=<span class="hljs-number">0</span>?(t.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(d[e].<span class="hljs-property">el</span>),d.<span class="hljs-title function_">splice</span>(e,<span class="hljs-number">1</span>)):(d[e].<span class="hljs-property">y</span>--,d[e].<span class="hljs-property">scale</span>+=<span class="hljs-number">.004</span>,d[e].<span class="hljs-property">alpha</span>-=<span class="hljs-number">.013</span>,d[e].<span class="hljs-property">el</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span>=<span class="hljs-string">&quot;left:&quot;</span>+d[e].<span class="hljs-property">x</span>+<span class="hljs-string">&quot;px;top:&quot;</span>+d[e].<span class="hljs-property">y</span>+<span class="hljs-string">&quot;px;opacity:&quot;</span>+d[e].<span class="hljs-property">alpha</span>+<span class="hljs-string">&quot;;transform:scale(&quot;</span>+d[e].<span class="hljs-property">scale</span>+<span class="hljs-string">&quot;,&quot;</span>+d[e].<span class="hljs-property">scale</span>+<span class="hljs-string">&quot;) rotate(45deg);background:&quot;</span>+d[e].<span class="hljs-property">color</span>+<span class="hljs-string">&quot;;z-index:99999&quot;</span>);<span class="hljs-title function_">requestAnimationFrame</span>(r)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">o</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">var</span> t=<span class="hljs-string">&quot;function&quot;</span>==<span class="hljs-keyword">typeof</span> e.<span class="hljs-property">onclick</span>&amp;&amp;e.<span class="hljs-property">onclick</span>;e.<span class="hljs-property">onclick</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;t&amp;&amp;<span class="hljs-title function_">t</span>(),<span class="hljs-title function_">i</span>(e)&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">i</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">var</span> a=t.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;div&quot;</span>);a.<span class="hljs-property">className</span>=<span class="hljs-string">&quot;heart&quot;</span>,d.<span class="hljs-title function_">push</span>(&#123;<span class="hljs-attr">el</span>:a,<span class="hljs-attr">x</span>:e.<span class="hljs-property">clientX</span>-<span class="hljs-number">5</span>,<span class="hljs-attr">y</span>:e.<span class="hljs-property">clientY</span>-<span class="hljs-number">5</span>,<span class="hljs-attr">scale</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">alpha</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">color</span>:<span class="hljs-title function_">s</span>()&#125;),t.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(a)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">c</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">var</span> a=t.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;style&quot;</span>);a.<span class="hljs-property">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>;<span class="hljs-keyword">try</span>&#123;a.<span class="hljs-title function_">appendChild</span>(t.<span class="hljs-title function_">createTextNode</span>(e))&#125;<span class="hljs-keyword">catch</span>(t)&#123;a.<span class="hljs-property">styleSheet</span>.<span class="hljs-property">cssText</span>=e&#125;t.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&quot;head&quot;</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">appendChild</span>(a)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">s</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-string">&quot;rgb(&quot;</span>+~~(<span class="hljs-number">255</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>())+<span class="hljs-string">&quot;,&quot;</span>+~~(<span class="hljs-number">255</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>())+<span class="hljs-string">&quot;,&quot;</span>+~~(<span class="hljs-number">255</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>())+<span class="hljs-string">&quot;)&quot;</span>&#125;<span class="hljs-keyword">var</span> d=[];e.<span class="hljs-property">requestAnimationFrame</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span> e.<span class="hljs-property">requestAnimationFrame</span>||e.<span class="hljs-property">webkitRequestAnimationFrame</span>||e.<span class="hljs-property">mozRequestAnimationFrame</span>||e.<span class="hljs-property">oRequestAnimationFrame</span>||e.<span class="hljs-property">msRequestAnimationFrame</span>||<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-built_in">setTimeout</span>(e,<span class="hljs-number">1e3</span>/<span class="hljs-number">60</span>)&#125;&#125;(),<span class="hljs-title function_">n</span>()&#125;(<span class="hljs-variable language_">window</span>,<span class="hljs-variable language_">document</span>);<br><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/rYSlwkJosThdimx.png"alt="样式预览" /><figcaption aria-hidden="true">样式预览</figcaption></figure><h5 id="自定义文字">自定义文字</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a_idx = <span class="hljs-number">0</span>;<br><span class="hljs-title function_">jQuery</span>(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>) &#123;<br>    $(<span class="hljs-string">&quot;body&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>        <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span><br>        (<span class="hljs-string">&quot;富强&quot;</span>, <span class="hljs-string">&quot;民主&quot;</span>, <span class="hljs-string">&quot;文明&quot;</span>, <span class="hljs-string">&quot;和谐&quot;</span>, <span class="hljs-string">&quot;自由&quot;</span>, <span class="hljs-string">&quot;平等&quot;</span>, <span class="hljs-string">&quot;公正&quot;</span>, <span class="hljs-string">&quot;法治&quot;</span>, <span class="hljs-string">&quot;爱国&quot;</span>, <span class="hljs-string">&quot;敬业&quot;</span>, <span class="hljs-string">&quot;诚信&quot;</span>, <span class="hljs-string">&quot;友善&quot;</span>);<br>        <span class="hljs-keyword">var</span> $i = $(<span class="hljs-string">&quot;&lt;span/&gt;&quot;</span>).<span class="hljs-title function_">text</span>(a[a_idx]);<br>        a_idx = (a_idx + <span class="hljs-number">1</span>) % a.<span class="hljs-property">length</span>;<br>        <span class="hljs-keyword">var</span> x = e.<span class="hljs-property">pageX</span>,<br>        y = e.<span class="hljs-property">pageY</span>;<br>        $i.<span class="hljs-title function_">css</span>(&#123;<br>            <span class="hljs-string">&quot;z-index&quot;</span>: <span class="hljs-number">5</span>,<br>            <span class="hljs-string">&quot;top&quot;</span>: y - <span class="hljs-number">20</span>,<br>            <span class="hljs-string">&quot;left&quot;</span>: x,<br>            <span class="hljs-string">&quot;position&quot;</span>: <span class="hljs-string">&quot;absolute&quot;</span>,<br>            <span class="hljs-string">&quot;font-weight&quot;</span>: <span class="hljs-string">&quot;bold&quot;</span>,<br>            <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#FF0000&quot;</span><br>        &#125;);<br>        $(<span class="hljs-string">&quot;body&quot;</span>).<span class="hljs-title function_">append</span>($i);<br>        $i.<span class="hljs-title function_">animate</span>(&#123;<br>            <span class="hljs-string">&quot;top&quot;</span>: y - <span class="hljs-number">180</span>,<br>            <span class="hljs-string">&quot;opacity&quot;</span>: <span class="hljs-number">0</span><br>        &#125;,<br><span class="hljs-number">3000</span>,<br><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    $i.<span class="hljs-title function_">remove</span>();<br>&#125;);<br>    &#125;);<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-string">&#x27;delay()&#x27;</span>, <span class="hljs-number">2000</span>);<br>&#125;);<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">delay</span>(<span class="hljs-params"></span>) &#123;<br>    $(<span class="hljs-string">&quot;.buryit&quot;</span>).<span class="hljs-title function_">removeAttr</span>(<span class="hljs-string">&quot;onclick&quot;</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure><p>其中的社会主义核心价值观可以根据你自己的创意替换为其他文字</p><p>如果想要每次点击显示的文字为不同颜色，可以将其中 color值进行如下更改：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;rgb(&quot;</span> + ~~(<span class="hljs-number">255</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) + <span class="hljs-string">&quot;,&quot;</span> + ~~(<span class="hljs-number">255</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) + <span class="hljs-string">&quot;,&quot;</span> + ~~(<span class="hljs-number">255</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) + <span class="hljs-string">&quot;)&quot;</span><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/UiSRXQGrf9WyBaY.png"alt="样式预览" /><figcaption aria-hidden="true">样式预览</figcaption></figure><h5 id="烟花效果">烟花效果</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&quot;use strict&quot;</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateCoords</span>(<span class="hljs-params">e</span>)&#123;pointerX=(e.<span class="hljs-property">clientX</span>||e.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">clientX</span>)-canvasEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">left</span>,pointerY=e.<span class="hljs-property">clientY</span>||e.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">clientY</span>-canvasEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">top</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">setParticuleDirection</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">var</span> t=anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>,<span class="hljs-number">360</span>)*<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">180</span>,a=anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">50</span>,<span class="hljs-number">180</span>),n=[-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>][anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)]*a;<span class="hljs-keyword">return</span>&#123;<span class="hljs-attr">x</span>:e.<span class="hljs-property">x</span>+n*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(t),<span class="hljs-attr">y</span>:e.<span class="hljs-property">y</span>+n*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t)&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">createParticule</span>(<span class="hljs-params">e,t</span>)&#123;<span class="hljs-keyword">var</span> a=&#123;&#125;;<span class="hljs-keyword">return</span> a.<span class="hljs-property">x</span>=e,a.<span class="hljs-property">y</span>=t,a.<span class="hljs-property">color</span>=colors[anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>,colors.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>)],a.<span class="hljs-property">radius</span>=anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">16</span>,<span class="hljs-number">32</span>),a.<span class="hljs-property">endPos</span>=<span class="hljs-title function_">setParticuleDirection</span>(a),a.<span class="hljs-property">draw</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;ctx.<span class="hljs-title function_">beginPath</span>(),ctx.<span class="hljs-title function_">arc</span>(a.<span class="hljs-property">x</span>,a.<span class="hljs-property">y</span>,a.<span class="hljs-property">radius</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>,!<span class="hljs-number">0</span>),ctx.<span class="hljs-property">fillStyle</span>=a.<span class="hljs-property">color</span>,ctx.<span class="hljs-title function_">fill</span>()&#125;,a&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">createCircle</span>(<span class="hljs-params">e,t</span>)&#123;<span class="hljs-keyword">var</span> a=&#123;&#125;;<span class="hljs-keyword">return</span> a.<span class="hljs-property">x</span>=e,a.<span class="hljs-property">y</span>=t,a.<span class="hljs-property">color</span>=<span class="hljs-string">&quot;#F00&quot;</span>,a.<span class="hljs-property">radius</span>=<span class="hljs-number">0.1</span>,a.<span class="hljs-property">alpha</span>=<span class="hljs-number">0.5</span>,a.<span class="hljs-property">lineWidth</span>=<span class="hljs-number">6</span>,a.<span class="hljs-property">draw</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;ctx.<span class="hljs-property">globalAlpha</span>=a.<span class="hljs-property">alpha</span>,ctx.<span class="hljs-title function_">beginPath</span>(),ctx.<span class="hljs-title function_">arc</span>(a.<span class="hljs-property">x</span>,a.<span class="hljs-property">y</span>,a.<span class="hljs-property">radius</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>,!<span class="hljs-number">0</span>),ctx.<span class="hljs-property">lineWidth</span>=a.<span class="hljs-property">lineWidth</span>,ctx.<span class="hljs-property">strokeStyle</span>=a.<span class="hljs-property">color</span>,ctx.<span class="hljs-title function_">stroke</span>(),ctx.<span class="hljs-property">globalAlpha</span>=<span class="hljs-number">1</span>&#125;,a&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">renderParticule</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t=<span class="hljs-number">0</span>;t&lt;e.<span class="hljs-property">animatables</span>.<span class="hljs-property">length</span>;t++)&#123;e.<span class="hljs-property">animatables</span>[t].<span class="hljs-property">target</span>.<span class="hljs-title function_">draw</span>()&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">animateParticules</span>(<span class="hljs-params">e,t</span>)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-title function_">createCircle</span>(e,t),n=[],i=<span class="hljs-number">0</span>;i&lt;numberOfParticules;i++)&#123;n.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">createParticule</span>(e,t))&#125;anime.<span class="hljs-title function_">timeline</span>().<span class="hljs-title function_">add</span>(&#123;<span class="hljs-attr">targets</span>:n,<span class="hljs-attr">x</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">return</span> e.<span class="hljs-property">endPos</span>.<span class="hljs-property">x</span>&#125;,<span class="hljs-attr">y</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">return</span> e.<span class="hljs-property">endPos</span>.<span class="hljs-property">y</span>&#125;,<span class="hljs-attr">radius</span>:<span class="hljs-number">0.1</span>,<span class="hljs-attr">duration</span>:anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">1200</span>,<span class="hljs-number">1800</span>),<span class="hljs-attr">easing</span>:<span class="hljs-string">&quot;easeOutExpo&quot;</span>,<span class="hljs-attr">update</span>:renderParticule&#125;).<span class="hljs-title function_">add</span>(&#123;<span class="hljs-attr">targets</span>:a,<span class="hljs-attr">radius</span>:anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">80</span>,<span class="hljs-number">160</span>),<span class="hljs-attr">lineWidth</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">alpha</span>:&#123;<span class="hljs-attr">value</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">easing</span>:<span class="hljs-string">&quot;linear&quot;</span>,<span class="hljs-attr">duration</span>:anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">600</span>,<span class="hljs-number">800</span>)&#125;,<span class="hljs-attr">duration</span>:anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">1200</span>,<span class="hljs-number">1800</span>),<span class="hljs-attr">easing</span>:<span class="hljs-string">&quot;easeOutExpo&quot;</span>,<span class="hljs-attr">update</span>:renderParticule,<span class="hljs-attr">offset</span>:<span class="hljs-number">0</span>&#125;)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">e,t</span>)&#123;<span class="hljs-keyword">var</span> a;<span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">var</span> n=<span class="hljs-variable language_">this</span>,i=<span class="hljs-variable language_">arguments</span>;<span class="hljs-built_in">clearTimeout</span>(a),a=<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;e.<span class="hljs-title function_">apply</span>(n,i)&#125;,t)&#125;&#125;<span class="hljs-keyword">var</span> canvasEl=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.fireworks&quot;</span>);<span class="hljs-keyword">if</span>(canvasEl)&#123;<span class="hljs-keyword">var</span> ctx=canvasEl.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>),numberOfParticules=<span class="hljs-number">30</span>,pointerX=<span class="hljs-number">0</span>,pointerY=<span class="hljs-number">0</span>,tap=<span class="hljs-string">&quot;mousedown&quot;</span>,colors=[<span class="hljs-string">&quot;#FF1461&quot;</span>,<span class="hljs-string">&quot;#18FF92&quot;</span>,<span class="hljs-string">&quot;#5A87FF&quot;</span>,<span class="hljs-string">&quot;#FBF38C&quot;</span>],setCanvasSize=<span class="hljs-title function_">debounce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;canvasEl.<span class="hljs-property">width</span>=<span class="hljs-number">2</span>*<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,canvasEl.<span class="hljs-property">height</span>=<span class="hljs-number">2</span>*<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>,canvasEl.<span class="hljs-property">style</span>.<span class="hljs-property">width</span>=<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>+<span class="hljs-string">&quot;px&quot;</span>,canvasEl.<span class="hljs-property">style</span>.<span class="hljs-property">height</span>=<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>+<span class="hljs-string">&quot;px&quot;</span>,canvasEl.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>).<span class="hljs-title function_">scale</span>(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)&#125;,<span class="hljs-number">500</span>),render=<span class="hljs-title function_">anime</span>(&#123;<span class="hljs-attr">duration</span>:<span class="hljs-number">1</span>/<span class="hljs-number">0</span>,<span class="hljs-attr">update</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,canvasEl.<span class="hljs-property">width</span>,canvasEl.<span class="hljs-property">height</span>)&#125;&#125;);<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(tap,<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-string">&quot;sidebar&quot;</span>!==e.<span class="hljs-property">target</span>.<span class="hljs-property">id</span>&amp;&amp;<span class="hljs-string">&quot;toggle-sidebar&quot;</span>!==e.<span class="hljs-property">target</span>.<span class="hljs-property">id</span>&amp;&amp;<span class="hljs-string">&quot;A&quot;</span>!==e.<span class="hljs-property">target</span>.<span class="hljs-property">nodeName</span>&amp;&amp;<span class="hljs-string">&quot;IMG&quot;</span>!==e.<span class="hljs-property">target</span>.<span class="hljs-property">nodeName</span>&amp;&amp;(render.<span class="hljs-title function_">play</span>(),<span class="hljs-title function_">updateCoords</span>(e),<span class="hljs-title function_">animateParticules</span>(pointerX,pointerY))&#125;,!<span class="hljs-number">1</span>),<span class="hljs-title function_">setCanvasSize</span>(),<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;resize&quot;</span>,setCanvasSize,!<span class="hljs-number">1</span>)&#125;<span class="hljs-string">&quot;use strict&quot;</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateCoords</span>(<span class="hljs-params">e</span>)&#123;pointerX=(e.<span class="hljs-property">clientX</span>||e.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">clientX</span>)-canvasEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">left</span>,pointerY=e.<span class="hljs-property">clientY</span>||e.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">clientY</span>-canvasEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">top</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">setParticuleDirection</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">var</span> t=anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>,<span class="hljs-number">360</span>)*<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/<span class="hljs-number">180</span>,a=anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">50</span>,<span class="hljs-number">180</span>),n=[-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>][anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)]*a;<span class="hljs-keyword">return</span>&#123;<span class="hljs-attr">x</span>:e.<span class="hljs-property">x</span>+n*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(t),<span class="hljs-attr">y</span>:e.<span class="hljs-property">y</span>+n*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t)&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">createParticule</span>(<span class="hljs-params">e,t</span>)&#123;<span class="hljs-keyword">var</span> a=&#123;&#125;;<span class="hljs-keyword">return</span> a.<span class="hljs-property">x</span>=e,a.<span class="hljs-property">y</span>=t,a.<span class="hljs-property">color</span>=colors[anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>,colors.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>)],a.<span class="hljs-property">radius</span>=anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">16</span>,<span class="hljs-number">32</span>),a.<span class="hljs-property">endPos</span>=<span class="hljs-title function_">setParticuleDirection</span>(a),a.<span class="hljs-property">draw</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;ctx.<span class="hljs-title function_">beginPath</span>(),ctx.<span class="hljs-title function_">arc</span>(a.<span class="hljs-property">x</span>,a.<span class="hljs-property">y</span>,a.<span class="hljs-property">radius</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>,!<span class="hljs-number">0</span>),ctx.<span class="hljs-property">fillStyle</span>=a.<span class="hljs-property">color</span>,ctx.<span class="hljs-title function_">fill</span>()&#125;,a&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">createCircle</span>(<span class="hljs-params">e,t</span>)&#123;<span class="hljs-keyword">var</span> a=&#123;&#125;;<span class="hljs-keyword">return</span> a.<span class="hljs-property">x</span>=e,a.<span class="hljs-property">y</span>=t,a.<span class="hljs-property">color</span>=<span class="hljs-string">&quot;#F00&quot;</span>,a.<span class="hljs-property">radius</span>=<span class="hljs-number">0.1</span>,a.<span class="hljs-property">alpha</span>=<span class="hljs-number">0.5</span>,a.<span class="hljs-property">lineWidth</span>=<span class="hljs-number">6</span>,a.<span class="hljs-property">draw</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;ctx.<span class="hljs-property">globalAlpha</span>=a.<span class="hljs-property">alpha</span>,ctx.<span class="hljs-title function_">beginPath</span>(),ctx.<span class="hljs-title function_">arc</span>(a.<span class="hljs-property">x</span>,a.<span class="hljs-property">y</span>,a.<span class="hljs-property">radius</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>,!<span class="hljs-number">0</span>),ctx.<span class="hljs-property">lineWidth</span>=a.<span class="hljs-property">lineWidth</span>,ctx.<span class="hljs-property">strokeStyle</span>=a.<span class="hljs-property">color</span>,ctx.<span class="hljs-title function_">stroke</span>(),ctx.<span class="hljs-property">globalAlpha</span>=<span class="hljs-number">1</span>&#125;,a&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">renderParticule</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t=<span class="hljs-number">0</span>;t&lt;e.<span class="hljs-property">animatables</span>.<span class="hljs-property">length</span>;t++)&#123;e.<span class="hljs-property">animatables</span>[t].<span class="hljs-property">target</span>.<span class="hljs-title function_">draw</span>()&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">animateParticules</span>(<span class="hljs-params">e,t</span>)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-title function_">createCircle</span>(e,t),n=[],i=<span class="hljs-number">0</span>;i&lt;numberOfParticules;i++)&#123;n.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">createParticule</span>(e,t))&#125;anime.<span class="hljs-title function_">timeline</span>().<span class="hljs-title function_">add</span>(&#123;<span class="hljs-attr">targets</span>:n,<span class="hljs-attr">x</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">return</span> e.<span class="hljs-property">endPos</span>.<span class="hljs-property">x</span>&#125;,<span class="hljs-attr">y</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">return</span> e.<span class="hljs-property">endPos</span>.<span class="hljs-property">y</span>&#125;,<span class="hljs-attr">radius</span>:<span class="hljs-number">0.1</span>,<span class="hljs-attr">duration</span>:anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">1200</span>,<span class="hljs-number">1800</span>),<span class="hljs-attr">easing</span>:<span class="hljs-string">&quot;easeOutExpo&quot;</span>,<span class="hljs-attr">update</span>:renderParticule&#125;).<span class="hljs-title function_">add</span>(&#123;<span class="hljs-attr">targets</span>:a,<span class="hljs-attr">radius</span>:anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">80</span>,<span class="hljs-number">160</span>),<span class="hljs-attr">lineWidth</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">alpha</span>:&#123;<span class="hljs-attr">value</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">easing</span>:<span class="hljs-string">&quot;linear&quot;</span>,<span class="hljs-attr">duration</span>:anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">600</span>,<span class="hljs-number">800</span>)&#125;,<span class="hljs-attr">duration</span>:anime.<span class="hljs-title function_">random</span>(<span class="hljs-number">1200</span>,<span class="hljs-number">1800</span>),<span class="hljs-attr">easing</span>:<span class="hljs-string">&quot;easeOutExpo&quot;</span>,<span class="hljs-attr">update</span>:renderParticule,<span class="hljs-attr">offset</span>:<span class="hljs-number">0</span>&#125;)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">e,t</span>)&#123;<span class="hljs-keyword">var</span> a;<span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">var</span> n=<span class="hljs-variable language_">this</span>,i=<span class="hljs-variable language_">arguments</span>;<span class="hljs-built_in">clearTimeout</span>(a),a=<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;e.<span class="hljs-title function_">apply</span>(n,i)&#125;,t)&#125;&#125;<span class="hljs-keyword">var</span> canvasEl=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.fireworks&quot;</span>);<span class="hljs-keyword">if</span>(canvasEl)&#123;<span class="hljs-keyword">var</span> ctx=canvasEl.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>),numberOfParticules=<span class="hljs-number">30</span>,pointerX=<span class="hljs-number">0</span>,pointerY=<span class="hljs-number">0</span>,tap=<span class="hljs-string">&quot;mousedown&quot;</span>,colors=[<span class="hljs-string">&quot;#FF1461&quot;</span>,<span class="hljs-string">&quot;#18FF92&quot;</span>,<span class="hljs-string">&quot;#5A87FF&quot;</span>,<span class="hljs-string">&quot;#FBF38C&quot;</span>],setCanvasSize=<span class="hljs-title function_">debounce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;canvasEl.<span class="hljs-property">width</span>=<span class="hljs-number">2</span>*<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,canvasEl.<span class="hljs-property">height</span>=<span class="hljs-number">2</span>*<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>,canvasEl.<span class="hljs-property">style</span>.<span class="hljs-property">width</span>=<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>+<span class="hljs-string">&quot;px&quot;</span>,canvasEl.<span class="hljs-property">style</span>.<span class="hljs-property">height</span>=<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>+<span class="hljs-string">&quot;px&quot;</span>,canvasEl.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>).<span class="hljs-title function_">scale</span>(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)&#125;,<span class="hljs-number">500</span>),render=<span class="hljs-title function_">anime</span>(&#123;<span class="hljs-attr">duration</span>:<span class="hljs-number">1</span>/<span class="hljs-number">0</span>,<span class="hljs-attr">update</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,canvasEl.<span class="hljs-property">width</span>,canvasEl.<span class="hljs-property">height</span>)&#125;&#125;);<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(tap,<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-string">&quot;sidebar&quot;</span>!==e.<span class="hljs-property">target</span>.<span class="hljs-property">id</span>&amp;&amp;<span class="hljs-string">&quot;toggle-sidebar&quot;</span>!==e.<span class="hljs-property">target</span>.<span class="hljs-property">id</span>&amp;&amp;<span class="hljs-string">&quot;A&quot;</span>!==e.<span class="hljs-property">target</span>.<span class="hljs-property">nodeName</span>&amp;&amp;<span class="hljs-string">&quot;IMG&quot;</span>!==e.<span class="hljs-property">target</span>.<span class="hljs-property">nodeName</span>&amp;&amp;(render.<span class="hljs-title function_">play</span>(),<span class="hljs-title function_">updateCoords</span>(e),<span class="hljs-title function_">animateParticules</span>(pointerX,pointerY))&#125;,!<span class="hljs-number">1</span>),<span class="hljs-title function_">setCanvasSize</span>(),<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;resize&quot;</span>,setCanvasSize,!<span class="hljs-number">1</span>)&#125;;<br><br></code></pre></td></tr></table></figure><p>依赖文件<code>anime.min.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> 2017 Julian Garnier</span><br><span class="hljs-comment"> Released under the MIT license</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">var</span> $jscomp=&#123;<span class="hljs-attr">scope</span>:&#123;&#125;&#125;;$jscomp.<span class="hljs-property">defineProperty</span>=<span class="hljs-string">&quot;function&quot;</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property">defineProperties</span>?<span class="hljs-title class_">Object</span>.<span class="hljs-property">defineProperty</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">e,r,p</span>)&#123;<span class="hljs-keyword">if</span>(p.<span class="hljs-property">get</span>||p.<span class="hljs-property">set</span>)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">&quot;ES3 does not support getters and setters.&quot;</span>);e!=<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>&amp;&amp;e!=<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>&amp;&amp;(e[r]=p.<span class="hljs-property">value</span>)&#125;;$jscomp.<span class="hljs-property">getGlobal</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-string">&quot;undefined&quot;</span>!=<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span>&amp;&amp;<span class="hljs-variable language_">window</span>===e?<span class="hljs-attr">e</span>:<span class="hljs-string">&quot;undefined&quot;</span>!=<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">global</span>&amp;&amp;<span class="hljs-literal">null</span>!=<span class="hljs-variable language_">global</span>?<span class="hljs-attr">global</span>:e&#125;;$jscomp.<span class="hljs-property">global</span>=$jscomp.<span class="hljs-title function_">getGlobal</span>(<span class="hljs-variable language_">this</span>);$jscomp.<span class="hljs-property">SYMBOL_PREFIX</span>=<span class="hljs-string">&quot;jscomp_symbol_&quot;</span>;<br>$jscomp.<span class="hljs-property">initSymbol</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;$jscomp.<span class="hljs-property">initSymbol</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;&#125;;$jscomp.<span class="hljs-property">global</span>.<span class="hljs-property">Symbol</span>||($jscomp.<span class="hljs-property">global</span>.<span class="hljs-property">Symbol</span>=$jscomp.<span class="hljs-property">Symbol</span>)&#125;;$jscomp.<span class="hljs-property">symbolCounter_</span>=<span class="hljs-number">0</span>;$jscomp.<span class="hljs-property">Symbol</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">return</span> $jscomp.<span class="hljs-property">SYMBOL_PREFIX</span>+(e||<span class="hljs-string">&quot;&quot;</span>)+$jscomp.<span class="hljs-property">symbolCounter_</span>++&#125;;<br>$jscomp.<span class="hljs-property">initSymbolIterator</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;$jscomp.<span class="hljs-title function_">initSymbol</span>();<span class="hljs-keyword">var</span> e=$jscomp.<span class="hljs-property">global</span>.<span class="hljs-property">Symbol</span>.<span class="hljs-property">iterator</span>;e||(e=$jscomp.<span class="hljs-property">global</span>.<span class="hljs-property">Symbol</span>.<span class="hljs-property">iterator</span>=$jscomp.<span class="hljs-property">global</span>.<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&quot;iterator&quot;</span>));<span class="hljs-string">&quot;function&quot;</span>!=<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>[e]&amp;&amp;$jscomp.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>,e,&#123;<span class="hljs-attr">configurable</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">writable</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">value</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span> $jscomp.<span class="hljs-title function_">arrayIterator</span>(<span class="hljs-variable language_">this</span>)&#125;&#125;);$jscomp.<span class="hljs-property">initSymbolIterator</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;&#125;&#125;;$jscomp.<span class="hljs-property">arrayIterator</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;<span class="hljs-keyword">return</span> $jscomp.<span class="hljs-title function_">iteratorPrototype</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span> r&lt;e.<span class="hljs-property">length</span>?&#123;<span class="hljs-attr">done</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">value</span>:e[r++]&#125;:&#123;<span class="hljs-attr">done</span>:!<span class="hljs-number">0</span>&#125;&#125;)&#125;;<br>$jscomp.<span class="hljs-property">iteratorPrototype</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;$jscomp.<span class="hljs-title function_">initSymbolIterator</span>();e=&#123;<span class="hljs-attr">next</span>:e&#125;;e[$jscomp.<span class="hljs-property">global</span>.<span class="hljs-property">Symbol</span>.<span class="hljs-property">iterator</span>]=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>&#125;;<span class="hljs-keyword">return</span> e&#125;;$jscomp.<span class="hljs-property">array</span>=$jscomp.<span class="hljs-property">array</span>||&#123;&#125;;$jscomp.<span class="hljs-property">iteratorFromArray</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">e,r</span>)&#123;$jscomp.<span class="hljs-title function_">initSymbolIterator</span>();e <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span>&amp;&amp;(e+=<span class="hljs-string">&quot;&quot;</span>);<span class="hljs-keyword">var</span> p=<span class="hljs-number">0</span>,m=&#123;<span class="hljs-attr">next</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">if</span>(p&lt;e.<span class="hljs-property">length</span>)&#123;<span class="hljs-keyword">var</span> u=p++;<span class="hljs-keyword">return</span>&#123;<span class="hljs-attr">value</span>:<span class="hljs-title function_">r</span>(u,e[u]),<span class="hljs-attr">done</span>:!<span class="hljs-number">1</span>&#125;&#125;m.<span class="hljs-property">next</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span>&#123;<span class="hljs-attr">done</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">value</span>:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>&#125;&#125;;<span class="hljs-keyword">return</span> m.<span class="hljs-title function_">next</span>()&#125;&#125;;m[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span> m&#125;;<span class="hljs-keyword">return</span> m&#125;;<br>$jscomp.<span class="hljs-property">polyfill</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">e,r,p,m</span>)&#123;<span class="hljs-keyword">if</span>(r)&#123;p=$jscomp.<span class="hljs-property">global</span>;e=e.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;.&quot;</span>);<span class="hljs-keyword">for</span>(m=<span class="hljs-number">0</span>;m&lt;e.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>;m++)&#123;<span class="hljs-keyword">var</span> u=e[m];u <span class="hljs-keyword">in</span> p||(p[u]=&#123;&#125;);p=p[u]&#125;e=e[e.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>];m=p[e];r=<span class="hljs-title function_">r</span>(m);r!=m&amp;&amp;<span class="hljs-literal">null</span>!=r&amp;&amp;$jscomp.<span class="hljs-title function_">defineProperty</span>(p,e,&#123;<span class="hljs-attr">configurable</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">writable</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">value</span>:r&#125;)&#125;&#125;;$jscomp.<span class="hljs-title function_">polyfill</span>(<span class="hljs-string">&quot;Array.prototype.keys&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">return</span> e?<span class="hljs-attr">e</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span> $jscomp.<span class="hljs-title function_">iteratorFromArray</span>(<span class="hljs-variable language_">this</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)&#123;<span class="hljs-keyword">return</span> e&#125;)&#125;&#125;,<span class="hljs-string">&quot;es6-impl&quot;</span>,<span class="hljs-string">&quot;es3&quot;</span>);<span class="hljs-keyword">var</span> $jscomp$this=<span class="hljs-variable language_">this</span>;<br>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e,r</span>)&#123;<span class="hljs-string">&quot;function&quot;</span>===<span class="hljs-keyword">typeof</span> define&amp;&amp;define.<span class="hljs-property">amd</span>?<span class="hljs-title function_">define</span>([],r):<span class="hljs-string">&quot;object&quot;</span>===<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">module</span>&amp;&amp;<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>?<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>=<span class="hljs-title function_">r</span>():e.<span class="hljs-property">anime</span>=<span class="hljs-title function_">r</span>()&#125;)(<span class="hljs-variable language_">this</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">e</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">if</span>(!h.<span class="hljs-title function_">col</span>(a))<span class="hljs-keyword">try</span>&#123;<span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(a)&#125;<span class="hljs-keyword">catch</span>(c)&#123;&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">r</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=a.<span class="hljs-property">length</span>,b=<span class="hljs-number">2</span>&lt;=<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>?<span class="hljs-variable language_">arguments</span>[<span class="hljs-number">1</span>]:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,f=[],n=<span class="hljs-number">0</span>;n&lt;d;n++)<span class="hljs-keyword">if</span>(n <span class="hljs-keyword">in</span> a)&#123;<span class="hljs-keyword">var</span> k=a[n];c.<span class="hljs-title function_">call</span>(b,k,n,a)&amp;&amp;f.<span class="hljs-title function_">push</span>(k)&#125;<span class="hljs-keyword">return</span> f&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">p</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> a.<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a,d</span>)&#123;<span class="hljs-keyword">return</span> a.<span class="hljs-title function_">concat</span>(h.<span class="hljs-title function_">arr</span>(d)?<span class="hljs-title function_">p</span>(d):d)&#125;,[])&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">m</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">if</span>(h.<span class="hljs-title function_">arr</span>(a))<span class="hljs-keyword">return</span> a;<br>h.<span class="hljs-title function_">str</span>(a)&amp;&amp;(a=<span class="hljs-title function_">e</span>(a)||a);<span class="hljs-keyword">return</span> a <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">NodeList</span>||a <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">HTMLCollection</span>?[].<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(a):[a]&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">u</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">return</span> a.<span class="hljs-title function_">some</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> a===c&#125;)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">C</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">var</span> c=&#123;&#125;,d;<span class="hljs-keyword">for</span>(d <span class="hljs-keyword">in</span> a)c[d]=a[d];<span class="hljs-keyword">return</span> c&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">D</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">var</span> d=<span class="hljs-title function_">C</span>(a),b;<span class="hljs-keyword">for</span>(b <span class="hljs-keyword">in</span> a)d[b]=c.<span class="hljs-title function_">hasOwnProperty</span>(b)?c[b]:a[b];<span class="hljs-keyword">return</span> d&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">z</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">var</span> d=<span class="hljs-title function_">C</span>(a),b;<span class="hljs-keyword">for</span>(b <span class="hljs-keyword">in</span> c)d[b]=h.<span class="hljs-title function_">und</span>(a[b])?c[b]:a[b];<span class="hljs-keyword">return</span> d&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">T</span>(<span class="hljs-params">a</span>)&#123;a=a.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^#?([a-f\d])([a-f\d])([a-f\d])$/i</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">a,c,d,k</span>)&#123;<span class="hljs-keyword">return</span> c+c+d+d+k+k&#125;);<span class="hljs-keyword">var</span> c=<span class="hljs-regexp">/^#?([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)$/i</span>.<span class="hljs-title function_">exec</span>(a);<br>a=<span class="hljs-built_in">parseInt</span>(c[<span class="hljs-number">1</span>],<span class="hljs-number">16</span>);<span class="hljs-keyword">var</span> d=<span class="hljs-built_in">parseInt</span>(c[<span class="hljs-number">2</span>],<span class="hljs-number">16</span>),c=<span class="hljs-built_in">parseInt</span>(c[<span class="hljs-number">3</span>],<span class="hljs-number">16</span>);<span class="hljs-keyword">return</span><span class="hljs-string">&quot;rgba(&quot;</span>+a+<span class="hljs-string">&quot;,&quot;</span>+d+<span class="hljs-string">&quot;,&quot;</span>+c+<span class="hljs-string">&quot;,1)&quot;</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">U</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">c</span>(<span class="hljs-params">a,c,b</span>)&#123;<span class="hljs-number">0</span>&gt;b&amp;&amp;(b+=<span class="hljs-number">1</span>);<span class="hljs-number">1</span>&lt;b&amp;&amp;--b;<span class="hljs-keyword">return</span> b&lt;<span class="hljs-number">1</span>/<span class="hljs-number">6</span>?a+<span class="hljs-number">6</span>*(c-a)*<span class="hljs-attr">b</span>:<span class="hljs-number">.5</span>&gt;b?<span class="hljs-attr">c</span>:b&lt;<span class="hljs-number">2</span>/<span class="hljs-number">3</span>?a+(c-a)*(<span class="hljs-number">2</span>/<span class="hljs-number">3</span>-b)*<span class="hljs-number">6</span>:a&#125;<span class="hljs-keyword">var</span> d=<span class="hljs-regexp">/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g</span>.<span class="hljs-title function_">exec</span>(a)||<span class="hljs-regexp">/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g</span>.<span class="hljs-title function_">exec</span>(a);a=<span class="hljs-built_in">parseInt</span>(d[<span class="hljs-number">1</span>])/<span class="hljs-number">360</span>;<span class="hljs-keyword">var</span> b=<span class="hljs-built_in">parseInt</span>(d[<span class="hljs-number">2</span>])/<span class="hljs-number">100</span>,f=<span class="hljs-built_in">parseInt</span>(d[<span class="hljs-number">3</span>])/<span class="hljs-number">100</span>,d=d[<span class="hljs-number">4</span>]||<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>==b)f=b=a=f;<span class="hljs-keyword">else</span>&#123;<span class="hljs-keyword">var</span> n=<span class="hljs-number">.5</span>&gt;f?f*(<span class="hljs-number">1</span>+b):f+b-f*b,k=<span class="hljs-number">2</span>*f-n,f=<span class="hljs-title function_">c</span>(k,n,a+<span class="hljs-number">1</span>/<span class="hljs-number">3</span>),b=<span class="hljs-title function_">c</span>(k,n,a);a=<span class="hljs-title function_">c</span>(k,n,a-<span class="hljs-number">1</span>/<span class="hljs-number">3</span>)&#125;<span class="hljs-keyword">return</span><span class="hljs-string">&quot;rgba(&quot;</span>+<br><span class="hljs-number">255</span>*f+<span class="hljs-string">&quot;,&quot;</span>+<span class="hljs-number">255</span>*b+<span class="hljs-string">&quot;,&quot;</span>+<span class="hljs-number">255</span>*a+<span class="hljs-string">&quot;,&quot;</span>+d+<span class="hljs-string">&quot;)&quot;</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">y</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">if</span>(a=<span class="hljs-regexp">/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/</span>.<span class="hljs-title function_">exec</span>(a))<span class="hljs-keyword">return</span> a[<span class="hljs-number">2</span>]&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">V</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">if</span>(-<span class="hljs-number">1</span>&lt;a.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;translate&quot;</span>)||<span class="hljs-string">&quot;perspective&quot;</span>===a)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;px&quot;</span>;<span class="hljs-keyword">if</span>(-<span class="hljs-number">1</span>&lt;a.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;rotate&quot;</span>)||-<span class="hljs-number">1</span>&lt;a.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;skew&quot;</span>))<span class="hljs-keyword">return</span><span class="hljs-string">&quot;deg&quot;</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">I</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">return</span> h.<span class="hljs-title function_">fnc</span>(a)?<span class="hljs-title function_">a</span>(c.<span class="hljs-property">target</span>,c.<span class="hljs-property">id</span>,c.<span class="hljs-property">total</span>):a&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">E</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">if</span>(c <span class="hljs-keyword">in</span> a.<span class="hljs-property">style</span>)<span class="hljs-keyword">return</span> <span class="hljs-title function_">getComputedStyle</span>(a).<span class="hljs-title function_">getPropertyValue</span>(c.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/([a-z])([A-Z])/g</span>,<span class="hljs-string">&quot;$1-$2&quot;</span>).<span class="hljs-title function_">toLowerCase</span>())||<span class="hljs-string">&quot;0&quot;</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">J</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">if</span>(h.<span class="hljs-title function_">dom</span>(a)&amp;&amp;<br><span class="hljs-title function_">u</span>(W,c))<span class="hljs-keyword">return</span><span class="hljs-string">&quot;transform&quot;</span>;<span class="hljs-keyword">if</span>(h.<span class="hljs-title function_">dom</span>(a)&amp;&amp;(a.<span class="hljs-title function_">getAttribute</span>(c)||h.<span class="hljs-title function_">svg</span>(a)&amp;&amp;a[c]))<span class="hljs-keyword">return</span><span class="hljs-string">&quot;attribute&quot;</span>;<span class="hljs-keyword">if</span>(h.<span class="hljs-title function_">dom</span>(a)&amp;&amp;<span class="hljs-string">&quot;transform&quot;</span>!==c&amp;&amp;<span class="hljs-title function_">E</span>(a,c))<span class="hljs-keyword">return</span><span class="hljs-string">&quot;css&quot;</span>;<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=a[c])<span class="hljs-keyword">return</span><span class="hljs-string">&quot;object&quot;</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">X</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">var</span> d=<span class="hljs-title function_">V</span>(c),d=-<span class="hljs-number">1</span>&lt;c.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;scale&quot;</span>)?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>+d;a=a.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span>;<span class="hljs-keyword">if</span>(!a)<span class="hljs-keyword">return</span> d;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> b=[],f=[],n=[],k=<span class="hljs-regexp">/(\w+)\((.+?)\)/g</span>;b=k.<span class="hljs-title function_">exec</span>(a);)f.<span class="hljs-title function_">push</span>(b[<span class="hljs-number">1</span>]),n.<span class="hljs-title function_">push</span>(b[<span class="hljs-number">2</span>]);a=<span class="hljs-title function_">r</span>(n,<span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<span class="hljs-keyword">return</span> f[b]===c&#125;);<span class="hljs-keyword">return</span> a.<span class="hljs-property">length</span>?a[<span class="hljs-number">0</span>]:d&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">K</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">switch</span>(<span class="hljs-title function_">J</span>(a,c))&#123;<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;transform&quot;</span>:<span class="hljs-keyword">return</span> <span class="hljs-title function_">X</span>(a,c);<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;css&quot;</span>:<span class="hljs-keyword">return</span> <span class="hljs-title function_">E</span>(a,c);<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;attribute&quot;</span>:<span class="hljs-keyword">return</span> a.<span class="hljs-title function_">getAttribute</span>(c)&#125;<span class="hljs-keyword">return</span> a[c]||<br><span class="hljs-number">0</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">L</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">var</span> d=<span class="hljs-regexp">/^(\*=|\+=|-=)/</span>.<span class="hljs-title function_">exec</span>(a);<span class="hljs-keyword">if</span>(!d)<span class="hljs-keyword">return</span> a;<span class="hljs-keyword">var</span> b=<span class="hljs-title function_">y</span>(a)||<span class="hljs-number">0</span>;c=<span class="hljs-built_in">parseFloat</span>(c);a=<span class="hljs-built_in">parseFloat</span>(a.<span class="hljs-title function_">replace</span>(d[<span class="hljs-number">0</span>],<span class="hljs-string">&quot;&quot;</span>));<span class="hljs-keyword">switch</span>(d[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>])&#123;<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span>:<span class="hljs-keyword">return</span> c+a+b;<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span>:<span class="hljs-keyword">return</span> c-a+b;<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span>:<span class="hljs-keyword">return</span> c*a+b&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">F</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(c.<span class="hljs-property">x</span>-a.<span class="hljs-property">x</span>,<span class="hljs-number">2</span>)+<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(c.<span class="hljs-property">y</span>-a.<span class="hljs-property">y</span>,<span class="hljs-number">2</span>))&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">M</span>(<span class="hljs-params">a</span>)&#123;a=a.<span class="hljs-property">points</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=<span class="hljs-number">0</span>,d,b=<span class="hljs-number">0</span>;b&lt;a.<span class="hljs-property">numberOfItems</span>;b++)&#123;<span class="hljs-keyword">var</span> f=a.<span class="hljs-title function_">getItem</span>(b);<span class="hljs-number">0</span>&lt;b&amp;&amp;(c+=<span class="hljs-title function_">F</span>(d,f));d=f&#125;<span class="hljs-keyword">return</span> c&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">N</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">if</span>(a.<span class="hljs-property">getTotalLength</span>)<span class="hljs-keyword">return</span> a.<span class="hljs-title function_">getTotalLength</span>();<span class="hljs-keyword">switch</span>(a.<span class="hljs-property">tagName</span>.<span class="hljs-title function_">toLowerCase</span>())&#123;<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;circle&quot;</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">2</span>*<br><span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>*a.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;r&quot;</span>);<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;rect&quot;</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">2</span>*a.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;width&quot;</span>)+<span class="hljs-number">2</span>*a.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;height&quot;</span>);<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;line&quot;</span>:<span class="hljs-keyword">return</span> <span class="hljs-title function_">F</span>(&#123;<span class="hljs-attr">x</span>:a.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;x1&quot;</span>),<span class="hljs-attr">y</span>:a.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;y1&quot;</span>)&#125;,&#123;<span class="hljs-attr">x</span>:a.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;x2&quot;</span>),<span class="hljs-attr">y</span>:a.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;y2&quot;</span>)&#125;);<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;polyline&quot;</span>:<span class="hljs-keyword">return</span> <span class="hljs-title function_">M</span>(a);<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;polygon&quot;</span>:<span class="hljs-keyword">var</span> c=a.<span class="hljs-property">points</span>;<span class="hljs-keyword">return</span> <span class="hljs-title function_">M</span>(a)+<span class="hljs-title function_">F</span>(c.<span class="hljs-title function_">getItem</span>(c.<span class="hljs-property">numberOfItems</span>-<span class="hljs-number">1</span>),c.<span class="hljs-title function_">getItem</span>(<span class="hljs-number">0</span>))&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Y</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">d</span>(<span class="hljs-params">b</span>)&#123;b=<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>===b?<span class="hljs-number">0</span>:b;<span class="hljs-keyword">return</span> a.<span class="hljs-property">el</span>.<span class="hljs-title function_">getPointAtLength</span>(<span class="hljs-number">1</span>&lt;=c+b?c+<span class="hljs-attr">b</span>:<span class="hljs-number">0</span>)&#125;<span class="hljs-keyword">var</span> b=<span class="hljs-title function_">d</span>(),f=<span class="hljs-title function_">d</span>(-<span class="hljs-number">1</span>),n=<span class="hljs-title function_">d</span>(<span class="hljs-number">1</span>);<span class="hljs-keyword">switch</span>(a.<span class="hljs-property">property</span>)&#123;<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;x&quot;</span>:<span class="hljs-keyword">return</span> b.<span class="hljs-property">x</span>;<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;y&quot;</span>:<span class="hljs-keyword">return</span> b.<span class="hljs-property">y</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-string">&quot;angle&quot;</span>:<span class="hljs-keyword">return</span> <span class="hljs-number">180</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">atan2</span>(n.<span class="hljs-property">y</span>-f.<span class="hljs-property">y</span>,n.<span class="hljs-property">x</span>-f.<span class="hljs-property">x</span>)/<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">O</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">var</span> d=<span class="hljs-regexp">/-?\d*\.?\d+/g</span>,b;b=h.<span class="hljs-title function_">pth</span>(a)?a.<span class="hljs-property">totalLength</span>:a;<span class="hljs-keyword">if</span>(h.<span class="hljs-title function_">col</span>(b))<span class="hljs-keyword">if</span>(h.<span class="hljs-title function_">rgb</span>(b))&#123;<span class="hljs-keyword">var</span> f=<span class="hljs-regexp">/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g</span>.<span class="hljs-title function_">exec</span>(b);b=f?<span class="hljs-string">&quot;rgba(&quot;</span>+f[<span class="hljs-number">1</span>]+<span class="hljs-string">&quot;,1)&quot;</span>:b&#125;<span class="hljs-keyword">else</span> b=h.<span class="hljs-title function_">hex</span>(b)?<span class="hljs-title function_">T</span>(b):h.<span class="hljs-title function_">hsl</span>(b)?<span class="hljs-title function_">U</span>(b):<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;<span class="hljs-keyword">else</span> f=(f=<span class="hljs-title function_">y</span>(b))?b.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>,b.<span class="hljs-property">length</span>-f.<span class="hljs-property">length</span>):b,b=c&amp;&amp;!<span class="hljs-regexp">/\s/g</span>.<span class="hljs-title function_">test</span>(b)?f+<span class="hljs-attr">c</span>:f;b+=<span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">return</span>&#123;<span class="hljs-attr">original</span>:b,<span class="hljs-attr">numbers</span>:b.<span class="hljs-title function_">match</span>(d)?b.<span class="hljs-title function_">match</span>(d).<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Number</span>):[<span class="hljs-number">0</span>],<span class="hljs-attr">strings</span>:h.<span class="hljs-title function_">str</span>(a)||c?b.<span class="hljs-title function_">split</span>(d):[]&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">P</span>(<span class="hljs-params">a</span>)&#123;a=a?<span class="hljs-title function_">p</span>(h.<span class="hljs-title function_">arr</span>(a)?a.<span class="hljs-title function_">map</span>(m):<span class="hljs-title function_">m</span>(a)):[];<span class="hljs-keyword">return</span> <span class="hljs-title function_">r</span>(a,<br><span class="hljs-keyword">function</span>(<span class="hljs-params">a,d,b</span>)&#123;<span class="hljs-keyword">return</span> b.<span class="hljs-title function_">indexOf</span>(a)===d&#125;)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Z</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">var</span> c=<span class="hljs-title function_">P</span>(a);<span class="hljs-keyword">return</span> c.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<span class="hljs-keyword">return</span>&#123;<span class="hljs-attr">target</span>:a,<span class="hljs-attr">id</span>:b,<span class="hljs-attr">total</span>:c.<span class="hljs-property">length</span>&#125;&#125;)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">aa</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">var</span> d=<span class="hljs-title function_">C</span>(c);<span class="hljs-keyword">if</span>(h.<span class="hljs-title function_">arr</span>(a))&#123;<span class="hljs-keyword">var</span> b=a.<span class="hljs-property">length</span>;<span class="hljs-number">2</span>!==b||h.<span class="hljs-title function_">obj</span>(a[<span class="hljs-number">0</span>])?h.<span class="hljs-title function_">fnc</span>(c.<span class="hljs-property">duration</span>)||(d.<span class="hljs-property">duration</span>=c.<span class="hljs-property">duration</span>/b):a=&#123;<span class="hljs-attr">value</span>:a&#125;&#125;<span class="hljs-keyword">return</span> <span class="hljs-title function_">m</span>(a).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;b=b?<span class="hljs-number">0</span>:c.<span class="hljs-property">delay</span>;a=h.<span class="hljs-title function_">obj</span>(a)&amp;&amp;!h.<span class="hljs-title function_">pth</span>(a)?<span class="hljs-attr">a</span>:&#123;<span class="hljs-attr">value</span>:a&#125;;h.<span class="hljs-title function_">und</span>(a.<span class="hljs-property">delay</span>)&amp;&amp;(a.<span class="hljs-property">delay</span>=b);<span class="hljs-keyword">return</span> a&#125;).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-title function_">z</span>(a,d)&#125;)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">ba</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">var</span> d=&#123;&#125;,b;<span class="hljs-keyword">for</span>(b <span class="hljs-keyword">in</span> a)&#123;<span class="hljs-keyword">var</span> f=<span class="hljs-title function_">I</span>(a[b],c);h.<span class="hljs-title function_">arr</span>(f)&amp;&amp;(f=f.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-title function_">I</span>(a,<br>c)&#125;),<span class="hljs-number">1</span>===f.<span class="hljs-property">length</span>&amp;&amp;(f=f[<span class="hljs-number">0</span>]));d[b]=f&#125;d.<span class="hljs-property">duration</span>=<span class="hljs-built_in">parseFloat</span>(d.<span class="hljs-property">duration</span>);d.<span class="hljs-property">delay</span>=<span class="hljs-built_in">parseFloat</span>(d.<span class="hljs-property">delay</span>);<span class="hljs-keyword">return</span> d&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">ca</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> h.<span class="hljs-title function_">arr</span>(a)?A.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>,a):Q[a]&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">da</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">var</span> d;<span class="hljs-keyword">return</span> a.<span class="hljs-property">tweens</span>.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>)&#123;b=<span class="hljs-title function_">ba</span>(b,c);<span class="hljs-keyword">var</span> f=b.<span class="hljs-property">value</span>,e=<span class="hljs-title function_">K</span>(c.<span class="hljs-property">target</span>,a.<span class="hljs-property">name</span>),k=d?d.<span class="hljs-property">to</span>.<span class="hljs-property">original</span>:e,k=h.<span class="hljs-title function_">arr</span>(f)?f[<span class="hljs-number">0</span>]:k,w=<span class="hljs-title function_">L</span>(h.<span class="hljs-title function_">arr</span>(f)?f[<span class="hljs-number">1</span>]:f,k),e=<span class="hljs-title function_">y</span>(w)||<span class="hljs-title function_">y</span>(k)||<span class="hljs-title function_">y</span>(e);b.<span class="hljs-property">from</span>=<span class="hljs-title function_">O</span>(k,e);b.<span class="hljs-property">to</span>=<span class="hljs-title function_">O</span>(w,e);b.<span class="hljs-property">start</span>=d?d.<span class="hljs-property">end</span>:a.<span class="hljs-property">offset</span>;b.<span class="hljs-property">end</span>=b.<span class="hljs-property">start</span>+b.<span class="hljs-property">delay</span>+b.<span class="hljs-property">duration</span>;b.<span class="hljs-property">easing</span>=<span class="hljs-title function_">ca</span>(b.<span class="hljs-property">easing</span>);b.<span class="hljs-property">elasticity</span>=(<span class="hljs-number">1E3</span>-<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(b.<span class="hljs-property">elasticity</span>,<span class="hljs-number">1</span>),<span class="hljs-number">999</span>))/<br><span class="hljs-number">1E3</span>;b.<span class="hljs-property">isPath</span>=h.<span class="hljs-title function_">pth</span>(f);b.<span class="hljs-property">isColor</span>=h.<span class="hljs-title function_">col</span>(b.<span class="hljs-property">from</span>.<span class="hljs-property">original</span>);b.<span class="hljs-property">isColor</span>&amp;&amp;(b.<span class="hljs-property">round</span>=<span class="hljs-number">1</span>);<span class="hljs-keyword">return</span> d=b&#125;)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">ea</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-title function_">r</span>(<span class="hljs-title function_">p</span>(a.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> c.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>)&#123;<span class="hljs-keyword">var</span> c=<span class="hljs-title function_">J</span>(a.<span class="hljs-property">target</span>,b.<span class="hljs-property">name</span>);<span class="hljs-keyword">if</span>(c)&#123;<span class="hljs-keyword">var</span> d=<span class="hljs-title function_">da</span>(b,a);b=&#123;<span class="hljs-attr">type</span>:c,<span class="hljs-attr">property</span>:b.<span class="hljs-property">name</span>,<span class="hljs-attr">animatable</span>:a,<span class="hljs-attr">tweens</span>:d,<span class="hljs-attr">duration</span>:d[d.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>].<span class="hljs-property">end</span>,<span class="hljs-attr">delay</span>:d[<span class="hljs-number">0</span>].<span class="hljs-property">delay</span>&#125;&#125;<span class="hljs-keyword">else</span> b=<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;<span class="hljs-keyword">return</span> b&#125;)&#125;)),<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span>!h.<span class="hljs-title function_">und</span>(a)&#125;)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">R</span>(<span class="hljs-params">a,c,d,b</span>)&#123;<span class="hljs-keyword">var</span> f=<span class="hljs-string">&quot;delay&quot;</span>===a;<span class="hljs-keyword">return</span> c.<span class="hljs-property">length</span>?(f?<span class="hljs-title class_">Math</span>.<span class="hljs-property">min</span>:<span class="hljs-title class_">Math</span>.<span class="hljs-property">max</span>).<span class="hljs-title function_">apply</span>(<span class="hljs-title class_">Math</span>,c.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>)&#123;<span class="hljs-keyword">return</span> b[a]&#125;)):f?b.<span class="hljs-property">delay</span>:d.<span class="hljs-property">offset</span>+b.<span class="hljs-property">delay</span>+<br>b.<span class="hljs-property">duration</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">fa</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">var</span> c=<span class="hljs-title function_">D</span>(ga,a),d=<span class="hljs-title function_">D</span>(S,a),b=<span class="hljs-title function_">Z</span>(a.<span class="hljs-property">targets</span>),f=[],e=<span class="hljs-title function_">z</span>(c,d),k;<span class="hljs-keyword">for</span>(k <span class="hljs-keyword">in</span> a)e.<span class="hljs-title function_">hasOwnProperty</span>(k)||<span class="hljs-string">&quot;targets&quot;</span>===k||f.<span class="hljs-title function_">push</span>(&#123;<span class="hljs-attr">name</span>:k,<span class="hljs-attr">offset</span>:e.<span class="hljs-property">offset</span>,<span class="hljs-attr">tweens</span>:<span class="hljs-title function_">aa</span>(a[k],d)&#125;);a=<span class="hljs-title function_">ea</span>(b,f);<span class="hljs-keyword">return</span> <span class="hljs-title function_">z</span>(c,&#123;<span class="hljs-attr">children</span>:[],<span class="hljs-attr">animatables</span>:b,<span class="hljs-attr">animations</span>:a,<span class="hljs-attr">duration</span>:<span class="hljs-title function_">R</span>(<span class="hljs-string">&quot;duration&quot;</span>,a,c,d),<span class="hljs-attr">delay</span>:<span class="hljs-title function_">R</span>(<span class="hljs-string">&quot;delay&quot;</span>,a,c,d)&#125;)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">q</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">c</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">Promise</span>&amp;&amp;<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> p=a&#125;)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">d</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> g.<span class="hljs-property">reversed</span>?g.<span class="hljs-property">duration</span>-<span class="hljs-attr">a</span>:a&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">b</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> b=<span class="hljs-number">0</span>,c=&#123;&#125;,d=g.<span class="hljs-property">animations</span>,f=d.<span class="hljs-property">length</span>;b&lt;f;)&#123;<span class="hljs-keyword">var</span> e=d[b],<br>k=e.<span class="hljs-property">animatable</span>,h=e.<span class="hljs-property">tweens</span>,n=h.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>,l=h[n];n&amp;&amp;(l=<span class="hljs-title function_">r</span>(h,<span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>)&#123;<span class="hljs-keyword">return</span> a&lt;b.<span class="hljs-property">end</span>&#125;)[<span class="hljs-number">0</span>]||l);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> h=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(a-l.<span class="hljs-property">start</span>-l.<span class="hljs-property">delay</span>,<span class="hljs-number">0</span>),l.<span class="hljs-property">duration</span>)/l.<span class="hljs-property">duration</span>,w=<span class="hljs-built_in">isNaN</span>(h)?<span class="hljs-number">1</span>:l.<span class="hljs-title function_">easing</span>(h,l.<span class="hljs-property">elasticity</span>),h=l.<span class="hljs-property">to</span>.<span class="hljs-property">strings</span>,p=l.<span class="hljs-property">round</span>,n=[],m=<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,m=l.<span class="hljs-property">to</span>.<span class="hljs-property">numbers</span>.<span class="hljs-property">length</span>,t=<span class="hljs-number">0</span>;t&lt;m;t++)&#123;<span class="hljs-keyword">var</span> x=<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,x=l.<span class="hljs-property">to</span>.<span class="hljs-property">numbers</span>[t],q=l.<span class="hljs-property">from</span>.<span class="hljs-property">numbers</span>[t],x=l.<span class="hljs-property">isPath</span>?<span class="hljs-title function_">Y</span>(l.<span class="hljs-property">value</span>,w*x):q+w*(x-q);p&amp;&amp;(l.<span class="hljs-property">isColor</span>&amp;&amp;<span class="hljs-number">2</span>&lt;t||(x=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(x*p)/p));n.<span class="hljs-title function_">push</span>(x)&#125;<span class="hljs-keyword">if</span>(l=h.<span class="hljs-property">length</span>)<span class="hljs-keyword">for</span>(m=h[<span class="hljs-number">0</span>],w=<span class="hljs-number">0</span>;w&lt;l;w++)p=h[w+<span class="hljs-number">1</span>],t=n[w],<span class="hljs-built_in">isNaN</span>(t)||(m=p?m+(t+p):m+(t+<span class="hljs-string">&quot; &quot;</span>));<br><span class="hljs-keyword">else</span> m=n[<span class="hljs-number">0</span>];ha[e.<span class="hljs-property">type</span>](k.<span class="hljs-property">target</span>,e.<span class="hljs-property">property</span>,m,c,k.<span class="hljs-property">id</span>);e.<span class="hljs-property">currentValue</span>=m;b++&#125;<span class="hljs-keyword">if</span>(b=<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(c).<span class="hljs-property">length</span>)<span class="hljs-keyword">for</span>(d=<span class="hljs-number">0</span>;d&lt;b;d++)H||(H=<span class="hljs-title function_">E</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>,<span class="hljs-string">&quot;transform&quot;</span>)?<span class="hljs-string">&quot;transform&quot;</span>:<span class="hljs-string">&quot;-webkit-transform&quot;</span>),g.<span class="hljs-property">animatables</span>[d].<span class="hljs-property">target</span>.<span class="hljs-property">style</span>[H]=c[d].<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot; &quot;</span>);g.<span class="hljs-property">currentTime</span>=a;g.<span class="hljs-property">progress</span>=a/g.<span class="hljs-property">duration</span>*<span class="hljs-number">100</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">if</span>(g[a])g[a](g)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">e</span>(<span class="hljs-params"></span>)&#123;g.<span class="hljs-property">remaining</span>&amp;&amp;!<span class="hljs-number">0</span>!==g.<span class="hljs-property">remaining</span>&amp;&amp;g.<span class="hljs-property">remaining</span>--&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">k</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">var</span> k=g.<span class="hljs-property">duration</span>,n=g.<span class="hljs-property">offset</span>,w=n+g.<span class="hljs-property">delay</span>,r=g.<span class="hljs-property">currentTime</span>,x=g.<span class="hljs-property">reversed</span>,q=<span class="hljs-title function_">d</span>(a);<span class="hljs-keyword">if</span>(g.<span class="hljs-property">children</span>.<span class="hljs-property">length</span>)&#123;<span class="hljs-keyword">var</span> u=g.<span class="hljs-property">children</span>,v=u.<span class="hljs-property">length</span>;<br><span class="hljs-keyword">if</span>(q&gt;=g.<span class="hljs-property">currentTime</span>)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> G=<span class="hljs-number">0</span>;G&lt;v;G++)u[G].<span class="hljs-title function_">seek</span>(q);<span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span>(;v--;)u[v].<span class="hljs-title function_">seek</span>(q)&#125;<span class="hljs-keyword">if</span>(q&gt;=w||!k)g.<span class="hljs-property">began</span>||(g.<span class="hljs-property">began</span>=!<span class="hljs-number">0</span>,<span class="hljs-title function_">f</span>(<span class="hljs-string">&quot;begin&quot;</span>)),<span class="hljs-title function_">f</span>(<span class="hljs-string">&quot;run&quot;</span>);<span class="hljs-keyword">if</span>(q&gt;n&amp;&amp;q&lt;k)<span class="hljs-title function_">b</span>(q);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(q&lt;=n&amp;&amp;<span class="hljs-number">0</span>!==r&amp;&amp;(<span class="hljs-title function_">b</span>(<span class="hljs-number">0</span>),x&amp;&amp;<span class="hljs-title function_">e</span>()),q&gt;=k&amp;&amp;r!==k||!k)<span class="hljs-title function_">b</span>(k),x||<span class="hljs-title function_">e</span>();<span class="hljs-title function_">f</span>(<span class="hljs-string">&quot;update&quot;</span>);a&gt;=k&amp;&amp;(g.<span class="hljs-property">remaining</span>?(t=h,<span class="hljs-string">&quot;alternate&quot;</span>===g.<span class="hljs-property">direction</span>&amp;&amp;(g.<span class="hljs-property">reversed</span>=!g.<span class="hljs-property">reversed</span>)):(g.<span class="hljs-title function_">pause</span>(),g.<span class="hljs-property">completed</span>||(g.<span class="hljs-property">completed</span>=!<span class="hljs-number">0</span>,<span class="hljs-title function_">f</span>(<span class="hljs-string">&quot;complete&quot;</span>),<span class="hljs-string">&quot;Promise&quot;</span><span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>&amp;&amp;(<span class="hljs-title function_">p</span>(),m=<span class="hljs-title function_">c</span>()))),l=<span class="hljs-number">0</span>)&#125;a=<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>===a?&#123;&#125;:a;<span class="hljs-keyword">var</span> h,t,l=<span class="hljs-number">0</span>,p=<span class="hljs-literal">null</span>,m=<span class="hljs-title function_">c</span>(),g=<span class="hljs-title function_">fa</span>(a);g.<span class="hljs-property">reset</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">var</span> a=g.<span class="hljs-property">direction</span>,c=g.<span class="hljs-property">loop</span>;g.<span class="hljs-property">currentTime</span>=<br><span class="hljs-number">0</span>;g.<span class="hljs-property">progress</span>=<span class="hljs-number">0</span>;g.<span class="hljs-property">paused</span>=!<span class="hljs-number">0</span>;g.<span class="hljs-property">began</span>=!<span class="hljs-number">1</span>;g.<span class="hljs-property">completed</span>=!<span class="hljs-number">1</span>;g.<span class="hljs-property">reversed</span>=<span class="hljs-string">&quot;reverse&quot;</span>===a;g.<span class="hljs-property">remaining</span>=<span class="hljs-string">&quot;alternate&quot;</span>===a&amp;&amp;<span class="hljs-number">1</span>===c?<span class="hljs-number">2</span>:c;<span class="hljs-title function_">b</span>(<span class="hljs-number">0</span>);<span class="hljs-keyword">for</span>(a=g.<span class="hljs-property">children</span>.<span class="hljs-property">length</span>;a--;)g.<span class="hljs-property">children</span>[a].<span class="hljs-title function_">reset</span>()&#125;;g.<span class="hljs-property">tick</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;h=a;t||(t=h);<span class="hljs-title function_">k</span>((l+h-t)*q.<span class="hljs-property">speed</span>)&#125;;g.<span class="hljs-property">seek</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-title function_">k</span>(<span class="hljs-title function_">d</span>(a))&#125;;g.<span class="hljs-property">pause</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">var</span> a=v.<span class="hljs-title function_">indexOf</span>(g);-<span class="hljs-number">1</span>&lt;a&amp;&amp;v.<span class="hljs-title function_">splice</span>(a,<span class="hljs-number">1</span>);g.<span class="hljs-property">paused</span>=!<span class="hljs-number">0</span>&#125;;g.<span class="hljs-property">play</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;g.<span class="hljs-property">paused</span>&amp;&amp;(g.<span class="hljs-property">paused</span>=!<span class="hljs-number">1</span>,t=<span class="hljs-number">0</span>,l=<span class="hljs-title function_">d</span>(g.<span class="hljs-property">currentTime</span>),v.<span class="hljs-title function_">push</span>(g),B||<span class="hljs-title function_">ia</span>())&#125;;g.<span class="hljs-property">reverse</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;g.<span class="hljs-property">reversed</span>=!g.<span class="hljs-property">reversed</span>;t=<span class="hljs-number">0</span>;l=<span class="hljs-title function_">d</span>(g.<span class="hljs-property">currentTime</span>)&#125;;g.<span class="hljs-property">restart</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;g.<span class="hljs-title function_">pause</span>();<br>g.<span class="hljs-title function_">reset</span>();g.<span class="hljs-title function_">play</span>()&#125;;g.<span class="hljs-property">finished</span>=m;g.<span class="hljs-title function_">reset</span>();g.<span class="hljs-property">autoplay</span>&amp;&amp;g.<span class="hljs-title function_">play</span>();<span class="hljs-keyword">return</span> g&#125;<span class="hljs-keyword">var</span> ga=&#123;<span class="hljs-attr">update</span>:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,<span class="hljs-attr">begin</span>:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,<span class="hljs-attr">run</span>:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,<span class="hljs-attr">complete</span>:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,<span class="hljs-attr">loop</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">direction</span>:<span class="hljs-string">&quot;normal&quot;</span>,<span class="hljs-attr">autoplay</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">offset</span>:<span class="hljs-number">0</span>&#125;,S=&#123;<span class="hljs-attr">duration</span>:<span class="hljs-number">1E3</span>,<span class="hljs-attr">delay</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">easing</span>:<span class="hljs-string">&quot;easeOutElastic&quot;</span>,<span class="hljs-attr">elasticity</span>:<span class="hljs-number">500</span>,<span class="hljs-attr">round</span>:<span class="hljs-number">0</span>&#125;,W=<span class="hljs-string">&quot;translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),H,h=&#123;<span class="hljs-attr">arr</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(a)&#125;,<span class="hljs-attr">obj</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span>-<span class="hljs-number">1</span>&lt;<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(a).<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;Object&quot;</span>)&#125;,<br><span class="hljs-attr">pth</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> h.<span class="hljs-title function_">obj</span>(a)&amp;&amp;a.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">&quot;totalLength&quot;</span>)&#125;,<span class="hljs-attr">svg</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> a <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">SVGElement</span>&#125;,<span class="hljs-attr">dom</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> a.<span class="hljs-property">nodeType</span>||h.<span class="hljs-title function_">svg</span>(a)&#125;,<span class="hljs-attr">str</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-string">&quot;string&quot;</span>===<span class="hljs-keyword">typeof</span> a&#125;,<span class="hljs-attr">fnc</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-string">&quot;function&quot;</span>===<span class="hljs-keyword">typeof</span> a&#125;,<span class="hljs-attr">und</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-string">&quot;undefined&quot;</span>===<span class="hljs-keyword">typeof</span> a&#125;,<span class="hljs-attr">hex</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-regexp">/(^#[0-9A-F]&#123;6&#125;$)|(^#[0-9A-F]&#123;3&#125;$)/i</span>.<span class="hljs-title function_">test</span>(a)&#125;,<span class="hljs-attr">rgb</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-regexp">/^rgb/</span>.<span class="hljs-title function_">test</span>(a)&#125;,<span class="hljs-attr">hsl</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-regexp">/^hsl/</span>.<span class="hljs-title function_">test</span>(a)&#125;,<span class="hljs-attr">col</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> h.<span class="hljs-title function_">hex</span>(a)||h.<span class="hljs-title function_">rgb</span>(a)||h.<span class="hljs-title function_">hsl</span>(a)&#125;&#125;,A=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params">a,</span><br><span class="hljs-params">d,b</span>)&#123;<span class="hljs-keyword">return</span>(((<span class="hljs-number">1</span>-<span class="hljs-number">3</span>*b+<span class="hljs-number">3</span>*d)*a+(<span class="hljs-number">3</span>*b-<span class="hljs-number">6</span>*d))*a+<span class="hljs-number">3</span>*d)*a&#125;<span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">c,d,b,f</span>)&#123;<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>&lt;=c&amp;&amp;<span class="hljs-number">1</span>&gt;=c&amp;&amp;<span class="hljs-number">0</span>&lt;=b&amp;&amp;<span class="hljs-number">1</span>&gt;=b)&#123;<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(<span class="hljs-number">11</span>);<span class="hljs-keyword">if</span>(c!==d||b!==f)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> k=<span class="hljs-number">0</span>;<span class="hljs-number">11</span>&gt;k;++k)e[k]=<span class="hljs-title function_">a</span>(<span class="hljs-number">.1</span>*k,c,b);<span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">k</span>)&#123;<span class="hljs-keyword">if</span>(c===d&amp;&amp;b===f)<span class="hljs-keyword">return</span> k;<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>===k)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>===k)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> h=<span class="hljs-number">0</span>,l=<span class="hljs-number">1</span>;<span class="hljs-number">10</span>!==l&amp;&amp;e[l]&lt;=k;++l)h+=<span class="hljs-number">.1</span>;--l;<span class="hljs-keyword">var</span> l=h+(k-e[l])/(e[l+<span class="hljs-number">1</span>]-e[l])*<span class="hljs-number">.1</span>,n=<span class="hljs-number">3</span>*(<span class="hljs-number">1</span>-<span class="hljs-number">3</span>*b+<span class="hljs-number">3</span>*c)*l*l+<span class="hljs-number">2</span>*(<span class="hljs-number">3</span>*b-<span class="hljs-number">6</span>*c)*l+<span class="hljs-number">3</span>*c;<span class="hljs-keyword">if</span>(<span class="hljs-number">.001</span>&lt;=n)&#123;<span class="hljs-keyword">for</span>(h=<span class="hljs-number">0</span>;<span class="hljs-number">4</span>&gt;h;++h)&#123;n=<span class="hljs-number">3</span>*(<span class="hljs-number">1</span>-<span class="hljs-number">3</span>*b+<span class="hljs-number">3</span>*c)*l*l+<span class="hljs-number">2</span>*(<span class="hljs-number">3</span>*b-<span class="hljs-number">6</span>*c)*l+<span class="hljs-number">3</span>*c;<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>===n)<span class="hljs-keyword">break</span>;<span class="hljs-keyword">var</span> m=<span class="hljs-title function_">a</span>(l,c,b)-k,l=l-m/n&#125;k=l&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>===<br>n)k=l;<span class="hljs-keyword">else</span>&#123;<span class="hljs-keyword">var</span> l=h,h=h+<span class="hljs-number">.1</span>,g=<span class="hljs-number">0</span>;<span class="hljs-keyword">do</span> m=l+(h-l)/<span class="hljs-number">2</span>,n=<span class="hljs-title function_">a</span>(m,c,b)-k,<span class="hljs-number">0</span>&lt;n?h=<span class="hljs-attr">m</span>:l=m;<span class="hljs-keyword">while</span>(<span class="hljs-number">1e-7</span>&lt;<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(n)&amp;&amp;<span class="hljs-number">10</span>&gt;++g);k=m&#125;<span class="hljs-keyword">return</span> <span class="hljs-title function_">a</span>(k,d,f)&#125;&#125;&#125;&#125;(),Q=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params">a,b</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>===a||<span class="hljs-number">1</span>===a?<span class="hljs-attr">a</span>:-<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>,<span class="hljs-number">10</span>*(a-<span class="hljs-number">1</span>))*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(<span class="hljs-number">2</span>*(a-<span class="hljs-number">1</span>-b/(<span class="hljs-number">2</span>*<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>)*<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">asin</span>(<span class="hljs-number">1</span>))*<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>/b)&#125;<span class="hljs-keyword">var</span> c=<span class="hljs-string">&quot;Quad Cubic Quart Quint Sine Expo Circ Back Elastic&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),d=&#123;<span class="hljs-title class_">In</span>:[[<span class="hljs-number">.55</span>,<span class="hljs-number">.085</span>,<span class="hljs-number">.68</span>,<span class="hljs-number">.53</span>],[<span class="hljs-number">.55</span>,<span class="hljs-number">.055</span>,<span class="hljs-number">.675</span>,<span class="hljs-number">.19</span>],[<span class="hljs-number">.895</span>,<span class="hljs-number">.03</span>,<span class="hljs-number">.685</span>,<span class="hljs-number">.22</span>],[<span class="hljs-number">.755</span>,<span class="hljs-number">.05</span>,<span class="hljs-number">.855</span>,<span class="hljs-number">.06</span>],[<span class="hljs-number">.47</span>,<span class="hljs-number">0</span>,<span class="hljs-number">.745</span>,<span class="hljs-number">.715</span>],[<span class="hljs-number">.95</span>,<span class="hljs-number">.05</span>,<span class="hljs-number">.795</span>,<span class="hljs-number">.035</span>],[<span class="hljs-number">.6</span>,<span class="hljs-number">.04</span>,<span class="hljs-number">.98</span>,<span class="hljs-number">.335</span>],[<span class="hljs-number">.6</span>,-<span class="hljs-number">.28</span>,<span class="hljs-number">.735</span>,<span class="hljs-number">.045</span>],a],<span class="hljs-title class_">Out</span>:[[<span class="hljs-number">.25</span>,<br><span class="hljs-number">.46</span>,<span class="hljs-number">.45</span>,<span class="hljs-number">.94</span>],[<span class="hljs-number">.215</span>,<span class="hljs-number">.61</span>,<span class="hljs-number">.355</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">.165</span>,<span class="hljs-number">.84</span>,<span class="hljs-number">.44</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">.23</span>,<span class="hljs-number">1</span>,<span class="hljs-number">.32</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">.39</span>,<span class="hljs-number">.575</span>,<span class="hljs-number">.565</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">.19</span>,<span class="hljs-number">1</span>,<span class="hljs-number">.22</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">.075</span>,<span class="hljs-number">.82</span>,<span class="hljs-number">.165</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">.175</span>,<span class="hljs-number">.885</span>,<span class="hljs-number">.32</span>,<span class="hljs-number">1.275</span>],<span class="hljs-keyword">function</span>(<span class="hljs-params">b,c</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>-<span class="hljs-title function_">a</span>(<span class="hljs-number">1</span>-b,c)&#125;],<span class="hljs-title class_">InOut</span>:[[<span class="hljs-number">.455</span>,<span class="hljs-number">.03</span>,<span class="hljs-number">.515</span>,<span class="hljs-number">.955</span>],[<span class="hljs-number">.645</span>,<span class="hljs-number">.045</span>,<span class="hljs-number">.355</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">.77</span>,<span class="hljs-number">0</span>,<span class="hljs-number">.175</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">.86</span>,<span class="hljs-number">0</span>,<span class="hljs-number">.07</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">.445</span>,<span class="hljs-number">.05</span>,<span class="hljs-number">.55</span>,<span class="hljs-number">.95</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>],[<span class="hljs-number">.785</span>,<span class="hljs-number">.135</span>,<span class="hljs-number">.15</span>,<span class="hljs-number">.86</span>],[<span class="hljs-number">.68</span>,-<span class="hljs-number">.55</span>,<span class="hljs-number">.265</span>,<span class="hljs-number">1.55</span>],<span class="hljs-keyword">function</span>(<span class="hljs-params">b,c</span>)&#123;<span class="hljs-keyword">return</span><span class="hljs-number">.5</span>&gt;b?<span class="hljs-title function_">a</span>(<span class="hljs-number">2</span>*b,c)/<span class="hljs-number">2</span>:<span class="hljs-number">1</span>-<span class="hljs-title function_">a</span>(-<span class="hljs-number">2</span>*b+<span class="hljs-number">2</span>,c)/<span class="hljs-number">2</span>&#125;]&#125;,b=&#123;<span class="hljs-attr">linear</span>:<span class="hljs-title function_">A</span>(<span class="hljs-number">.25</span>,<span class="hljs-number">.25</span>,<span class="hljs-number">.75</span>,<span class="hljs-number">.75</span>)&#125;,f=&#123;&#125;,e;<span class="hljs-keyword">for</span>(e <span class="hljs-keyword">in</span> d)f.<span class="hljs-property">type</span>=e,d[f.<span class="hljs-property">type</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">d,f</span>)&#123;b[<span class="hljs-string">&quot;ease&quot;</span>+a.<span class="hljs-property">type</span>+c[f]]=h.<span class="hljs-title function_">fnc</span>(d)?<br><span class="hljs-attr">d</span>:A.<span class="hljs-title function_">apply</span>($jscomp$this,d)&#125;&#125;(f)),f=&#123;<span class="hljs-attr">type</span>:f.<span class="hljs-property">type</span>&#125;;<span class="hljs-keyword">return</span> b&#125;(),ha=&#123;<span class="hljs-attr">css</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a,c,d</span>)&#123;<span class="hljs-keyword">return</span> a.<span class="hljs-property">style</span>[c]=d&#125;,<span class="hljs-attr">attribute</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a,c,d</span>)&#123;<span class="hljs-keyword">return</span> a.<span class="hljs-title function_">setAttribute</span>(c,d)&#125;,<span class="hljs-attr">object</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a,c,d</span>)&#123;<span class="hljs-keyword">return</span> a[c]=d&#125;,<span class="hljs-attr">transform</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">a,c,d,b,f</span>)&#123;b[f]||(b[f]=[]);b[f].<span class="hljs-title function_">push</span>(c+<span class="hljs-string">&quot;(&quot;</span>+d+<span class="hljs-string">&quot;)&quot;</span>)&#125;&#125;,v=[],B=<span class="hljs-number">0</span>,ia=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>)&#123;B=<span class="hljs-title function_">requestAnimationFrame</span>(c)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">c</span>(<span class="hljs-params">c</span>)&#123;<span class="hljs-keyword">var</span> b=v.<span class="hljs-property">length</span>;<span class="hljs-keyword">if</span>(b)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=<span class="hljs-number">0</span>;d&lt;b;)v[d]&amp;&amp;v[d].<span class="hljs-title function_">tick</span>(c),d++;<span class="hljs-title function_">a</span>()&#125;<span class="hljs-keyword">else</span> <span class="hljs-title function_">cancelAnimationFrame</span>(B),B=<span class="hljs-number">0</span>&#125;<span class="hljs-keyword">return</span> a&#125;();q.<span class="hljs-property">version</span>=<span class="hljs-string">&quot;2.2.0&quot;</span>;q.<span class="hljs-property">speed</span>=<span class="hljs-number">1</span>;q.<span class="hljs-property">running</span>=v;q.<span class="hljs-property">remove</span>=<br><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;a=<span class="hljs-title function_">P</span>(a);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=v.<span class="hljs-property">length</span>;c--;)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=v[c],b=d.<span class="hljs-property">animations</span>,f=b.<span class="hljs-property">length</span>;f--;)<span class="hljs-title function_">u</span>(a,b[f].<span class="hljs-property">animatable</span>.<span class="hljs-property">target</span>)&amp;&amp;(b.<span class="hljs-title function_">splice</span>(f,<span class="hljs-number">1</span>),b.<span class="hljs-property">length</span>||d.<span class="hljs-title function_">pause</span>())&#125;;q.<span class="hljs-property">getValue</span>=K;q.<span class="hljs-property">path</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">var</span> d=h.<span class="hljs-title function_">str</span>(a)?<span class="hljs-title function_">e</span>(a)[<span class="hljs-number">0</span>]:a,b=c||<span class="hljs-number">100</span>;<span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">return</span>&#123;<span class="hljs-attr">el</span>:d,<span class="hljs-attr">property</span>:a,<span class="hljs-attr">totalLength</span>:<span class="hljs-title function_">N</span>(d)*(b/<span class="hljs-number">100</span>)&#125;&#125;&#125;;q.<span class="hljs-property">setDashoffset</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">var</span> c=<span class="hljs-title function_">N</span>(a);a.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;stroke-dasharray&quot;</span>,c);<span class="hljs-keyword">return</span> c&#125;;q.<span class="hljs-property">bezier</span>=A;q.<span class="hljs-property">easings</span>=Q;q.<span class="hljs-property">timeline</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<span class="hljs-keyword">var</span> c=<span class="hljs-title function_">q</span>(a);c.<span class="hljs-title function_">pause</span>();c.<span class="hljs-property">duration</span>=<span class="hljs-number">0</span>;c.<span class="hljs-property">add</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>)&#123;c.<span class="hljs-property">children</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;a.<span class="hljs-property">began</span>=<br>!<span class="hljs-number">0</span>;a.<span class="hljs-property">completed</span>=!<span class="hljs-number">0</span>&#125;);<span class="hljs-title function_">m</span>(d).<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>)&#123;<span class="hljs-keyword">var</span> d=<span class="hljs-title function_">z</span>(b,<span class="hljs-title function_">D</span>(S,a||&#123;&#125;));d.<span class="hljs-property">targets</span>=d.<span class="hljs-property">targets</span>||a.<span class="hljs-property">targets</span>;b=c.<span class="hljs-property">duration</span>;<span class="hljs-keyword">var</span> e=d.<span class="hljs-property">offset</span>;d.<span class="hljs-property">autoplay</span>=!<span class="hljs-number">1</span>;d.<span class="hljs-property">direction</span>=c.<span class="hljs-property">direction</span>;d.<span class="hljs-property">offset</span>=h.<span class="hljs-title function_">und</span>(e)?<span class="hljs-attr">b</span>:<span class="hljs-title function_">L</span>(e,b);c.<span class="hljs-property">began</span>=!<span class="hljs-number">0</span>;c.<span class="hljs-property">completed</span>=!<span class="hljs-number">0</span>;c.<span class="hljs-title function_">seek</span>(d.<span class="hljs-property">offset</span>);d=<span class="hljs-title function_">q</span>(d);d.<span class="hljs-property">began</span>=!<span class="hljs-number">0</span>;d.<span class="hljs-property">completed</span>=!<span class="hljs-number">0</span>;d.<span class="hljs-property">duration</span>&gt;b&amp;&amp;(c.<span class="hljs-property">duration</span>=d.<span class="hljs-property">duration</span>);c.<span class="hljs-property">children</span>.<span class="hljs-title function_">push</span>(d)&#125;);c.<span class="hljs-title function_">seek</span>(<span class="hljs-number">0</span>);c.<span class="hljs-title function_">reset</span>();c.<span class="hljs-property">autoplay</span>&amp;&amp;c.<span class="hljs-title function_">restart</span>();<span class="hljs-keyword">return</span> c&#125;;<span class="hljs-keyword">return</span> c&#125;;q.<span class="hljs-property">random</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">a,c</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*(c-a+<span class="hljs-number">1</span>))+a&#125;;<span class="hljs-keyword">return</span> q&#125;);<br></code></pre></td></tr></table></figure><h5 id="跟随小星星">跟随小星星</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">t</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-title function_">i</span>(),<span class="hljs-title function_">a</span>()&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">i</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;mousemove&quot;</span>,o),<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;touchmove&quot;</span>,e),<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;touchstart&quot;</span>,e),<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;resize&quot;</span>,n)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">n</span>(<span class="hljs-params">t</span>)&#123;d=<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">e</span>(<span class="hljs-params">t</span>)&#123;<span class="hljs-keyword">if</span>(t.<span class="hljs-property">touches</span>.<span class="hljs-property">length</span>&gt;<span class="hljs-number">0</span>)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;t.<span class="hljs-property">touches</span>.<span class="hljs-property">length</span>;i++)<span class="hljs-title function_">s</span>(t.<span class="hljs-property">touches</span>[i].<span class="hljs-property">clientX</span>,t.<span class="hljs-property">touches</span>[i].<span class="hljs-property">clientY</span>,r[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*r.<span class="hljs-property">length</span>)])&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">o</span>(<span class="hljs-params">t</span>)&#123;u.<span class="hljs-property">x</span>=t.<span class="hljs-property">clientX</span>,u.<span class="hljs-property">y</span>=t.<span class="hljs-property">clientY</span>,<span class="hljs-title function_">s</span>(u.<span class="hljs-property">x</span>,u.<span class="hljs-property">y</span>,r[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*r.<span class="hljs-property">length</span>)])&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">s</span>(<span class="hljs-params">t,i,n</span>)&#123;<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">new</span> l;e.<span class="hljs-title function_">init</span>(t,i,n),f.<span class="hljs-title function_">push</span>(e)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">h</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t=<span class="hljs-number">0</span>;t&lt;f.<span class="hljs-property">length</span>;t++)f[t].<span class="hljs-title function_">update</span>();<span class="hljs-keyword">for</span>(t=f.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>;t&gt;=<span class="hljs-number">0</span>;t--)f[t].<span class="hljs-property">lifeSpan</span>&lt;<span class="hljs-number">0</span>&amp;&amp;(f[t].<span class="hljs-title function_">die</span>(),f.<span class="hljs-title function_">splice</span>(t,<span class="hljs-number">1</span>))&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-title function_">requestAnimationFrame</span>(a),<span class="hljs-title function_">h</span>()&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">l</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">character</span>=<span class="hljs-string">&quot;*&quot;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">lifeSpan</span>=<span class="hljs-number">120</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">initialStyles</span>=&#123;<span class="hljs-attr">position</span>:<span class="hljs-string">&quot;fixed&quot;</span>,<span class="hljs-attr">top</span>:<span class="hljs-string">&quot;0&quot;</span>,<span class="hljs-attr">display</span>:<span class="hljs-string">&quot;block&quot;</span>,<span class="hljs-attr">pointerEvents</span>:<span class="hljs-string">&quot;none&quot;</span>,<span class="hljs-string">&quot;z-index&quot;</span>:<span class="hljs-string">&quot;10000000&quot;</span>,<span class="hljs-attr">fontSize</span>:<span class="hljs-string">&quot;20px&quot;</span>,<span class="hljs-string">&quot;will-change&quot;</span>:<span class="hljs-string">&quot;transform&quot;</span>&#125;,<span class="hljs-variable language_">this</span>.<span class="hljs-property">init</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">t,i,n</span>)&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>=&#123;<span class="hljs-attr">x</span>:(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()&lt;<span class="hljs-number">.5</span>?-<span class="hljs-number">1</span>:<span class="hljs-number">1</span>)*(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()/<span class="hljs-number">2</span>),<span class="hljs-attr">y</span>:<span class="hljs-number">1</span>&#125;,<span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>=&#123;<span class="hljs-attr">x</span>:t-<span class="hljs-number">10</span>,<span class="hljs-attr">y</span>:i-<span class="hljs-number">20</span>&#125;,<span class="hljs-variable language_">this</span>.<span class="hljs-property">initialStyles</span>.<span class="hljs-property">color</span>=n,<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(n),<span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;span&quot;</span>),<span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>.<span class="hljs-property">innerHTML</span>=<span class="hljs-variable language_">this</span>.<span class="hljs-property">character</span>,<span class="hljs-title function_">c</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">initialStyles</span>),<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">update</span>(),<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>)&#125;,<span class="hljs-variable language_">this</span>.<span class="hljs-property">update</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>+=<span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>.<span class="hljs-property">x</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">y</span>+=<span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>.<span class="hljs-property">y</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">lifeSpan</span>--,<span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span>=<span class="hljs-string">&quot;translate3d(&quot;</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>+<span class="hljs-string">&quot;px,&quot;</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">y</span>+<span class="hljs-string">&quot;px,0) scale(&quot;</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">lifeSpan</span>/<span class="hljs-number">120</span>+<span class="hljs-string">&quot;)&quot;</span>&#125;,<span class="hljs-variable language_">this</span>.<span class="hljs-property">die</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>.<span class="hljs-property">parentNode</span>.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>)&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">c</span>(<span class="hljs-params">t,i</span>)&#123;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> i)t.<span class="hljs-property">style</span>[n]=i[n]&#125;<span class="hljs-keyword">var</span> r=[<span class="hljs-string">&quot;#D61C59&quot;</span>,<span class="hljs-string">&quot;#E7D84B&quot;</span>,<span class="hljs-string">&quot;#1B8798&quot;</span>],d=<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,u=(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>,&#123;<span class="hljs-attr">x</span>:d/<span class="hljs-number">2</span>,<span class="hljs-attr">y</span>:d/<span class="hljs-number">2</span>&#125;),f=[];<span class="hljs-title function_">t</span>()&#125;)();<br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/ltpjEcrO5gUqYAv.png"alt="样式预览" /><figcaption aria-hidden="true">样式预览</figcaption></figure><h4 id="背景">背景</h4><h5 id="动态彩带">动态彩带</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br></pre></td><td class="code"><pre><code class="hljs js">(<span class="hljs-keyword">function</span> (<span class="hljs-params">name, factory</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> === <span class="hljs-string">&quot;object&quot;</span>) &#123;<br>        <span class="hljs-variable language_">window</span>[name] = <span class="hljs-title function_">factory</span>()<br>    &#125;<br>&#125;)(<span class="hljs-string">&quot;Ribbons&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> _w = <span class="hljs-variable language_">window</span>,<br>        _b = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>,<br>        _d = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>;<br>    <span class="hljs-keyword">var</span> random = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(<span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>])) &#123;<br>                <span class="hljs-keyword">var</span> index = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>].<span class="hljs-property">length</span> - <span class="hljs-number">1</span>));<br>                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>][index]<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>])<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span> === <span class="hljs-number">2</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * (<span class="hljs-variable language_">arguments</span>[<span class="hljs-number">1</span>] - <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>]) + <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>]<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    &#125;;<br>    <span class="hljs-keyword">var</span> screenInfo = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>        <span class="hljs-keyword">var</span> width = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, _w.<span class="hljs-property">innerWidth</span> || _d.<span class="hljs-property">clientWidth</span> || _b.<span class="hljs-property">clientWidth</span> || <span class="hljs-number">0</span>),<br>            height = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, _w.<span class="hljs-property">innerHeight</span> || _d.<span class="hljs-property">clientHeight</span> || _b.<span class="hljs-property">clientHeight</span> || <span class="hljs-number">0</span>),<br>            scrollx = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, _w.<span class="hljs-property">pageXOffset</span> || _d.<span class="hljs-property">scrollLeft</span> || _b.<span class="hljs-property">scrollLeft</span> || <span class="hljs-number">0</span>) - (_d.<span class="hljs-property">clientLeft</span> || <span class="hljs-number">0</span>),<br>            scrolly = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, _w.<span class="hljs-property">pageYOffset</span> || _d.<span class="hljs-property">scrollTop</span> || _b.<span class="hljs-property">scrollTop</span> || <span class="hljs-number">0</span>) - (_d.<span class="hljs-property">clientTop</span> || <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span> &#123;<br>            <span class="hljs-attr">width</span>: width,<br>            <span class="hljs-attr">height</span>: height,<br>            <span class="hljs-attr">ratio</span>: width / height,<br>            <span class="hljs-attr">centerx</span>: width / <span class="hljs-number">2</span>,<br>            <span class="hljs-attr">centery</span>: height / <span class="hljs-number">2</span>,<br>            <span class="hljs-attr">scrollx</span>: scrollx,<br>            <span class="hljs-attr">scrolly</span>: scrolly<br>        &#125;<br>    &#125;;<br>    <span class="hljs-keyword">var</span> mouseInfo = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>        <span class="hljs-keyword">var</span> screen = <span class="hljs-title function_">screenInfo</span>(e),<br>            mousex = e ? <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, e.<span class="hljs-property">pageX</span> || e.<span class="hljs-property">clientX</span> || <span class="hljs-number">0</span>) : <span class="hljs-number">0</span>,<br>            mousey = e ? <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, e.<span class="hljs-property">pageY</span> || e.<span class="hljs-property">clientY</span> || <span class="hljs-number">0</span>) : <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">return</span> &#123;<br>            <span class="hljs-attr">mousex</span>: mousex,<br>            <span class="hljs-attr">mousey</span>: mousey,<br>            <span class="hljs-attr">centerx</span>: mousex - screen.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>,<br>            <span class="hljs-attr">centery</span>: mousey - screen.<span class="hljs-property">height</span> / <span class="hljs-number">2</span><br>        &#125;<br>    &#125;;<br>    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Point</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = <span class="hljs-number">0</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = <span class="hljs-number">0</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">set</span>(x, y)<br>    &#125;;<br>    <span class="hljs-title class_">Point</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = &#123;<br>        <span class="hljs-attr">constructor</span>: <span class="hljs-title class_">Point</span>,<br>        <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = x || <span class="hljs-number">0</span>;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = y || <span class="hljs-number">0</span><br>        &#125;,<br>        <span class="hljs-attr">copy</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">point</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = point.<span class="hljs-property">x</span> || <span class="hljs-number">0</span>;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = point.<span class="hljs-property">y</span> || <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>        &#125;,<br>        <span class="hljs-attr">multiply</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> *= x || <span class="hljs-number">1</span>;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> *= y || <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>        &#125;,<br>        <span class="hljs-attr">divide</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> /= x || <span class="hljs-number">1</span>;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> /= y || <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>        &#125;,<br>        <span class="hljs-attr">add</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> += x || <span class="hljs-number">0</span>;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> += y || <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>        &#125;,<br>        <span class="hljs-attr">subtract</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> -= x || <span class="hljs-number">0</span>;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> -= y || <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>        &#125;,<br>        <span class="hljs-attr">clampX</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">min, max</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(min, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>, max));<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>        &#125;,<br>        <span class="hljs-attr">clampY</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">min, max</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(min, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>, max));<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>        &#125;,<br>        <span class="hljs-attr">flipX</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> *= -<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>        &#125;,<br>        <span class="hljs-attr">flipY</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> *= -<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>        &#125;<br>    &#125;;<br>    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Factory</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">options</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span> = <span class="hljs-literal">null</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span> = <span class="hljs-literal">null</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_sto</span> = <span class="hljs-literal">null</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_width</span> = <span class="hljs-number">0</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_height</span> = <span class="hljs-number">0</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_scroll</span> = <span class="hljs-number">0</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_ribbons</span> = [];<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span> = &#123;<br>            <span class="hljs-attr">colorSaturation</span>: <span class="hljs-string">&quot;80%&quot;</span>,<br>            <span class="hljs-attr">colorBrightness</span>: <span class="hljs-string">&quot;60%&quot;</span>,<br>            <span class="hljs-attr">colorAlpha</span>: <span class="hljs-number">0.65</span>,<br>            <span class="hljs-attr">colorCycleSpeed</span>: <span class="hljs-number">6</span>,<br>            <span class="hljs-attr">verticalPosition</span>: <span class="hljs-string">&quot;center&quot;</span>,<br>            <span class="hljs-attr">horizontalSpeed</span>: <span class="hljs-number">150</span>,<br>            <span class="hljs-attr">ribbonCount</span>: <span class="hljs-number">5</span>,<br>            <span class="hljs-attr">strokeSize</span>: <span class="hljs-number">5</span>,<br>            <span class="hljs-attr">parallaxAmount</span>: -<span class="hljs-number">0.5</span>,<br>            <span class="hljs-attr">animateSections</span>: <span class="hljs-literal">true</span><br>        &#125;;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_onDraw</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_onDraw</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_onResize</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_onResize</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_onScroll</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_onScroll</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setOptions</span>(options);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>()<br>    &#125;;<br>    <span class="hljs-title class_">Factory</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = &#123;<br>        <span class="hljs-attr">constructor</span>: <span class="hljs-title class_">Factory</span>,<br>        <span class="hljs-attr">setOptions</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">options</span>) &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options === <span class="hljs-string">&quot;object&quot;</span>) &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> options) &#123;<br>                    <span class="hljs-keyword">if</span> (options.<span class="hljs-title function_">hasOwnProperty</span>(key)) &#123;<br>                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>[key] = options[key]<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">init</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;canvas&quot;</span>);<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;display&quot;</span>] = <span class="hljs-string">&quot;block&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;position&quot;</span>] = <span class="hljs-string">&quot;fixed&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;margin&quot;</span>] = <span class="hljs-string">&quot;0&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;padding&quot;</span>] = <span class="hljs-string">&quot;0&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;border&quot;</span>] = <span class="hljs-string">&quot;0&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;outline&quot;</span>] = <span class="hljs-string">&quot;0&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;left&quot;</span>] = <span class="hljs-string">&quot;0&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;top&quot;</span>] = <span class="hljs-string">&quot;0&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;width&quot;</span>] = <span class="hljs-string">&quot;100%&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;height&quot;</span>] = <span class="hljs-string">&quot;100%&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">style</span>[<span class="hljs-string">&quot;z-index&quot;</span>] = <span class="hljs-string">&quot;-1&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_onResize</span>();<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>);<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_width</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_height</span>);<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-property">globalAlpha</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">colorAlpha</span>;<br>                <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;resize&quot;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_onResize</span>);<br>                <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;scroll&quot;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_onScroll</span>);<br>                <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>)<br>            &#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">&quot;Canvas Context Error: &quot;</span> + e.<span class="hljs-title function_">toString</span>());<br>                <span class="hljs-keyword">return</span><br>            &#125;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_onDraw</span>()<br>        &#125;,<br>        <span class="hljs-attr">addRibbon</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">var</span> dir = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-title function_">random</span>(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>)) &gt; <span class="hljs-number">5</span> ? <span class="hljs-string">&quot;right&quot;</span> : <span class="hljs-string">&quot;left&quot;</span>,<br>                stop = <span class="hljs-number">1000</span>,<br>                hide = <span class="hljs-number">200</span>,<br>                min = <span class="hljs-number">0</span> - hide,<br>                max = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_width</span> + hide,<br>                movex = <span class="hljs-number">0</span>,<br>                movey = <span class="hljs-number">0</span>,<br>                startx = dir === <span class="hljs-string">&quot;right&quot;</span> ? min : max,<br>                starty = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_height</span>));<br>            <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^(top|min)$/i</span>.<span class="hljs-title function_">test</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">verticalPosition</span>)) &#123;<br>                starty = <span class="hljs-number">0</span> + hide<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^(middle|center)$/i</span>.<span class="hljs-title function_">test</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">verticalPosition</span>)) &#123;<br>                starty = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_height</span> / <span class="hljs-number">2</span><br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^(bottom|max)$/i</span>.<span class="hljs-title function_">test</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">verticalPosition</span>)) &#123;<br>                starty = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_height</span> - hide<br>            &#125;<br>            <span class="hljs-keyword">var</span> ribbon = [],<br>                point1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(startx, starty),<br>                point2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(startx, starty),<br>                point3 = <span class="hljs-literal">null</span>,<br>                color = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(<span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-number">360</span>)),<br>                delay = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>                <span class="hljs-keyword">if</span> (stop &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;<br>                stop--;<br>                movex = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1</span> - <span class="hljs-number">0.2</span>) * <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">horizontalSpeed</span>);<br>                movey = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1</span> - <span class="hljs-number">0.5</span>) * (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_height</span> * <span class="hljs-number">0.25</span>));<br>                point3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>();<br>                point3.<span class="hljs-title function_">copy</span>(point2);<br>                <span class="hljs-keyword">if</span> (dir === <span class="hljs-string">&quot;right&quot;</span>) &#123;<br>                    point3.<span class="hljs-title function_">add</span>(movex, movey);<br>                    <span class="hljs-keyword">if</span> (point2.<span class="hljs-property">x</span> &gt;= max) <span class="hljs-keyword">break</span><br>                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dir === <span class="hljs-string">&quot;left&quot;</span>) &#123;<br>                    point3.<span class="hljs-title function_">subtract</span>(movex, movey);<br>                    <span class="hljs-keyword">if</span> (point2.<span class="hljs-property">x</span> &lt;= min) <span class="hljs-keyword">break</span><br>                &#125;<br>                ribbon.<span class="hljs-title function_">push</span>(&#123;<br>                    <span class="hljs-attr">point1</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(point1.<span class="hljs-property">x</span>, point1.<span class="hljs-property">y</span>),<br>                    <span class="hljs-attr">point2</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Point</span>(point2.<span class="hljs-property">x</span>, point2.<span class="hljs-property">y</span>),<br>                    <span class="hljs-attr">point3</span>: point3,<br>                    <span class="hljs-attr">color</span>: color,<br>                    <span class="hljs-attr">delay</span>: delay,<br>                    <span class="hljs-attr">dir</span>: dir,<br>                    <span class="hljs-attr">alpha</span>: <span class="hljs-number">0</span>,<br>                    <span class="hljs-attr">phase</span>: <span class="hljs-number">0</span><br>                &#125;);<br>                point1.<span class="hljs-title function_">copy</span>(point2);<br>                point2.<span class="hljs-title function_">copy</span>(point3);<br>                delay += <span class="hljs-number">4</span>;<br>                color += <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">colorCycleSpeed</span><br>            &#125;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_ribbons</span>.<span class="hljs-title function_">push</span>(ribbon)<br>        &#125;,<br>        <span class="hljs-attr">_drawRibbonSection</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">section</span>) &#123;<br>            <span class="hljs-keyword">if</span> (section) &#123;<br>                <span class="hljs-keyword">if</span> (section.<span class="hljs-property">phase</span> &gt;= <span class="hljs-number">1</span> &amp;&amp; section.<span class="hljs-property">alpha</span> &lt;= <span class="hljs-number">0</span>) &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>                &#125;<br>                <span class="hljs-keyword">if</span> (section.<span class="hljs-property">delay</span> &lt;= <span class="hljs-number">0</span>) &#123;<br>                    section.<span class="hljs-property">phase</span> += <span class="hljs-number">0.02</span>;<br>                    section.<span class="hljs-property">alpha</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(section.<span class="hljs-property">phase</span>) * <span class="hljs-number">1</span>;<br>                    section.<span class="hljs-property">alpha</span> = section.<span class="hljs-property">alpha</span> &lt;= <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : section.<span class="hljs-property">alpha</span>;<br>                    section.<span class="hljs-property">alpha</span> = section.<span class="hljs-property">alpha</span> &gt;= <span class="hljs-number">1</span> ? <span class="hljs-number">1</span> : section.<span class="hljs-property">alpha</span>;<br>                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">animateSections</span>) &#123;<br>                        <span class="hljs-keyword">var</span> mod = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(<span class="hljs-number">1</span> + section.<span class="hljs-property">phase</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">2</span>) * <span class="hljs-number">0.1</span>;<br>                        <span class="hljs-keyword">if</span> (section.<span class="hljs-property">dir</span> === <span class="hljs-string">&quot;right&quot;</span>) &#123;<br>                            section.<span class="hljs-property">point1</span>.<span class="hljs-title function_">add</span>(mod, <span class="hljs-number">0</span>);<br>                            section.<span class="hljs-property">point2</span>.<span class="hljs-title function_">add</span>(mod, <span class="hljs-number">0</span>);<br>                            section.<span class="hljs-property">point3</span>.<span class="hljs-title function_">add</span>(mod, <span class="hljs-number">0</span>)<br>                        &#125; <span class="hljs-keyword">else</span> &#123;<br>                            section.<span class="hljs-property">point1</span>.<span class="hljs-title function_">subtract</span>(mod, <span class="hljs-number">0</span>);<br>                            section.<span class="hljs-property">point2</span>.<span class="hljs-title function_">subtract</span>(mod, <span class="hljs-number">0</span>);<br>                            section.<span class="hljs-property">point3</span>.<span class="hljs-title function_">subtract</span>(mod, <span class="hljs-number">0</span>)<br>                        &#125;<br>                        section.<span class="hljs-property">point1</span>.<span class="hljs-title function_">add</span>(<span class="hljs-number">0</span>, mod);<br>                        section.<span class="hljs-property">point2</span>.<span class="hljs-title function_">add</span>(<span class="hljs-number">0</span>, mod);<br>                        section.<span class="hljs-property">point3</span>.<span class="hljs-title function_">add</span>(<span class="hljs-number">0</span>, mod)<br>                    &#125;<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    section.<span class="hljs-property">delay</span> -= <span class="hljs-number">0.5</span><br>                &#125;<br>                <span class="hljs-keyword">var</span> s = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">colorSaturation</span>,<br>                    l = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">colorBrightness</span>,<br>                    c = <span class="hljs-string">&quot;hsla(&quot;</span> + section.<span class="hljs-property">color</span> + <span class="hljs-string">&quot;, &quot;</span> + s + <span class="hljs-string">&quot;, &quot;</span> + l + <span class="hljs-string">&quot;, &quot;</span> + section.<span class="hljs-property">alpha</span> + <span class="hljs-string">&quot; )&quot;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">save</span>();<br>                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">parallaxAmount</span> !== <span class="hljs-number">0</span>) &#123;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">translate</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_scroll</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">parallaxAmount</span>)<br>                &#125;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">beginPath</span>();<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">moveTo</span>(section.<span class="hljs-property">point1</span>.<span class="hljs-property">x</span>, section.<span class="hljs-property">point1</span>.<span class="hljs-property">y</span>);<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">lineTo</span>(section.<span class="hljs-property">point2</span>.<span class="hljs-property">x</span>, section.<span class="hljs-property">point2</span>.<span class="hljs-property">y</span>);<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">lineTo</span>(section.<span class="hljs-property">point3</span>.<span class="hljs-property">x</span>, section.<span class="hljs-property">point3</span>.<span class="hljs-property">y</span>);<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-property">fillStyle</span> = c;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">fill</span>();<br>                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">strokeSize</span> &gt; <span class="hljs-number">0</span>) &#123;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-property">lineWidth</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">strokeSize</span>;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-property">strokeStyle</span> = c;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-property">lineCap</span> = <span class="hljs-string">&quot;round&quot;</span>;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">stroke</span>()<br>                &#125;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">restore</span>()<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>        &#125;,<br>        <span class="hljs-attr">_onDraw</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, t = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_ribbons</span>.<span class="hljs-property">length</span>; i &lt; t; ++i) &#123;<br>                <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">_ribbons</span>[i]) &#123;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_ribbons</span>.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>)<br>                &#125;<br>            &#125;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_width</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_height</span>);<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> a = <span class="hljs-number">0</span>; a &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">_ribbons</span>.<span class="hljs-property">length</span>; ++a) &#123;<br>                <span class="hljs-keyword">var</span> ribbon = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_ribbons</span>[a],<br>                    numSections = ribbon.<span class="hljs-property">length</span>,<br>                    numDone = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span>; b &lt; numSections; ++b) &#123;<br>                    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_drawRibbonSection</span>(ribbon[b])) &#123;<br>                        numDone++<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span> (numDone &gt;= numSections) &#123;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_ribbons</span>[a] = <span class="hljs-literal">null</span><br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_ribbons</span>.<span class="hljs-property">length</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">ribbonCount</span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addRibbon</span>()<br>            &#125;<br>            <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_onDraw</span>)<br>        &#125;,<br>        <span class="hljs-attr">_onResize</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>            <span class="hljs-keyword">var</span> screen = <span class="hljs-title function_">screenInfo</span>(e);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_width</span> = screen.<span class="hljs-property">width</span>;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_height</span> = screen.<span class="hljs-property">height</span>;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">width</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_width</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">_canvas</span>.<span class="hljs-property">height</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_height</span>;<br>                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>) &#123;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_context</span>.<span class="hljs-property">globalAlpha</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_options</span>.<span class="hljs-property">colorAlpha</span><br>                &#125;<br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">_onScroll</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>            <span class="hljs-keyword">var</span> screen = <span class="hljs-title function_">screenInfo</span>(e);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">_scroll</span> = screen.<span class="hljs-property">scrolly</span><br>        &#125;<br>    &#125;;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Factory</span><br>&#125;);<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Ribbons</span>(&#123;<br>    <span class="hljs-attr">colorSaturation</span>: <span class="hljs-string">&quot;60%&quot;</span>,<br>    <span class="hljs-attr">colorBrightness</span>: <span class="hljs-string">&quot;50%&quot;</span>,<br>    <span class="hljs-attr">colorAlpha</span>: <span class="hljs-number">0.5</span>,<br>    <span class="hljs-attr">colorCycleSpeed</span>: <span class="hljs-number">5</span>,<br>    <span class="hljs-attr">verticalPosition</span>: <span class="hljs-string">&quot;random&quot;</span>,<br>    <span class="hljs-attr">horizontalSpeed</span>: <span class="hljs-number">200</span>,<br>    <span class="hljs-attr">ribbonCount</span>: <span class="hljs-number">3</span>,<br>    <span class="hljs-attr">strokeSize</span>: <span class="hljs-number">0</span>,<br>    <span class="hljs-attr">parallaxAmount</span>: -<span class="hljs-number">0.2</span>,<br>    <span class="hljs-attr">animateSections</span>: <span class="hljs-literal">true</span><br>&#125;);<br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/zL953GRQCOFIxXJ.png"alt="样式预览" /><figcaption aria-hidden="true">样式预览</figcaption></figure><h5 id="静态彩带点击改变效果">静态彩带(点击改变效果)</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs js">! <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">attr</span>(<span class="hljs-params">node, attr, default_value</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Number</span>(node.<span class="hljs-title function_">getAttribute</span>(attr)) || default_value;<br>  &#125;<br><br>  <span class="hljs-comment">// get user config</span><br>  <span class="hljs-keyword">var</span> scripts = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&#x27;script&#x27;</span>),<br>    script = scripts[scripts.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]; <span class="hljs-comment">// 当前加载的script</span><br>  config = &#123;<br>    <span class="hljs-attr">z</span>: <span class="hljs-title function_">attr</span>(script, <span class="hljs-string">&quot;zIndex&quot;</span>, -<span class="hljs-number">1</span>), <span class="hljs-comment">// z-index</span><br>    <span class="hljs-attr">a</span>: <span class="hljs-title function_">attr</span>(script, <span class="hljs-string">&quot;alpha&quot;</span>, <span class="hljs-number">0.6</span>), <span class="hljs-comment">// alpha</span><br>    <span class="hljs-attr">s</span>: <span class="hljs-title function_">attr</span>(script, <span class="hljs-string">&quot;size&quot;</span>, <span class="hljs-number">90</span>), <span class="hljs-comment">// size</span><br>  &#125;;<br><br>  <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>),<br>    g2d = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>),<br>    pr = <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> || <span class="hljs-number">1</span>,<br>    width = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,<br>    height = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>,<br>    f = config.<span class="hljs-property">s</span>,<br>    q, t,<br>    m = <span class="hljs-title class_">Math</span>,<br>    r = <span class="hljs-number">0</span>,<br>    pi = m.<span class="hljs-property">PI</span>*<span class="hljs-number">2</span>,<br>    cos = m.<span class="hljs-property">cos</span>,<br>    random = m.<span class="hljs-property">random</span>;<br>  canvas.<span class="hljs-property">width</span> = width * pr;<br>  canvas.<span class="hljs-property">height</span> = height * pr;<br>  g2d.<span class="hljs-title function_">scale</span>(pr, pr);<br>  g2d.<span class="hljs-property">globalAlpha</span> = config.<span class="hljs-property">a</span>;<br>  canvas.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = <span class="hljs-string">&#x27;opacity: &#x27;</span> + config.<span class="hljs-property">a</span> + <span class="hljs-string">&#x27;;position:fixed;top:0;left:0;z-index: &#x27;</span> + config.<span class="hljs-property">z</span> + <span class="hljs-string">&#x27;;width:100%;height:100%;pointer-events:none;&#x27;</span>;<br>  <span class="hljs-comment">// create canvas</span><br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&#x27;body&#x27;</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">appendChild</span>(canvas);<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">redraw</span>(<span class="hljs-params"></span>) &#123;<br>    g2d.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height);<br>    q = [&#123;<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: height * <span class="hljs-number">0.7</span> + f&#125;, &#123;<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: height * <span class="hljs-number">0.7</span> - f&#125;];<br>    <span class="hljs-keyword">while</span>(q[<span class="hljs-number">1</span>].<span class="hljs-property">x</span> &lt; width + f) <span class="hljs-title function_">draw</span>(q[<span class="hljs-number">0</span>], q[<span class="hljs-number">1</span>]);<br>  &#125;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params">i, j</span>) &#123;<br>    g2d.<span class="hljs-title function_">beginPath</span>();<br>    g2d.<span class="hljs-title function_">moveTo</span>(i.<span class="hljs-property">x</span>, i.<span class="hljs-property">y</span>);<br>    g2d.<span class="hljs-title function_">lineTo</span>(j.<span class="hljs-property">x</span>, j.<span class="hljs-property">y</span>);<br>    <span class="hljs-keyword">var</span> k = j.<span class="hljs-property">x</span> + (<span class="hljs-title function_">random</span>()*<span class="hljs-number">2</span>-<span class="hljs-number">0.25</span>)*f, n = <span class="hljs-title function_">line</span>(j.<span class="hljs-property">y</span>);<br>    g2d.<span class="hljs-title function_">lineTo</span>(k, n);<br>    g2d.<span class="hljs-title function_">closePath</span>();<br>    r -= pi / -<span class="hljs-number">50</span>;<br>    g2d.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">&#x27;#&#x27;</span>+(<span class="hljs-title function_">cos</span>(r)*<span class="hljs-number">127</span>+<span class="hljs-number">128</span>&lt;&lt;<span class="hljs-number">16</span> | <span class="hljs-title function_">cos</span>(r+pi/<span class="hljs-number">3</span>)*<span class="hljs-number">127</span>+<span class="hljs-number">128</span>&lt;&lt;<span class="hljs-number">8</span> | <span class="hljs-title function_">cos</span>(r+pi/<span class="hljs-number">3</span>*<span class="hljs-number">2</span>)*<span class="hljs-number">127</span>+<span class="hljs-number">128</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);<br>    g2d.<span class="hljs-title function_">fill</span>();<br>    q[<span class="hljs-number">0</span>] = q[<span class="hljs-number">1</span>];<br>    q[<span class="hljs-number">1</span>] = &#123;<span class="hljs-attr">x</span>: k, <span class="hljs-attr">y</span>: n&#125;;<br>  &#125;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">line</span>(<span class="hljs-params">p</span>)&#123;<br>    t = p + (<span class="hljs-title function_">random</span>() * <span class="hljs-number">2</span> - <span class="hljs-number">1.1</span>) * f;<br>    <span class="hljs-keyword">return</span> (t &gt; height || t &lt; <span class="hljs-number">0</span>) ? <span class="hljs-title function_">line</span>(p) : t;<br>  &#125;<br><br>  <span class="hljs-variable language_">document</span>.<span class="hljs-property">onclick</span> = redraw;<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-property">ontouchstart</span> = redraw;<br>  <span class="hljs-title function_">redraw</span>();<br>&#125;();<br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/9SHA8qmJvD2IVkY.png"alt="样式预览" /><figcaption aria-hidden="true">样式预览</figcaption></figure><h5 id="动态线条">动态线条</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">!<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">function</span> <span class="hljs-title function_">o</span>(<span class="hljs-params">w,v,i</span>)&#123;<span class="hljs-keyword">return</span> w.<span class="hljs-title function_">getAttribute</span>(v)||i&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">j</span>(<span class="hljs-params">i</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(i)&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">l</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-keyword">var</span> i=<span class="hljs-title function_">j</span>(<span class="hljs-string">&quot;script&quot;</span>),w=i.<span class="hljs-property">length</span>,v=i[w-<span class="hljs-number">1</span>];<span class="hljs-keyword">return</span>&#123;<span class="hljs-attr">l</span>:w,<span class="hljs-attr">z</span>:<span class="hljs-title function_">o</span>(v,<span class="hljs-string">&quot;zIndex&quot;</span>,-<span class="hljs-number">1</span>),<span class="hljs-attr">o</span>:<span class="hljs-title function_">o</span>(v,<span class="hljs-string">&quot;opacity&quot;</span>,<span class="hljs-number">0.5</span>),<span class="hljs-attr">c</span>:<span class="hljs-title function_">o</span>(v,<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-string">&quot;0,0,0&quot;</span>),<span class="hljs-attr">n</span>:<span class="hljs-title function_">o</span>(v,<span class="hljs-string">&quot;count&quot;</span>,<span class="hljs-number">99</span>)&#125;&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">k</span>(<span class="hljs-params"></span>)&#123;r=u.<span class="hljs-property">width</span>=<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>||<span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span>||<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">clientWidth</span>,n=u.<span class="hljs-property">height</span>=<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>||<span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientHeight</span>||<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">clientHeight</span>&#125;<span class="hljs-keyword">function</span> <span class="hljs-title function_">b</span>(<span class="hljs-params"></span>)&#123;e.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,r,n);<span class="hljs-keyword">var</span> w=[f].<span class="hljs-title function_">concat</span>(t);<span class="hljs-keyword">var</span> x,v,A,B,z,y;t.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)&#123;i.<span class="hljs-property">x</span>+=i.<span class="hljs-property">xa</span>,i.<span class="hljs-property">y</span>+=i.<span class="hljs-property">ya</span>,i.<span class="hljs-property">xa</span>*=i.<span class="hljs-property">x</span>&gt;r||i.<span class="hljs-property">x</span>&lt;<span class="hljs-number">0</span>?-<span class="hljs-number">1</span>:<span class="hljs-number">1</span>,i.<span class="hljs-property">ya</span>*=i.<span class="hljs-property">y</span>&gt;n||i.<span class="hljs-property">y</span>&lt;<span class="hljs-number">0</span>?-<span class="hljs-number">1</span>:<span class="hljs-number">1</span>,e.<span class="hljs-title function_">fillRect</span>(i.<span class="hljs-property">x</span>-<span class="hljs-number">0.5</span>,i.<span class="hljs-property">y</span>-<span class="hljs-number">0.5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);<span class="hljs-keyword">for</span>(v=<span class="hljs-number">0</span>;v&lt;w.<span class="hljs-property">length</span>;v++)&#123;x=w[v];<span class="hljs-keyword">if</span>(i!==x&amp;&amp;<span class="hljs-literal">null</span>!==x.<span class="hljs-property">x</span>&amp;&amp;<span class="hljs-literal">null</span>!==x.<span class="hljs-property">y</span>)&#123;B=i.<span class="hljs-property">x</span>-x.<span class="hljs-property">x</span>,z=i.<span class="hljs-property">y</span>-x.<span class="hljs-property">y</span>,y=B*B+z*z;y&lt;x.<span class="hljs-property">max</span>&amp;&amp;(x===f&amp;&amp;y&gt;=x.<span class="hljs-property">max</span>/<span class="hljs-number">2</span>&amp;&amp;(i.<span class="hljs-property">x</span>-=<span class="hljs-number">0.03</span>*B,i.<span class="hljs-property">y</span>-=<span class="hljs-number">0.03</span>*z),A=(x.<span class="hljs-property">max</span>-y)/x.<span class="hljs-property">max</span>,e.<span class="hljs-title function_">beginPath</span>(),e.<span class="hljs-property">lineWidth</span>=A/<span class="hljs-number">2</span>,e.<span class="hljs-property">strokeStyle</span>=<span class="hljs-string">&quot;rgba(&quot;</span>+s.<span class="hljs-property">c</span>+<span class="hljs-string">&quot;,&quot;</span>+(A+<span class="hljs-number">0.2</span>)+<span class="hljs-string">&quot;)&quot;</span>,e.<span class="hljs-title function_">moveTo</span>(i.<span class="hljs-property">x</span>,i.<span class="hljs-property">y</span>),e.<span class="hljs-title function_">lineTo</span>(x.<span class="hljs-property">x</span>,x.<span class="hljs-property">y</span>),e.<span class="hljs-title function_">stroke</span>())&#125;&#125;w.<span class="hljs-title function_">splice</span>(w.<span class="hljs-title function_">indexOf</span>(i),<span class="hljs-number">1</span>)&#125;),<span class="hljs-title function_">m</span>(b)&#125;<span class="hljs-keyword">var</span> u=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;canvas&quot;</span>),s=<span class="hljs-title function_">l</span>(),c=<span class="hljs-string">&quot;c_n&quot;</span>+s.<span class="hljs-property">l</span>,e=u.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>),r,n,m=<span class="hljs-variable language_">window</span>.<span class="hljs-property">requestAnimationFrame</span>||<span class="hljs-variable language_">window</span>.<span class="hljs-property">webkitRequestAnimationFrame</span>||<span class="hljs-variable language_">window</span>.<span class="hljs-property">mozRequestAnimationFrame</span>||<span class="hljs-variable language_">window</span>.<span class="hljs-property">oRequestAnimationFrame</span>||<span class="hljs-variable language_">window</span>.<span class="hljs-property">msRequestAnimationFrame</span>||<span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)&#123;<span class="hljs-variable language_">window</span>.<span class="hljs-built_in">setTimeout</span>(i,<span class="hljs-number">1000</span>/<span class="hljs-number">45</span>)&#125;,a=<span class="hljs-title class_">Math</span>.<span class="hljs-property">random</span>,f=&#123;<span class="hljs-attr">x</span>:<span class="hljs-literal">null</span>,<span class="hljs-attr">y</span>:<span class="hljs-literal">null</span>,<span class="hljs-attr">max</span>:<span class="hljs-number">20000</span>&#125;;u.<span class="hljs-property">id</span>=c;u.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span>=<span class="hljs-string">&quot;position:fixed;top:0;left:0;z-index:&quot;</span>+s.<span class="hljs-property">z</span>+<span class="hljs-string">&quot;;opacity:&quot;</span>+s.<span class="hljs-property">o</span>;<span class="hljs-title function_">j</span>(<span class="hljs-string">&quot;body&quot;</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">appendChild</span>(u);<span class="hljs-title function_">k</span>(),<span class="hljs-variable language_">window</span>.<span class="hljs-property">onresize</span>=k;<span class="hljs-variable language_">window</span>.<span class="hljs-property">onmousemove</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)&#123;i=i||<span class="hljs-variable language_">window</span>.<span class="hljs-property">event</span>,f.<span class="hljs-property">x</span>=i.<span class="hljs-property">clientX</span>,f.<span class="hljs-property">y</span>=i.<span class="hljs-property">clientY</span>&#125;,<span class="hljs-variable language_">window</span>.<span class="hljs-property">onmouseout</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;f.<span class="hljs-property">x</span>=<span class="hljs-literal">null</span>,f.<span class="hljs-property">y</span>=<span class="hljs-literal">null</span>&#125;;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t=[],p=<span class="hljs-number">0</span>;s.<span class="hljs-property">n</span>&gt;p;p++)&#123;<span class="hljs-keyword">var</span> h=<span class="hljs-title function_">a</span>()*r,g=<span class="hljs-title function_">a</span>()*n,q=<span class="hljs-number">2</span>*<span class="hljs-title function_">a</span>()-<span class="hljs-number">1</span>,d=<span class="hljs-number">2</span>*<span class="hljs-title function_">a</span>()-<span class="hljs-number">1</span>;t.<span class="hljs-title function_">push</span>(&#123;<span class="hljs-attr">x</span>:h,<span class="hljs-attr">y</span>:g,<span class="hljs-attr">xa</span>:q,<span class="hljs-attr">ya</span>:d,<span class="hljs-attr">max</span>:<span class="hljs-number">6000</span>&#125;)&#125;<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-title function_">b</span>()&#125;,<span class="hljs-number">100</span>)&#125;();<br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/FQlGPAWwdBgpNb8.png"alt="样式预览" /><figcaption aria-hidden="true">样式预览</figcaption></figure><h4 id="飘落">飘落</h4><h5 id="雪花样式一">雪花样式一</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs js">(<span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>)&#123;<br>$.fn.<span class="hljs-property">snow</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>)&#123;<br><span class="hljs-keyword">var</span> $flake = $(<span class="hljs-string">&#x27;&lt;div id=&quot;snowbox&quot; /&gt;&#x27;</span>).<span class="hljs-title function_">css</span>(&#123;<span class="hljs-string">&#x27;position&#x27;</span>: <span class="hljs-string">&#x27;absolute&#x27;</span>,<span class="hljs-string">&#x27;z-index&#x27;</span>:<span class="hljs-string">&#x27;9999&#x27;</span>, <span class="hljs-string">&#x27;top&#x27;</span>: <span class="hljs-string">&#x27;-50px&#x27;</span>&#125;).<span class="hljs-title function_">html</span>(<span class="hljs-string">&#x27;&amp;#10052;&#x27;</span>),<br>documentHeight = $(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">height</span>(),<br>documentWidth= $(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">width</span>(),<br>defaults = &#123;<br>minSize: <span class="hljs-number">10</span>,<br>maxSize: <span class="hljs-number">20</span>,<br>newOn: <span class="hljs-number">1000</span>,<br>flakeColor: <span class="hljs-string">&quot;#AFDAEF&quot;</span> <span class="hljs-comment">/* 此处可以定义雪花颜色，若要白色可以改为#FFFFFF */</span><br>&#125;,<br>options= $.<span class="hljs-title function_">extend</span>(&#123;&#125;, defaults, options);<br><span class="hljs-keyword">var</span> interval= <span class="hljs-built_in">setInterval</span>( <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">var</span> startPositionLeft = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * documentWidth - <span class="hljs-number">100</span>,<br>startOpacity = <span class="hljs-number">0.5</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>(),<br>sizeFlake = options.<span class="hljs-property">minSize</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * options.<span class="hljs-property">maxSize</span>,<br>endPositionTop = documentHeight - <span class="hljs-number">200</span>,<br>endPositionLeft = startPositionLeft - <span class="hljs-number">500</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">500</span>,<br>durationFall = documentHeight * <span class="hljs-number">10</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">5000</span>;<br>$flake.<span class="hljs-title function_">clone</span>().<span class="hljs-title function_">appendTo</span>(<span class="hljs-string">&#x27;body&#x27;</span>).<span class="hljs-title function_">css</span>(&#123;<br><span class="hljs-attr">left</span>: startPositionLeft,<br><span class="hljs-attr">opacity</span>: startOpacity,<br><span class="hljs-string">&#x27;font-size&#x27;</span>: sizeFlake,<br><span class="hljs-attr">color</span>: options.<span class="hljs-property">flakeColor</span><br>&#125;).<span class="hljs-title function_">animate</span>(&#123;<br><span class="hljs-attr">top</span>: endPositionTop,<br><span class="hljs-attr">left</span>: endPositionLeft,<br><span class="hljs-attr">opacity</span>: <span class="hljs-number">0.2</span><br>&#125;,durationFall,<span class="hljs-string">&#x27;linear&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">remove</span>()<br>&#125;);<br>&#125;, options.<span class="hljs-property">newOn</span>);<br>    &#125;;<br>&#125;)(jQuery);<br>$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    $.fn.<span class="hljs-title function_">snow</span>(&#123; <br>    <span class="hljs-attr">minSize</span>: <span class="hljs-number">5</span>, <span class="hljs-comment">/* 定义雪花最小尺寸 */</span><br>    <span class="hljs-attr">maxSize</span>: <span class="hljs-number">50</span>,<span class="hljs-comment">/* 定义雪花最大尺寸 */</span><br>    <span class="hljs-attr">newOn</span>: <span class="hljs-number">300</span>  <span class="hljs-comment">/* 定义密集程度，数字越小越密集 */</span><br>    &#125;);<br>&#125;);<br><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/XZK47zhpMvDgaUN.png"alt="样式预览" /><figcaption aria-hidden="true">样式预览</figcaption></figure><h5 id="雪花样式二">雪花样式二</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/* 控制下雪 */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">snowFall</span>(<span class="hljs-params">snow</span>) &#123;<br>    <span class="hljs-comment">/* 可配置属性 */</span><br>    snow = snow || &#123;&#125;;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxFlake</span> = snow.<span class="hljs-property">maxFlake</span> || <span class="hljs-number">200</span>;   <span class="hljs-comment">/* 最多片数 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">flakeSize</span> = snow.<span class="hljs-property">flakeSize</span> || <span class="hljs-number">10</span>;  <span class="hljs-comment">/* 雪花形状 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fallSpeed</span> = snow.<span class="hljs-property">fallSpeed</span> || <span class="hljs-number">1</span>;   <span class="hljs-comment">/* 坠落速度 */</span><br>&#125;<br><span class="hljs-comment">/* 兼容写法 */</span><br>requestAnimationFrame = <span class="hljs-variable language_">window</span>.<span class="hljs-property">requestAnimationFrame</span> ||<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">mozRequestAnimationFrame</span> ||<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">webkitRequestAnimationFrame</span> ||<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">msRequestAnimationFrame</span> ||<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">oRequestAnimationFrame</span> ||<br>    <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) &#123; <span class="hljs-built_in">setTimeout</span>(callback, <span class="hljs-number">1000</span> / <span class="hljs-number">60</span>); &#125;;<br><br>cancelAnimationFrame = <span class="hljs-variable language_">window</span>.<span class="hljs-property">cancelAnimationFrame</span> ||<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">mozCancelAnimationFrame</span> ||<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">webkitCancelAnimationFrame</span> ||<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">msCancelAnimationFrame</span> ||<br><span class="hljs-variable language_">window</span>.<span class="hljs-property">oCancelAnimationFrame</span>;<br><span class="hljs-comment">/* 开始下雪 */</span><br>snowFall.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">start</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">/* 创建画布 */</span><br>    snowCanvas.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>);<br>    <span class="hljs-comment">/* 创建雪花形状 */</span><br>    createFlakes.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>);<br>    <span class="hljs-comment">/* 画雪 */</span><br>    drawSnow.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>)<br>&#125;<br><span class="hljs-comment">/* 创建画布 */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">snowCanvas</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">/* 添加Dom结点 */</span><br>    <span class="hljs-keyword">var</span> snowcanvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;canvas&quot;</span>);<br>    snowcanvas.<span class="hljs-property">id</span> = <span class="hljs-string">&quot;snowfall&quot;</span>;<br>    snowcanvas.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;<br>    snowcanvas.<span class="hljs-property">height</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">clientHeight</span>;<br>    snowcanvas.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;style&quot;</span>, <span class="hljs-string">&quot;position:absolute; top: 0; left: 0; z-index: 1; pointer-events: none;&quot;</span>);<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&quot;body&quot;</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">appendChild</span>(snowcanvas);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = snowcanvas;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span> = snowcanvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>);<br>    <span class="hljs-comment">/* 窗口大小改变的处理 */</span><br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">onresize</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>        snowcanvas.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;<br>        <span class="hljs-comment">/* snowcanvas.height = window.innerHeight */</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">/* 雪运动对象 */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">flakeMove</span>(<span class="hljs-params">canvasWidth, canvasHeight, flakeSize, fallSpeed</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * canvasWidth);   <span class="hljs-comment">/* x坐标 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * canvasHeight);  <span class="hljs-comment">/* y坐标 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * flakeSize + <span class="hljs-number">2</span>;          <span class="hljs-comment">/* 形状 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxSize</span> = flakeSize;                           <span class="hljs-comment">/* 最大形状 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1</span> + fallSpeed;         <span class="hljs-comment">/* 坠落速度 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fallSpeed</span> = fallSpeed;                         <span class="hljs-comment">/* 坠落速度 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">velY</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span>;                             <span class="hljs-comment">/* Y方向速度 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">velX</span> = <span class="hljs-number">0</span>;                                      <span class="hljs-comment">/* X方向速度 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stepSize</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() / <span class="hljs-number">30</span>;                 <span class="hljs-comment">/* 步长 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">step</span> = <span class="hljs-number">0</span>                                       <span class="hljs-comment">/* 步数 */</span><br>&#125;<br>flakeMove.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">update</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>,<br>        y = <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>;<br>    <span class="hljs-comment">/* 左右摆动(余弦) */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">velX</span> *= <span class="hljs-number">0.98</span>;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">velY</span> &lt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">velY</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span><br>    &#125;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">velX</span> += <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">step</span> += <span class="hljs-number">.05</span>) * <span class="hljs-variable language_">this</span>.<span class="hljs-property">stepSize</span>;<br><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">velY</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">velX</span>;<br>    <span class="hljs-comment">/* 飞出边界的处理 */</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> &gt;= canvas.<span class="hljs-property">width</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> &lt;= <span class="hljs-number">0</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> &gt;= canvas.<span class="hljs-property">height</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> &lt;= <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reset</span>(canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>)<br>    &#125;<br>&#125;;<br><span class="hljs-comment">/* 飞出边界-放置最顶端继续坠落 */</span><br>flakeMove.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">reset</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">width, height</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * width);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = <span class="hljs-number">0</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxSize</span> + <span class="hljs-number">2</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">fallSpeed</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">velY</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">velX</span> = <span class="hljs-number">0</span>;<br>&#125;;<br><span class="hljs-comment">// 渲染雪花-随机形状（此处可修改雪花颜色！！！）</span><br>flakeMove.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">render</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">ctx</span>) &#123;<br>    <span class="hljs-keyword">var</span> snowFlake = ctx.<span class="hljs-title function_">createRadialGradient</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>);<br>    snowFlake.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;rgba(255, 255, 255, 0.9)&quot;</span>);  <span class="hljs-comment">/* 此处是雪花颜色，默认是白色 */</span><br>    snowFlake.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">.5</span>, <span class="hljs-string">&quot;rgba(255, 255, 255, 0.5)&quot;</span>); <span class="hljs-comment">/* 若要改为其他颜色，请自行查 */</span><br>    snowFlake.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;rgba(255, 255, 255, 0)&quot;</span>);    <span class="hljs-comment">/* 找16进制的RGB 颜色代码。 */</span><br>    ctx.<span class="hljs-title function_">save</span>();<br>    ctx.<span class="hljs-property">fillStyle</span> = snowFlake;<br>    ctx.<span class="hljs-title function_">beginPath</span>();<br>    ctx.<span class="hljs-title function_">arc</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>, <span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * <span class="hljs-number">2</span>);<br>    ctx.<span class="hljs-title function_">fill</span>();<br>    ctx.<span class="hljs-title function_">restore</span>();<br>&#125;;<br><span class="hljs-comment">/* 创建雪花-定义形状 */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">createFlakes</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> maxFlake = <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxFlake</span>,<br>        flakes = <span class="hljs-variable language_">this</span>.<span class="hljs-property">flakes</span> = [],<br>        canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; maxFlake; i++) &#123;<br>        flakes.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">flakeMove</span>(canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">flakeSize</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">fallSpeed</span>))<br>    &#125;<br>&#125;<br><span class="hljs-comment">/* 画雪 */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">drawSnow</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> maxFlake = <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxFlake</span>,<br>        flakes = <span class="hljs-variable language_">this</span>.<span class="hljs-property">flakes</span>;<br>    ctx = <span class="hljs-variable language_">this</span>.<span class="hljs-property">ctx</span>, canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>, that = <span class="hljs-variable language_">this</span>;<br>    <span class="hljs-comment">/* 清空雪花 */</span><br>    ctx.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> e = <span class="hljs-number">0</span>; e &lt; maxFlake; e++) &#123;<br>        flakes[e].<span class="hljs-title function_">update</span>();<br>        flakes[e].<span class="hljs-title function_">render</span>(ctx);<br>    &#125;<br>    <span class="hljs-comment">/*  一帧一帧的画 */</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">loop</span> = <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>        drawSnow.<span class="hljs-title function_">apply</span>(that);<br>    &#125;);<br>&#125;<br><span class="hljs-comment">/* 调用及控制方法 */</span><br><span class="hljs-keyword">var</span> snow = <span class="hljs-keyword">new</span> <span class="hljs-title function_">snowFall</span>(&#123;<span class="hljs-attr">maxFlake</span>:<span class="hljs-number">60</span>&#125;);<br>snow.<span class="hljs-title function_">start</span>();<br><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/uFrjZOPlCavUKsA.png"alt="样式预览" /><figcaption aria-hidden="true">样式预览</figcaption></figure><h5 id="樱花">樱花</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> stop, staticx; <span class="hljs-keyword">var</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>(); img.<span class="hljs-property">src</span> = <span class="hljs-string">&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAEwCAYAAADVZeifAAAACXBIWXMAAACYAAAAmAGiyIKYAAAHG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBSaWdodHM9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9yaWdodHMvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDFDMjQxQjYyNjIwNjgxMTgwODNEMjE2MDAzOTU1NDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNDVjOWViOC04NDc4LTFkNDctOGRjMi0yZDkyOGNhYTYxZWQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA1LTA5VDE0OjQ5OjM3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyMjVlZWE3LTEyY2QtMTY0NC04ZDAzLWFjOTE2ZTAxZDQ1YyIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDoxRDIwNUFGNjZCRDlFNTExOUM5REMwMzg2RjlEQjFGNyIvPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmMzNjIzMy1hOWNkLWNiNDQtODViYi0zZTgyMjEwYmIxMjYiIHN0RXZ0OndoZW49IjIwMTgtMDUtMDlUMTQ6NTE6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiBzdEV2dDp3aGVuPSIyMDE4LTA1LTA5VDE0OjUxOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XCpBoAAApBxJREFUeNrs/cmSI8u2LIipLnMHosnc59Z7jyxhjSg1oggn/EWO+SP8B34JhRyWCItk1at7786MBnBbWoNlZm4OOLrIvc8+t45bCjIQjibQuKuvTlUpCdva1ra2ta3zZdtHsK1tbWtbG0Bua1vb2tYGkNva1ra2tQHktra1rW1tALmtbW1rWxtAbmtb29rWBpDb2ta2trUB5La2ta1tbQC5rW1ta1sbQG5rW9va1gaQ29rWtra1AeS2trWtbW1rA8htbWtb29oAclvb2ta2NoDc1ra2ta0NILe1rW1tawPIbW1rW9vaAHJb29rWtjaA3Na2trWtDSC3ta1tbWsDyG1ta1vb2gByW9va1rY2gNzWtra1rW1tALmtbW1rWxtAbmtb29rWBpDb2ta2trUB5La2ta1tbQC5rW1ta1sbQG5rW9va1gaQ29rWtra1AeS2trWtbW0Aua1tbWtbG0Bua1vb2tY/3xr+o7+Bf/2//z/+1OfPAIgJErGbMj7M8fue+O1A7LLjcxyw+5hwZMbgQnLgKIftRsgMyYUjBYNhOn6AADiMOGDCyIQBCflwwNEdw24HHA5AzhjHJxyQwZTADLgmHJPhDRnfjo6PlPHbNOJDGZgEZsIgOAHPR/yPwxv+28MONOBghIEAiXce8LkzuAG/vRP7o+EzAcMRyNlxoJByxj4T/8su4+UgPE3A++jg5yfe/lvD73/b4eVfM17/zfE//y3h6UjsJ8f/9N8m/Of/Cnz/d0cegHES/t///Q7HHfG/+/8JT0fABGQTzIEkYMyGf/0vBh8N3/99wv/rP/1/sDs6/i//+t8DZhCATOFwzPj4/R3/MhkOmPBz/47dB+CY8LZ/w/NnQh4cu88dppSRU4abQwbQCRPhdDx/PCGbI9f7JLXbRfHpYw+n4MOkPAAUSacBmfv30f/rf+f+8m+GpyPw8Zrhl0IMAmK5KgAOWCY4Ib6r8pO+/hiV/5c/LyyVe6g8TnH5P/3f/q8bwv2zA+TfZ7HtvKbY4ScCOxCU4EaYE04hxb0hOYgEATAJTsGYkP2IQQBocAkkAGMBQcdgA47HA3aMg0cQkhmOGRhEZAMoIpdDhiREQYzXJQBDSQwygFGLdwET2/3c2luLx9fXzjhKk4hs8QTmsd2OAiHkIR4wZmFKxNMRGI7C5xPxt3+Lv+0GvL47/r/fBgBCJpAcYPwVAICbsPsE/v0VSJl49if8+/C/IEMwCIQBcCQLUBeBlOOFi4K5wanyGcgAiPEe5XSApInJsllCQkAVQNFStpTcUjoakxtNZqJIwtIx2XigpUyaG2xSdvPj9/+aPy3zoORuorKVD7OCoZfLxAUgMhegrEBYf1p8x2pYdxUKITVEXIBhewFit21bG0D+HWoQDgJwiERSAF622CFNgpsh5YypHPck4S7YEEcjQQhAsoRj/ixARHiBOVpAhsthNkCKPZwCvNvTB1Ugi7/dnpunr9mQYJjoGGWLOooVUAcDbAWV6CleN9sxJwzOeE/lczgakQ4OkzCNhBuwOwo/n+M+u4Pwsbd4dQLciJefwvR/CLDsgyWVP+SMxx0HgSCe8h7/037CwY7YY1cPeyQzwAxe3j9FeBKSwOf3p7Q7cuQ7d0oYCbPkifvDnqaULNvOhAE0c7p2ACEbTBwIjhCMYIJhAJggWICsMuQTnEdCB7m/7f6rv2XLb2781ITP6bdpSgcrgNhFhTqJChnv9eGosILijKAnCIvlxQsQbwC5AeTfM4IkACdhHtHUlBTxjYSjEYMATxHGEQyQK5GFlZ3daOWsLxgjyiphYAMVJIv9XsIC9xgHg4HIDFBzUxyM5QCUShxBYifDwYSXErlkCkmEkaAcEDFRERUKmCxA0ARMiIN5EHBIcT2JkapPgmVhShHRjZOQU5xExqPw43uNQCOqffp0iEAegDShe9Nz4DUcK6Aa9nmACLylT+ynXYlwC4CbYWLGHoTJzFxj8rTfH8ZnE14pfqP4Ctke0EBoEG0gMJLcK3J2Lx9XIrFz2kjBIhSvpx9NgI6QPgR/B/Qu6YNIo8kHTpYcU0IWcRw+NJ9HIoAjIAroTja/FhWeRIblUoGQHShSZV9J3A7bDSD/jil2xHQgiOTCNJRoToISW9rYsi2tnMZZ7ieHwSINhSJyYyBc7N8J7hmkAS7IAhgFYRRxNGFww2SOEQm5/e2IVZ3AToY3HiEMEfGWtJkIQGRJgfsIEuU1wAzKGUmEM0oHgwMYo3aWJuG4B3IidlNJlQnYFJ/JNMxvfXcUxqNw2AHjJxalgPbpuDAchePOsJsGJAz4Mb7jPx2/zyUAAPsUibbD0+v77nlwvEJ4pfEbHN9o9h20AEnoWcQe5FgvRrIU6wSjCRzNbIRAQBmug9wPcv+A9A66RR4vp7vk7hIyQTc3pckwCjo+C26atIj3r4PhalSIdSBswFeAsAEiojyjRGAgfGQ5LRBRTdjWBpB/F2ic910i9r1oHnQ1vpoml9splFSZ7XkC/AxZ7V5wCAMY4ZviEDMLgByGVEDTYSQkxyji04BnByY49khz8bBEgBkBkP9ucSBaV9+K9DRenxuQLeqC9TnqfZ3AWHJit7IBBmYgHQU8AXkE+AGYRxS5c4AufO6Ap/d4CB14+hA+98Tr74LXskWLeuNV7Y7A5154+knsfI8fw0d/WjIAw+uwG7lLT7T8QscLhb8B/AbxVcI30r6J/E7yReArpReSexhHGEeAVivEIBNrBUWYIP/UlN/o/i53wN3hzHBM5UWCJheY4cwwy0lJOEKi++dTdqUOIS80TuZwv1z3C1FhD4g1KjQ0AFyAoZWovfyhRYq/rQ0g/z4gyZq/IpXTfyYxOqJpYRGZycqODUDuYBoiNS6NmkSDKyOVWqXkAIeIIl1wd1hKyIdPjGNt1EQEeSwR5E8DkgyfzC2lriktSp1y5ylSWyqaQl2xoDaacgHI9h47gFRJ+02R0gNAAiEwABJAHuMPDpOQzcBJSBn4fDK8/MzwFK/l5V34t78ZYHMzCTWYKwXO3Qfw/h349jux0w7/y+7f4HASHEzpaWB64WivML0y41mO7yC+B0DiheR3AN9p9h3CK4QXCi8AX5H4DHJHlWoHlAMUNcl1gPs7MsiELKNzQgaZReS4rwQgR9GYmcQEV3bQkTnZu3Y05fyEI7y8rXujQs2NHdQSiUWKrH0PhoASAwgLxrfnyIiGliKjadu3tQHk32upprGtURN1O2SWRg1hU9QFkUsTptQRo/tNTCU6nKYJYzl8MoQdAJiBk8PlGC1hUmnBqEal0egZakMFbMEHu2OwrgSDIeqMQ9c3NtROdjwyW3SAWdPs2jcuzzeUjj0AmBMTiXSIDnNOhEod8rADcIiGy/ue+M/lL7oRr2+O//9/SS3qHnwZmTuF/Yfwb/9ZSJ7sv3x8p/yZlnZ7s+HVYP9C2t8A+4aBz3A8EfwO4G8k/ybhO8hvAL4B/BvEVwLfALwAeIH4VEJ2h3SE6x3SO+QfpFPQEbIRwo6uSWY7yI9AGgmMyvkIcgA50JjgHEEOFAY6Bk5INJl2BubrjRMuosI5Rdae0EmKXKcJILXHm6sBKaVF/RGurUGzAeRfC5Nexm/MgamOwCgiqADN2qgpoz4EvKS50ahJLXIKkPNlJ7uApTpYLt2Z+LvluKpZcWaN8ro8vkSVgwxHCs9eRnvK7cYAdbQ6ZAC+swSjJYIUHENJ6VVGdI5G2NEjrR5YGjXA23O82vEg/PitSzMNeH4XpgRMI8AM7HNL4xlRnWhZ9t/9D3gaNDz/H//tvzxZGp990Ctov8HSfwbtPwH2G42vAJ8B/Bbb8DfIvpN4AfgC4hniC4AR4gBglJQgOOSfdP0EPcN9kvMIMtFsiHOBEpgGAiZnYsTAiZCJTIASYANMBnmCmQmeIA12QMInjWU0oQGXz40zJEI7LFPkRMhWokKP/SoATw1UI9LUIgI9LQWBceLa1gaQf5dlAHKNwkr9Owk4lu4t5ZBx0XwgCLjXqnzbgdkQyBsaqTRqWhWfAZju5a/WbYzu+ABiStGVzgwQy2T721agdSfDkRkx+CNMc5INenRUss3znZlzJ9tLFJmc8DKuZCIwGGzKSEchjwZPMf9Yu7fjUTiOpVFTXs/uIPvb756ePmT7AwgyARgH8WV0vg6y1+T2Yjb8liz9N0rDd5l9S7TfSuT4n0H7TzT7DeQLYDsAz2B6BflMYF/qi0NpeZeOdE1bBbgTriTCYJYAGKUksv6eKCVQJiiRGkQNoCUQA+GDkBLgAwYlMg0gkkEDMAwpY0xHHc2RwZPGyVh+TwgwPI0Kc9lHSorMRdSpeZi8gqHmUiYsTlK5wLkb4WkDyA0g/6JKpJMYSif7EzO4tC5wqQVaS7GWjRqQIC1mHjG0TraBoAWo9o0aszEaNXUApetk77Ih07HDUEqkpQ1T7r9TwrtN8KlEjCxRbN+oKSMp9HJQ1eiSbI0aMUoHqZQOWDrZ2gF5IMZPlXonbJxg338XRRikJHBH4uX//P/ML0jpGbRXks8mfjOkvxntO5L9zWz4jTb8N0zpPyGlb6Q9C/YK8jst/Q3kd4A7gClCdMb+a8b5xNNNcdaB+DZuVUYFDAMcCcYBsARggDSUKsYAVyIxKvuRRESgwAhwonGQ5QGZOwAThR2TJhsxjsDgUx4+/xs7+rNpngo4AcNpJSos6fHNqLAAbE4xUuY2/+zvvKXZG0D+5SuVs/rMDomzd40ya51IcsASpEIFhJCY4HKk0qxwCKmM4sEFV4z6ZJ+Q0q7UIR1GQ9aEQYZPAs9u+BimBYbXCHIisHNDLiwTw3mjxrpO9pBxdlT27JpMRK1UMaRtk0MJOOwN40e2//SveXg62n50e/6XH3pS4p4Yni3ba5L9C2m/Uek3Mr0AfKHZNzL9C8jfMNg32PAd5DeZ/UZL30R7htmOiXvQ9rUBTVr5cNkiqPa61b3D2qwGoUhLCXII0NOoqCPumHiUcwQ0wG1E0g7EBGCMuiMGug2QBrmPzDiIHAAMoAYyJQMSpGEEh4MVNmUuJZK+cdJHhX2N8hQMLU5W2UpU2IGhuomFuRYJMKul3zWT2dYGkH/n+LFSDlm6hsJkjPGW0pCwfEo5VJthrBGb0TB5xoCumUMAaaYcjmnAYTqU7nZEmQMNDmAsqbFhnXJYj46xDMNlRM0UXce6drLFZSe7giJKpgpUiuPcyXYDhk/x+aenl5++e/7g0+j2bEzfEu03o73S+ULwBbDvNPsbLf2NKX2D2Uu5vIL2HcbfmIZvMPuGZM8wvsDsqTRFDMlIszLmwnlWc65ZtGHyGh/DS4W2lTe8zICnAe4DrKTMZgniyKwjqAGmJNcAq80YT8hIck9wGSkTUjIyRVVYKSJaJINScqTxmBNM2bwUiqUrUWFEhEolRbY5TZZhmSarn4EszRmfh9G9AGpO1kB1WxtA/l0B0k872Q5MKcI18wDI4QhMiWXULiiHaEPlbNxqz3OjRpVewplyyDQuKIf9wWU6jfQ0N2G610sQA6JRM2ruZLNUJU872T3l0MrQuiNqnUcDMsRxorl24/P/7Pv//f/ozyBeYOnV0vDNLP1Gpt9g9g3kE2ivMH6Dpd8wDL8hpW80vsLsGcZXpHJfS68kn2C2gzHBzFCH560Dxu4zmqPIOts0b2ojRLWhYdZ6IDGFj1ZzFDxF+J4S5ImUyd1gTCUFTyQTzJMcieSAXMBRiQGSyaCo/KWjp0xnPVedNk6WtcIZDE+jwqhNFhAsoFgJNW6lLpwMuYIp59Es1Kh1WxtA/r1hMvrOAZCpKNO0up/ZYgh6QTnEspONQuhgNyvMtoPPB39POWx8aUUkN1mkzo16eEI5FImxNGqoITrPIeew6GT3jZqpNmoATCUqHR1042hmuwTuTXjmgO9M9s2Mr6R9o9k3DMN3JPtOS99APsPSC82+I9lvGNJvsPQdZi+MKDHqkSk9wzjAaCyt/Dpu1MqK5Gl42803laICT0QjyvuPOcHCdnJHNGAsmjXuibJSK1WCEF1rIkE00VNoXdAgJgJJ8ZEnSoOSBiolSQNTSiYNhog+RUxrjZOzFPk0KtQ8XF6jQt+xpNlzvVGljlxPoOYqDR6169vaAPLvn2KjU7tx4DCUtFkq2++jHAIGyWFIFyiHgplFo4ZWGjVapxxS2LcBoNJDL42avQw/LEMeZYHcQX0cUGyNGpsbNZRcTjBDu72npxeMLzbaa4omyyuZvtHsN5KvoL0i2SstfUeyfynp8zONLyC/YUi/IdlvTOkVtBeQe5IDzAYYU4sEO3BbhLu12cE5bZ5BspxMvBuuNLaTT2OXKNJsmgFSIpkUnE6L35XgSKIMYoJ8IBlda5bGTulNCxpgliANMB8BO0ApUT6kbImUvX/nQgptnmOMhgxPokIZMaWICltkyXlf6zvcdMHc599PwXDLrjeA/CtX7SgndTxkYQZPLaXRYh4yaIOlxRCMGnfQUmvUNMqhA64TyqELSoKRIYsm4pPAixsOKeOpoxzWRk1QDhMmO8QsZn2Na5TDMr5EIhk5PCENL459Srvn0exvTOk7LX1jslcwvdL4Cto3pBI9WnSckdJvNLZaI81eo76YvpEstcX409FgYddUWUZXC0mcpuZhC5qINPPHu43dvFUB0FrQcxjkA+QDwSRwgJDgSjAOFEYJRzgToKF0vaPLHcdLuc4EMoE0kAOMiWZmE5MdkXiEcYTbpEXjRIz6YB4rGJ5EhZjrln1UOF/O+lEzAHtXm9wCyA0g/8pGDYqSD4r02Th1jRpFo6YBkgtMaKl4pRxmTaVRE3VHcACNsCy4hJQGTIcPjIzmjVI0ZhzCrlAOq7pPTzn0bvRo9FSkttY72RBwHIRjgo0TxidPz8PA55TshUwvNHvlkH4zS39DgF13YYhDmH2LdDkAEuQ3kC8lWnyC2UjaGKjcNVWkReS4TJuxLKrWcSl2qKD+ffeqOZ0ihs/RKI0xhOU0CKkOiUseMmcOA5noPihAb4CYKCaZDYAKmHpEvuIAs5Hyg8xGmI3GNI5HH3cfPn1KftwRXrQsaxe6jwpbp9sjyrWabnfzszqNCl2LSLQ1fFhS+cEi1t3WBpB/9+ixUuhOKYclovREpOM8OmOIiI9cUg5DG/LQmimqrBkGBFbKobyqPtY0PFg2qaMcLnDg5LhIMRY+Uw5rdAtgkNnLgUP6tOF5sv3A9C1Z+s3S8MqUXkh7jXqifceQvsMsmixM30C+wvgK8htSeiH5rTRkvpfbngAOJAmjtWix6zjXmmKNaJvAQz803wPpXFxdnrUUz9X6NewjzWXXO05UMsBGSCNcx4gUbQS0g/sEcgI5wmyEYwS1I5QV23cwTnBOJOu2PYEsINNsGvKQn96P+Zjgb//ZcprYGicBgL6MCCsl9TRF1gyGfVSo0vDRYJGKr4z/bGsDyL8kgmxipyVKi8ZGZUIE5TD4yx3l0NXogbVRQ1oLlAgid5TDFg0VdsxMOZxfR22keO2Ol0ZNTzms0dUow4GOZw9Gt4MmID35sN8d+ZxqpJjSb0zjbxxS7TTXkZzfmNJvsPQadcUWQb7C7HvUIUtaXSLGYJ90tUXyvLi4YIYQ6IByrvXqvKjGC8U2dpVilU+tpuOpfFjugJkRGuW+gyHTLUueg96ECVImmSXlKNsyI2jzU8AzXULcJmSILjED5jRNyZV3U/KXn9nfPvRBufrGyXpUWHjWJ3xqWVAR887K6A9XGz3WcbzNN7GKDSD/Qpis4rlDbdSMNX32og15QjnUFcqhO5g4n/g519tUBqPdc6TSRRuyNnJqJzsJmOgYZI1y6F1cupPhwyYgJ9t5SkTaJeNLYnrhzl4taojfYKk0VNILaS8FAF+R7BtS+h6pdNlGey2/RzptfCK5g1lapMEATnL7lQinn6w/AfhirXAeWhXw8/qZnQBph43tk6c3ewtAA4CnUqrNJF1kjujRIoRXqPqAnGBWwNK9gOZUznnRYyMdNAc9w+B0aH9E/tu/Kr+9+lEzvT5q0bk0V3yuJsRMZKTHbkXG7OQz6wGwB0V2Cj7asusNIP/SGiTqzFmk1VWlJmlGBCLP0l41XSwNnBrZWaEcsnwNHkUwGAsYJsHSCeUQYQDmcOwq5XAyTCaMLYWtaucRNO2VeKQncngelJ5pw0tKqTZXXsg5GsQwfGdKtab4DNoLkn2D2d+i3sgy5M3XEjGGlBhhTXGjfUxcDfRaCl3nWQwz0J1OVGu2mJgbTDYDXzoJx9RHp/GZN8ohu46GEZANkO9Bc8AzaBOoDMKjIMiQOKsgWPkwpIPI7ScoEi4iB5Aym5lrUt7/nqfPQZ6TJssnUWGaxSrWUmSqsLRWokSsRKGN+SRujewNIP8xVqMclpojywFAzLYF9QCt9UMWyqEVyqEtKIcxGM1JrZOd8xEp7Zp1A0lkBaPm3YBnGY6cFplnsXYwN/LZx6fvenrGwG9mwWYpIFi6z/bCxG+gvZYI8ltJoV9gfIbFSA8s7kOzVwD7Uo9LbXrbeAEI+0YLunpi1502Ow8S+yutR8MFcAo6p6csOj5YgCWWQEkQO6iLBJeXDGACmRURY+hE1u3ABDBqlrIR1A7gRNok00TDbsx+fHrD9Pbd8uGbCcLVFPmeqLAHwrO3j3Ppu21tAPn3jyJLSpQ0Uw73uQjjJoKFctgyJPcYncMsLZaYcPTphHLIpk6e5dilAdPxs1EOM4SRhiOEQdEdPaUcgjAmSwlpN5JPNvAbad9Ya4fkK0qUWBoqLzD7VmqPpRljESEanyP9DjsDGF/Aop7DhQrHEhA5lyPmkIjz9M5ippHLuqL6dPvk9xMcpDpFJMxNn/aArs6rOvJTRY2NkGigxgB8ZJBHEDuQE8Bo3AQY7kBWwAwbB3CkcZRzB+IIsylE5tNIYGfExGncPR95PE4+fRimlNF8jf6IqLCnltJLXdznz2VbG0D+3VfrZFfRB5872dGoCSOq44Jy6G2HtmLb2iiH5T5tjLu5HAo0a5TDM7DWMtjyoBymIY27RD6b2XMRh/ge9D/7RvKlpcelpkizVyS8wtIrLH2PWUeWYW97QeJrqHenl7Au6LLeKsWGrhlzFsydjuU02t9y8PviGel2e7Y1d7qm1VyILN+DV0Xuyl2y+DKlAbCR9AFmO8EngCMzR1kBQnEEeJRspDTCtFPSERk7Jkwi9nTPgE/FnWeitMPAPDqm17fJkVxTQvC0L0WF5ReufA5trLOPOisYllFPT8S027jYG0D+hRFk7UnX6mFSiOdWl8PJUjBeOINH72zXLLZoHeT2CuE8mRMMgOUJIFXKYTYVN0Ifnrh/5pBezNIrYw7xpUSKdfzmhbRvAF9h+AZLLzP9j9+Q0jekcjvtOSJIfgP4XCInsAcq8nK9se9anwAie5Ds0+/TGuXiOVdS9v6uNtcYAwwLCFbZotoeVjdyZARgpuwjyD2gieSoKB9kyjKArLBoyCHxWy5uOWZ2zEuLusSGWWB8KXSHAb4/mPBD+v27Phor9EpU2INhBULT/Bm7ET6iSfp6whmne1sbQP5lKXbTdsRMOawuh30kdY/LoVpbZ6Yc1vk+L3ax7jlYN61+WcRzRXyY8zXvxmEYnxKGV6bgPAP2EmISjHojUBkwpdGCOvQdQ93G11DcwbfClnkR8EyzZwCpAZCwmk7fcWa5L2rsgXIBnKdpNpflxh5IF4SbWUC2DlbLrEz1lNCLGmC2j06ZZkNqoa8IYhYYK3VKQTPfvmj4EIGMQax2Mnki8+5Af/7wfNj7wa14KXaZQANC74oTVgBwDBEUH9CJU8yPpUfcSg9bXubtWN0A8q9OtcNhCUlx1OXSlGlJX601VkrfCeXQgRn8aAvKIYvFgmvuZI/DALqCUUMiy/HkRgC7JxueacMrWSLASKVfCLwUEPxeosbCcLHXoqzzjU2CLH6PemM0aEjuEPqHJ5HahaLgSTFiFehqHH62eQU8yfWI8fLZa/X5iE4+7EShe+Z7awQoSF7a3oI89HRi3CdH8E8HmNs2WgYxgdrDFHOVhuICzgnME4H9IOSnT005MWvQlKYKvWWkp6j0TEPRgExdQ6ebHaMDqdIKs5rqz2nJZVsbQP7ljRp0LoFT8WcxlEaNF23Iely7Qna/iUlUvvU55TDm9RS86zRgmt6DEyNvquAC0rNsHDi8KKUXtHlG+4ZQ2SlyZEV2DGVMJwa7X1qjxkKyDAwhW6SWUu/CyuDkzZ+2y09T7AZyXZTG7raODdNG4XtBitOU+xqAXsJmXkEKzlqYsBApDqYTCShSbbMM+QSzHeWThGPpWGcQI2g70CeQR5K7YNRogjiCGgnsREwghpmVo3Fw2+0/NHFPPz7Da91QaaW7XaPJrPaTroUv9ql5Ysdu3w7UDSD/ARo1JUK00smuHO1shOXiKV2sCrIcAzsPmEI5nK5RDov9gjT7ljhE0tLTsHsysxdZegHthWTrQkcEaOHqx0inafY9utB8IdMrUv97F0HGY8e+C3yxccKVSG8BZNbV/dCJTixT7kXz5ioYnozqXIs411g4beZydu/pRTMQJcORKHVIcoK4I3UUORGYRI4gpnafUIkbFaLrE4gjYBOJUcQuuuOaSB5Ndtxljdkx/XiVW52uLN40lmd1cKtakDinIZ6CIRfSaZw52tvaAPKvadQAPeWQjqa6bRKOZhgVZl81nawmXrXmGOm01ZnFmG9slMMyDK04gIOAEY8fPA1DGp4xpG9geo5h79qd5rfSkAnQrCl2cKWDAYMuqmSpSSa+lLnIpwhh1wDn2jYsGttL5e9+5OYEKC81b26B5KXXsjA/6wbDy3fULILMolzRasZR02AEvSlAkVMBvSOAEcQYGj3sxoBahLiDFCNAsB2gwtu2oCiaRkA7unKk2j69f/rEo2T5clS4PA9xtlhozZslGHpRIs+77TjdAPIvhsnwoTEM7kgSDmVqBPKmvFNtEFpXeiYglqeZgbBu9drAqdqQlXKYM4dhGJiGZ6ThG9MQqTLw2mqIQKH/pVdCRZiWryC+weqYj9VI8VsnYPuKiJjGRbh1Jz4uDmNqCZK6kvOuNG/OQPJiyn3ltdWZSz9piplDnfBDWFUUcKwkd6cBGIE6D1l+kkeA8zbDEc49SC8d7glmR7jvC1jGdsOEzBxtlJwJ5HGCf/s3Tp9ppiGupchtTrIAYT84HgrlgO/QLBrax7YVIjeA/MtrkF0SlzyuT12jpkrg991GnVAORcDKrGOl0Dm8MWrC5RBIw2gwjmm3e0EaXsPyFKW22NLpnh/9ihpVlq513IbXIlz7isqeIZ9o3M8E8T5BXQO2C+IRutSn0QozRg8UDnUmc3b6Gshz5K6iwejEMNpAO3UuylsRMpBogHEHVaaMjgj2UDBsGj2RXpo3s8BFNHWmMvw6hdhF5XnT4XTA8tM7nvKLNCUdZyAErPiYz4IVRbNzDMk7txNBI3UfE+fHbGsDyH8YxKw87GzAmJeS/wvKoQNMbJRDVZdDz0iaxXNHFGUeF9xz2j+/7DkML7DU6IEgvoP2CvC5a768wvgbwDnt7uuLxhgIJ56RUhkI53DWjOkaKOuh2uXq7Hz1iv9oHyZWoLKV5s1a9ElejmJ5GuWrWGRrZtAUqbgFolQQrq8h1G1HsIBidKy9ux68a1dwtWdwzIXYlGH0xuUuEmmwlAFOnPLOsk37g46UT5aL9m+JCqN5M4/znEaFvTf2ormDUoPcIsgNIP8hokiiyEfkuVGTo5OtRNh0QjksNgs95dBgOGqmHNYok8k4piGNaffEIYU2YwhEvBZ/6W9zlMiQJwNLBGnfQMQ22jPIb0ypmGgFU4ZRb9xdjgZXLFV5IfVt7L5LIzxYkaY5AUlcS+d5IejklUbOaWNmQVcJ/ndhOHXacUFBdAPoBtoOVqTOqAKMjPEdZybtKPqudLOjgSMbI/G1ifQRxCgxapXhwR12ssQ4HDlOxun9VUesRYX9V2KnJwGe8LUFTw4fHJ62Ls0GkH/xuko5LC6HScCxWTkXymE5SGfKYSqUQzTKoQAmS6Ol4cnSEGM4xm8QX4uvdIkWESk2AijJ2pCxlmaTpcaYwiYhHmv7JiPUj+rwJBLkJYZMB0Z+oeh1rX64FkneYh1eUgVae23dnUktM/MEMBtkRYzYS0Rpc/rPVIRFpKRozIwkByQOoQKkncyOSBopHlWoiNHZxgjwACAFKGIs9d0MsyPkExIzpMnc9uNR+Z3KVDHOxAkrBh3rprxEN4cPOQCxgqI5VBwqt7UB5F8eQVbKocpIT4BhoRy645gGjNVfmlpoQ85DJmod61nFkUZyZ2l8YhpeYYVPXaJFNh41OhC0l07l+3uxO4gh8Jpip3AgLAerLWt8p9YHvCOFxUK/sfeROcNE/YlfxAIQT8d65hdXbW6logvpAOhBpIkRn/iubCZ8SiRlIwyjpFAYN02QTRCiW610hLiDFOmzsBMsQ17qjZhozIJN8LyL+iUUabjnQZaf35Q/XvUZNPK5BinTDIJddOjmjcpawkeYE2lKSNmQctoO0g0g//oUu8magUgufFaXQyxrQ+oyO501GaJjrXAZtKe026dhfMUwvIDptYsOq5rOa6UPkqWDDb5Eio0XgK80fgfTS5Esey2jQK+IjqytR3q4PHR9rdzYOtUn4KhL5lFdmn2JSrhIv3kHOHYAeVKTa7NYrnn+0dTKruEu2LhN85sTUeZ+UmvYBKI6pEwhS6UWaa66Pc50RY08OtlBIqSKOvnMxAndJ+T9IU3TPk+fTz7l8bgAxUVUWJg35gZza2AYF2sSaNvaAPIfDC1nl8PcXA6FUNPyNlAemKBqP9odlobJJ9sPL3sbdt8xDNFpZhn2BkrXGt/mSBKRTgNl3KfYrLINfL8Go4ZhhQDu7qJYPCJ4cDev+s7nuxXFrgnytlopz9N/aT5bEUAimHMrj7S/Ue7DaqpVO9tWJ/stIkSVOmTxD8SsQp5BTbWjXTrWRR4t5iIJTTI7AspwTlDVkfRxEHYvH3b8/PbpP//24Smz2MTaIipM2WCeELfPJYaqi6lSQyU3Js0GkP8gUWQ9GBvlMAG7Y2nUcHY5TPVYlYNIRcNHcDjHYZfM0pMNu1em4RuQvgF4IYpeIxAdaFhEiOQrYK+lKfNalL1fmSK1jm53BUd7KjJlt6PC0/usCVGcguKicX1aT7wkNtEB1K0Zx9XIdm2SWkuwXESf9W/5PPKjlaiVWvjoFM1IIIulNDGRnBRd6bEoHO1ozPI2EjQWDvskaRfzkxoBG2m+A+woaAyQ1L4qmSdhennf+TTiMOSkNFmLFNE1Ymrnmtap02MDxQ0g/wHXrMVYhFClMOwCYS54MlhxOURxOcwusKj/JIHZOI7j/gnD+NpYL80Eq7BegjIY+o1FiKIo8lR71dqMCRuEVLQcgeewL30AHO850IRVIIxSAWbb1VvqPfdEoLzyurjyuk/GgNqoUKcRWcewUJoz9Jmb3eYnuYxKCaSgH2Iq4rpTaL+HwjiJ4GQXaTQVNXJAuejdldS6EAhpcRYtRWk69fJjh/Ew6v3Fj2U4do4KEeImVUVq/QvhSclhWxtA/oURZNOGZIx5mxcwLLWtnIjxEATdefylb9SkYbd7Kt4v6SXmF/FcGDABkORzEY94otkTyKcSMbYLw02w3GbxO7CH2XBTBecRYDytPV7CO115XKvx6f5UfK0Jsxjb6cDx7KEl6gqD8Koc0qjYdQ4ovpvz+ZpOAZMQRgjPBCXWVgpV/gjn1L4PaRWhKFQKoYlMZZzLqRD0cKeihjhm+XGStOPxelTIJpnXAPehesa2NoD8O8BkjUas1CEnq6M/wpGz3L/OFBmQOKQnDOMzhCeATySfQAS4oV7nHrQnxvYKkPvycwZN4xOMzzTW+4wXI8YzrcV7osaTIfCT6FG6cL9rKfc5nK2MDHH9PRjvfOm9M4SKnWy4UM7q5mi2XI1N0/4O+lpkgrAvJkNFOBcOMxQdSQ/JTjljLAGKAcYio1Z/0ilJpEOMmiTcQU6JmJ4n5o8xu6g8fwbF5eK0KYXzkQFtEeQGkP9INci6i6aCG9mAsUnrn1AOBcidwzDuOe6foPwE8Bmw8jOiRViAJsBnEjVafAIQ95nB8gnWRZSw5wBVcE2k9zoonk6F6xzoFpHfnbJkZ2bQddDpWk59X6Tb61JcfHg/62mITlpPOaxeNdWeQZ2orrMMlQcmKhwc90ghmkshy92RKmumMGrkEySnNAEaIeygdJS0AzxHJ5zHYOxwB6RQ/Uk8DoZx0DRNzA4mXYoKtdgHefVr2dYGkH8tWrLrZBeAJBQuh4U1MzqQzEhLe9rwBOkJwhNoBfgUUWMAYWyjngtQ7su2JxBPjIhxD+Kp+FI/wdI+6HEFfR4p3J+msTrpYtwY2VlV4lmjFN5VCL0PHMmVSPNarVKlzGEsNgy589U+oRuiu94MvwofUCKdOxknJAsZNGmibFRSKP84dtGx1g7QEdIEYEdogjBJOsIVohhmpeONEQyfmx0sS8c8UVMnhHceHZ7Ul0UCmyfNBpD/eFFk7WTXRk0Rz7WgHGYL+4RkaWTa7WGpRIn2BHBPtNR5P6fZ2JWO6K7wgvfRNcUeZjuQeyQr221fHPkSfrWj2RcT9Ug4ogduuqNzdNqEIdfvwJO6JK5Ekb14BZfgR2cwbIQyN1ll0Agli3YMPRRGwpU7xHGFidKk0CuZypjPBCiLHt3qiCqPMWBuE6ESbTK3pg6UBTlhnkTfHZWnYXJPJedfqKDXRlPvrU1shoYbQP5DrUWjxkPZJxo1oTnoyTAegUMyaBjsWWnEYPui2B3gZngqPtO7th0FCAMw42K19lhA0Qpg0vaI+44Pz3vwxhjP4x/I1Vrlw6+HNyJHPlBH7SNNI5AtZrl7S9iyrbf3jT5LQBeLwK6QEsE9oMzEo2A7Vt9sY0bmBHkmkVXqklFv9OhsU2WbHJSzno0IIZkAaaDpRaY3TJ9ucNkMiMBS1acGwEmcDb62tQHkXx1BqmvUpFKHPDTKoTAl1mkSM3EH2r6lywX4iC6tZkmnWaLLmGOMNLs1ZSy61i215nOJLtOXQOgWOJ42YLQEPOlK3fIesLr4Oy6o93AdPM/ENFaA1oN2qJo+O8NeFyp9EsyptJe5SYtZRJrHXCQtABNMwLAHsoMUphDlgXtUMkXCS2fdPQDQoj2DuJQPrzPPiYF2FWEnH5h8T/rbqEOmWn/cOjBMiJ+zS/hWhNwA8h8sxe4ph+ooh3Wa91nDSKUn0BrYRW3RajpdfscTWNwEaxMm/GXKOE9cgmfNSifcL5TA7wXEe1LtVXC8kguf1h9P/bFPX9OqVezaS+f1qPEaTbKl1/PraWZZsJB2rNlA0eFkituoMEqbtccK/yk63gS0K6QpaHAieNBOZJfMm64d4YAcromQwz1LyARzKJBjAjDBUAbQ46fRxh25m3TMWT6NMMw0bJW2uWMqFh0bOG4A+Y8Jlc3EK3bQyYB9Lmf03TBEGpyekCLyK9HiC/uZxuIjQ5b7lJlHptLEKVFjzDxiX67vL36XjwDjGUPm/gNt0aC59LgL5cPrjZcr4HitVolrf6uOJ6JjzljURtrrLypFVjjZjjbqQ5TRxdo9T6RgI1xOYBI0gtgh40hpJ8dU5idHACPoY2nYjNGw0RDbWTxtNACFpWMYAe6MnF6AacoH/7Sjq8WJzfyj+alb+betDSD/gaLIGiSx2bzmcsMoJRuG6FqHx/QeQp1ZrHXIaNCgNF/M9rUpQ2tD37sKiESpTQJj0Nh+sSuzNrt4mlqfDHpLK4+/ixlza9ToCqrySgR670fApYDunKYzxnhaYDin2oTHPKOV8aRUHucRFNKYxDQAGEmNiu9lh6yJxhHwSW4jgVHCDtIx5lQ1wRXsHARoAtgXm/QJQBYwkbYbwEnK0xEfbkEuREKCgTAWWKRFOcA2gNwA8h9uFRMvX7gccnSOGNK+RHq7SKWxh7iLg0HRfY665J5QgGMZEI/HcNcAFK2bXZ+TFwGHJ3XBa3XFS2m0n9NjzqJFfaEBczNy5PUI9FdKCD0tEaUeWecdK+HFBPqsGxnzkQZZGbQxQVMZFzKBwgCkndwnShOYJtAnuU9AyjTV2ccJ0qRo0ITIBZSLj01QEUNQPsMQXW6ji/DBzJ+y54Hm7MBQRrgx9jnDNii+AeQ/VgRZlRwr5TA5cEwCmEYwBZhJT3O0aE8kS7OmMGWMzzGAXJkxFg2ZiBqfYfZEoDZnngt4jlebFOgpkV9Io3+VR32j5ngznb4FhsbHQbOfyyzAyPJcKu6SoXbGAnzsZiDLeUIxRM5kwc7xQsFh3pE2KTxpJpBOs6yoPZbh8RjnobsQoz+5FDWn+KrowfVGBjGRFkBpdHLIrwccPwb/zKlojZ7MqVrYr29rA8h/pBX5mpMYSh1yhCUbUpl3tKdCHXwGbE+zfakxPjcWTEodMNY6oz0h8Zm0+b7RvHmOOtVpGZRXE1VV0PA75hUvAKBuWbHeDZzCXfOPi0j4D4gmyeUQfN9EKr6vKCK66lPwWoP00GhsdcrUE4VSAn1PegYti8pw7MOIQxPEDCGLmMpw+B4qTRpoV8QsolZp2JE8hlsiM82OSBjT8Lwz/8xZ05QU6XUCYcUJc2NibwD5D1uDrCuJ6bc87Gcwq6wYhsJOFaGoTZiIEJ9BvsR1vlZzLsaIT+lWl851FPQXbBleAged9DUvpcXSn/8p3RMxPqrecylKvHeUqXc3NBYaYh+SYaZJ1qaNGaDcGY7NlgiiDTGwr0ziKCuRI0LlB9KR4C5Sa2RJRxA7gsX3JgbNy8B51CeNGYk7GDOGNO0nTfspTMSKTBAiDFULcv+2HZobQP4joqUIe9W4DwFbe4Y6Yy3wmSygSQT4mT0jxTaWn61RY71ARTBuYqRnNq3mIynyqUDF2u8rXtX3l2EvRJe90RTvONvwESfFC6/hEkieqpV396vU0LaN8/OEgpu6Jk83azlbnoM0KnMEfQKwD+Xx4q0tZbhCNDcEdZ3QMcCwptUMMI1tU6TXlklGqk1mI48ZyO/5cOizBj74UW1rA8i/WxSplmYPg7E0WIT9TBG0ffhP2x7GPRP3SGkP2B5WWDRmu5kxgx1phWbIXYx9cFd1rXhvSrkGDg/nYV9kwdxMq08Ebe8N0/mYoMWq4O7C0kHLKLcqkPcMG6F0h1WMvkpXuzZ15s+WHNIAZ4jhSjlSawWLxqIG2eYeiX00aJABHEuDLsNKoyaAMaLICp5mu2Q22dtxIgsNkdVJZwPIDSD/QWHSgDSkFNEfuINxT7MdaDskq6M6e7JQDYNPvWNKMzAad4TtQOwa3xqoNMT0JWB8NI3mWp2yalpWa9o7sbM1jHkZ9b4kqvGF2gdPJsd7kKzvuc5F0os1RklcC1cb5mGlES5fpbFTHW87NQ6zEcl3yB4ptWOS5xj1gaLOGJeJqKM+2CG8tUcE72AE609O7THSjsbjmIYj5Idea4PaAHIDyH/ICBI2wHahqMOSInMPS/saHbLOMtZo0orARAx+72gFOIsoBYAAV+OeKEIUD4Kh1sDxFqjpNNqcQ0498jwXwYz3RYf31BxvDoavxKsNEM/rlqTmURmvwGjFilWAF3YNZtpigNMchRYBIIMwyriDa4JppDBA5SdUZlgxgRyg8MsGkOKnxhJRhpd28HkSFD8lDQOYMBWieP06pPVG2rY2gPwLAZID0xApdNrDsGcKYIyOtdWZxT0shWdJ4pw+G4eWRofwRJ193MGwK+A43AuKvxRN9pqPq/Pj/PMaOuSvF9F4DnoXn/I0Cu4iTJKhCVlR1LumjSMUfur8pDSfRBbVAhvoGgAfBA7wAnQqP6kBYgrwU4rvWAlCApliOl2p/NUymEQrKrwGJpMmyiep6vVK2PrYG0D+dWDYFeQ1p4+WjCMtjUgWF9oA4xjgZ9XgaYQVsCMHoPwkRgL19qHwqseiCj4ATOCJOu8jlcNTJsw15syqWvgVHvYlZfJTIy3cEQF+iRXz+G1nJdhe7d0Qw9+Nb118bNgJ1KYaPWJm13hRK2/lhyInTiQYE91NNKNkCoBLpS5DiEbQQFLu1kqJhEVxWzMwtt9BDoNp+jT/OPjSqGxLsjeA/ItCxWkAfIwJm927h0iumTGlAWkYkAL0aBxBG2EcCyAmsl5HEUrFDiw83SpQgHJbjHiMxa41PRoU6FKkeEuxZxVBrmznZdsE3hzVeSCVvicNP7mdVx4X5ly87o1TGzRFeYRC4WHrZHCcMQ95irphY2nyGFLkbOBgIK2oYaQicGyAjMYKoFYiyfgJDfU+BVwHGBOGXfJ0mEArehobOG4A+ffAQi41Wi0BBziOuwQfDGkqFLUJhHGHZDukQhlkAb6oHwXgFQHccmmWoQCLKG67rT52BLhjPP7XyLVfzrhOGjN3p7+88Tt+mT5+Czx5x99r7oY1NWi+NCuCwU1jt+hEOtbl1RbMzBBPA0vKzAJ6YJrBjgXwPLaLA6VB7kOAoyLLqD+BYU7R02jD7pjH4VgkNFone1sbQP6xZS9eEK3uliGMPlnECmQkiB1SKkK3KOM5AXyo3OngU4/dyM6+AiKJuRaJrvZYQZNXmGPSdSy8Gj1ekDKTfg18O8vXuQTY6UX20mP1g+8z8YfNxPA1K9sSPXZVxw4IOxvbM+/sApSmog1ZIshqs7MAyJgcJ5hgSJJGOo6CD6XGOBY7hgG0AEFogDCQHKTSqFFr0ARARkaRICUKw8jBIHn0kTaA3ADyF6PC0+t34UBT6FeR+AM0kLQ0YEi7ovK9Y9QNd4sLuSOxn9PnqsbD9jgQI8wWAEnw60o9a3XDi8PfXALm4ml0OQLVSV5+Zs71B5y57gXpC1Yt7L+8CyB5cUeRgn0IzN40laZoRPBYeuoiAjQbP5qIaNEHuI2UDjAkRmNmiGgSg4SBYhJLFGnZICa6EsTQxJ3rltaiUiE5xAFmyDmMa7VpQm4A+WCK/Idkc4rOJeUNA0amMcAxOtBRY8S+ixR3MIvtZmNLrc0GgANrysSqB9jqlQPjerr5JrsDXGu3XRwKPwFFnYeDelS+rOLkNQXwRdj+i8C49hx1XOfK61sC64qxWKs9ls0dSBKaQdDURYroxn2slzwiYEmUQSpjOrWu6AmA0d0AJXoy0Q1uBriF900YLcDNBI/naPVLkEZzIWE6HsGNib0B5B8YFX6lIkcBYwYSaGZWO9Q90M21ImAgNLRu9HzbSNYuNUMgFYxmjWEHcQcrvtbXIqCLDZcLmo6n97klcnsRhGrNYaWux2vK4Q8yYK7dfmV+kvfc/+SxrWnTK483OmEAYz0zUjOaVnzkqUZmD7gSaR6gFl3qBJcBiapGN9HxNkZDx1TVMQxW5KJsblGrXI+fTAkKVd+tgb0BZPcG/s7voA5Q2OQYLaV5DKcAnjCC6tPkWdKs2ioUx0IBT5T2MDyXbVXt5xnEc6k73QRD3QOO9wLrCtjpUpf3KjCuRYg36H+PjOzcy0rUHRRGnYIkTmwjsBCl6BBxlkqrVUyd2EzMNxlESgrZHclAFRsuWknkQ1ySMe6D2sQJDmupenO5LVL0xGFIPljxscWfGyVsALmta2l2MgJmI20oplpVrYcBbGG+9QyEYo9gz6xKPuQLwBfAXsr9Q9ACKD419sx4vuER0NaltHuOYG7XKq+A5EMp96Wi4C997idAJ6yn7F9J17lSp23beSKHdgKcpuUMJbCsSc7fA+GWSJnkBi+D34YEZyJkmoEwle//jDnTmjRAbeiUcR8bOOwM8jAP29YGkH8JPgoY05CQdk+0IaTLtJAvewaKbmOA5p5W1Xj4VMy1omFjnJXBg01T2DYcFuhSDzZeBrbFMf4IFXAVYR8tcXwBCPkFIHs0erw3vV7ch3NTB7boSuuEU77obosnNcyz8wVb53nuQg8dGI5lznEGR2ko87ED5P32erFGPwQGmiVNPgnaypAbQP5lywDbFwHbJ0j7rimzbyl1a9hUr+syMA6OIV6BodALB7BrzLDOx50cuZcGtE/51l8uHOhO1HxQoeLB2uHN7V9t6twKaO00NT4X0uBC/af8Ts5Ne52re/cKPyUljrEdMIGNUhiRYwVQ1rlJWLGGteiEy0p3qBhzK81VH4cEunubpNrWBpB/fs2x1sRn/2VDSkEFlAojJlgysZPTQCaalaYNE2gh+wwayaCRkWUouLgvRWXKVg9jPhjp3dJxvJom8wFQvXHbvdasX603XhCiWE3L7wFldrYUXAHW03lNzEDZmuF9CHmqOVlmuCkyOtp1XKcMjKr8XHzdbShTi9NhdCPLrJkXnrhhom/1xw0g/xQoLPtVB4ZsvvJRfspAolk545ezeJjKtR29zqhJhBnLfYNeRrGMZ3B+DIJjrQKY/Bpj5o8f7tAV7NXt9NpOo7A/MJ0mb9+NvBtYr95+OrzOlQ+9NHfOt+NUBINoTyMJjIFa95i3JCGSgYrtxCyYAe5xCoV1NWUS8jKWK8BlFGgubVXIDSB/JSyctbhXgFAUvOxh6lhoMXRBErQQFKgRISsoVtCLCFFIhWdbo8WhCBeMUTdSAi0Vb5lyPz02p3Ft0Plsu9aBULeB8XrN8YKT4iPp8D3p9DVg5BfHh8g7ouprn/MMknM0WbnoPI9mibC89Fbu5Dw42g2kspyxFyk1SroNwj24CiqD6xIJYcj4k60zNoD8326KjCUYegHDyhI79XCqwNiuG81gg1TmG9l3EzH0Iz8QhmL6XpV5BoEDIzVPqCl4KbwTLFqAN470K6Hi8qYbPtdn2++tN57pg11Opx+NGB+sL/KR57p3jrSf1TxLtbl8rtNJgf57WB/SVzG/nOV2GkUHlPt8ShYgiY3DqFhF7LFPe+IOwxA6P0cD8nFLszeAvJYir0eFqiUbroBff8x3B5PIJmYwZJjYgGyUOHKuPRZJMo6k1WHwrkPJgf2wONBJoDVhitvptc4P8NU5yNUBcF4AO8xNilMwuUgb5IoSz+m2B6M6PQBsuNF3+cqUEU8+5C+m6GcBec+o0QnALd/n7DfLk+InSRpNDkIl3fYyLG5R1yYH2n4H7HdhR7utDSAjQ12PCtu5+VJUuJDbZwFPzqDYgSMgmhfmy6z8XJkzvTx+6jrTPasmGjhWbouIMYEYCKujGnb3kXcPg+ZWqtiGn3GiIM4rEavujE7u6SzrHHAeALaH8O+ujjgvn4luTBEsyjenJ63ZZpYldSak+GmVHWOxzRHy5aDRRLkZVIbHi2aajISMoUOJMmAOg5HcDxS5dbE3gIx1HJcp8mlxmheiQnRAqH57N6ZBAKmoSJvLQvCspdKJxjTLWC3GdEpUiQSL+iNtTqeL1NUQ4MiQ14/n5FVQPEv3tLR17g/GPqpbOYjPUsirh5TuRCWtp6fXRn7uif5Wosi7qYRfHiBf4VaudbYXpmOYudv9/qTF37NyojR6EG+KmTUZ0kAsjyNoRnoR5ymm1yajF+YNW/sw6pIpmaaJG9dwA8h5t+VJinwSlaxFhOJJSFBEpM0FK/oDptn8aKKQHBYAaKns5DHH2BTBm0J4iRyt/R56joWvzSJYYZzT686p8CwK5LVj90KD4ZKd66Vo8lFfmVtAdJVeyMfCwXsbMw9NJz0CIPfRLBdNlr5hc16LtK4OWZy2C32QNBiIXFzDWFNoI1yRSjsMFg1Bqj4WRiKBljrtoW1tANkD5bWocN7RKcA8GomnQMgTycIWLAikONCsT5lDXKLWGFvKXRR4qPn2XsgCqhYLJaLkWNRZ/rjT/urICW/PP+pe2s0VsLiHT303mF3zkuHjdcIvf8KXBukxa1+e1mD7z9JOuYow0AymBIGwAoSOUPThDHwwhTQakYSSkgtGIUGWGIrk/aiZxQGwoeQGkADyMNxMkXsgbNRZ4YxxIK6DTXIlkDtBA6WhjeXM4DgCGJt0mTQuQJClo92zZsCui91Jml0DKd4ZMX7l2OdKREqe1wm/0rj4EhXxzsfoDpDmpajwkVoq7wRPXa5Hxv5pkKWoM2IeFu91Ho0JXsbGWHxoiKo8Ps/gAjXKjG2EGcyU86Z5tgFkLLdo+FEFDNEBoS5HhdeODXV1S/OJgAXIteaMauQ3G2+BdXsFvXkUqHa40XFv5/pjHBiXAO6s06uLL5h9HXIBdDitgy2FFewKcNyTxv5BPOqz90RexMA/Bowvdfj5hcc/9Ak08kDQCWmwwqxRFwkGOLL9nEE0tVTd0bTtY04SxLSN+WwAWdbT8Twq7Hdd8fZxeP1go4E2AJYgjFKbf0yd5mPqQHFu0MxjPgvQnB/TUnTe9QJ1JeO7dbgu5pD14AdxAzOkP/6AvJZeX3xdj6TVp/Oc94Kj7svAL/9ZFuZURH8qHOsZFFmHvsvJrvpWnEvhVtXezuZVBhzp3AByA8go7+jBqPCBIEcAYSmBqZgkoShCl2gxmi61ez2Uxk0vPNHVK2v90cYSPVbHwvRYoKIl6i/k9blus3Dtg5BWZiVX/rBuRGePguRaNLvaqeb1RtXNCPfRbvUDe8c1kY+T5vb8aTbB21rADAa2Y/4ioxvOLpVe/7wXX3yVIaLlTTN3A8gvR4VXoKAOkTvisiMY9aLqIseRxgp01dq1gKLNzZdeJTy8sUvE2SLHoUuV+Hj6ttJ51pXHPDIzeZaW4yaQPYota4rjIq+PJf5qTfOPqH8uPi9bfkDsPzeenzSk5dxEhIg1mmQbEq9CAIboXMeJKWYd1aXntTZZapJSMYkQaLOq77b+2QHyUTCsd6+kLqEMl+O81O6CJXBUrTHS0gx0HNFqiJyFTsnOxlPWakPzdjuPDPRARrfWkOHSJfAMYO7kG6/1Gppg7B0D6GvVQi6UkC5yp+8Gx2sR62ogrMeemFfS7TUOum7UPU6mCBimg31qXT4dUqYY41EXPc71x46euGDicI5LCZqBoHKeNnTbAPL+qFAnoLh22NTj2CTICIrE1DyNizhplSsDQJiExFm6qqn7FJv5viBfo0VbKPl8hRN3j0DFPbKNq7YC10B2BZTWbBZOwfFugDulOGKdHdlTIi+Bl+6oT34Jmb9Yt7l8X56dmYoMRciZuYAOMpuquc+WOL04iMXsubtv6LYB5BIHBCBzmSpfih+s7VMsx7Ha9O5hHLH7PMIMJlZA88Q4PacuEizyZEyFDdFGNQTYkqfdUqOTbXdENLoNkjc72NeA9e763BdrjJcaLpcYPmtR4d0iu3du/MPTdD12xz7gLkXI9rpcVRCX89kr2DSEF7k5XiiJOpMl2++f8wZvG0DiwPuiwqYt1YFhm4sIBYD2oB/jC/afR+Pk0b1m6DRKlbFQ5xlhbGl3qz+WGqSlpbshRzCUxFl52v1efrXWt5L7drOLPB3z+VLEswaouCNqvAaMV8DxV0aD+IvRIHm5pnpt21dwUme/Fi72EiVrs3px0psp3IRbFH1IwJqlrOYsoLowpqZfsa0NIJG7E2kfFTatUVRAzFHJlhpAzjvtfDCYVIWaDY4EFukyVNWdWaWH4A7V55rdIDg4kph9sVGvY8fZ7XBYrQmsAcDpAX1Bv1H3pOE9uko3gOYXOtO883638OxeaiAfiHLXOvlfiW4vPXYxd7oMgVnGcjo6Q1ghigyd8bIne7FwDXL36Q67/GvdmE8VDMKWYm8ACQCJpylyiQyltl/VfUtLg86L2LH/PNBypQpyrBauNNsBCN8Zsxn8gF340mBPYA8rBlzEvt2/XcceAay8O51ezEKuN1x0K6I5HeW5ysZZYc18RYX7RmPmLNW8P2e+oXN2B1heGsDnF+rBa6UA6kQhafESy47JdTk6dc2Y5rsQE0FyoRfJbT/bexDhkvKWYW8ACWDHY4sKy+n0fjA8jagAOA1Pb5+jkPYweyqgtouLdqAVUNSumHPtYWHa1UWHBTzbTGQqqfUsiXb+p3EzT66jPLpR/bo1C4k7WTtfSalv1R1X73sniN2FXbz/5hO5u19aC7C7cPJZloytT3xQxyCFogXZCeqqbicj2jx5N2xpE2snG1sXewPISIn95NDnHQWibla3tmbUthHwofKrq64j4/cdemZMa7hYKIWH7Fk1dK/d6jR3wUHQbrdpz7rJt7UJL+LqqljFhbGgPxg077ZD+EPAsRmAX3+AVj7TSxMBX0fL5d9YNsy4SAeqsk+Z/xG7HZlGmLMIWbCNCVVVn8rL6XdgiUyJrfa0rX9ugLwnKqyKugsgXMPMODCsqPDOIraVI1tNucjEBnizswhqx7tuJQkjgyXGfrznygtYi8wYrnUV1E4aCGemh6fNnUuKPmu/X/0cb0WCvI1n/IWvc7XWqMdS6z9zXfp8z8evoj8YquBVAr9IniHEcOmEifQQk2qRI0m6OH/tZKMq1hkgS3bUBpAbQK4dOeJ5VHjxroxR7sL+EoHkIkWr6Uox5uIcAVZV6AKYpBGsoz7N9rUOlbPnZkc0ao+hRnnRlRxxqi94r+nUQxHiHSn4nZj5kMTZ3f7W/PPB8F7q5EWlcb/6RkPbWTXUbj41JZCs8va92s/SETMAc75NRUKNSjAzsw0gN4AEil8WT/jJK5hZTszhT3MlvpEPQNsxh9nUvamGJ4KpU+cJebPmca2hVwwXMYRgbk3NT10L7ykJ4Ob4SK1irT7naqNGjxUF76xD8lfS1EugxDsB/HbH506Au6d+eSGj5ok82pmKSnUshAXf2sIopPqlCwZ4YV3V7QrFHyBhJiWksu/V/bPN6BJIiXMLfFv/zBGk22pUWCNC8Xqoo05SyzwTk1LImFnQC10JVpwIyQHSKGKg2PxoNDsczp1vFWEKYWw+NPPA+OMBcg9w0nWsWHMrvGrt+ovRxq1o6+8WzDyozMNTEMPFsaKeP64awbMpRMzbVofyT9TGVeTJWKiq3tLrsAaGJdDjpAwZScqQiklXCnJse5FF+kzsMpxC5trWPz1AeloqiF88dDh7setCWsmMZMIoFFuEohAuYmR0pkvDxsIywZpi+FjmHMcmacbF3GQ19Upf1hpcUwk/w6EiknVmWK91Tve90dZpFHTP4PZXx2UeCvluhXRrz3+RmnM9Ib7y++WXd6kmiSpO0UWDpc7YG7abAgtZOoq0SN2tRJ3ejQN1zSe5/lCB+g0g/0MHkHYeFTb/64f8i5ico2wItR40t8KRVbexeV1rDMmz4o+96GxjBsTwu65GX8MsWVP3ZrsJemcH1+nBfNKNXoBk+1M8twZYmkrcD9r3sGp+ZWD8y3NB9848Pj46JF0GHOmKZ40uRKuVPCNCQYid3dfqV7XouGmefGDYxrJeiRfnZUaoDEIKWZuazwaQAGRcgOJXFiWkyQdkjS2VXgjhdhcV/nWzcsWsCr6sVyY2znb5yXs7rTeYHbr1qD461B0NnBuva9EMwtd1H/jAjOKXc3R+3ZPrSpAprZ1QrnwYZ/Jz5xlAU7qdwbDTV5EroNJBeCGUFnkBOtpj58fEdUqkMnxDyA0gC0A+CIarx9Qhl0J4a7DM4MYGfkvAi/GfVFKg0rjp71drRqj374I3XbVhvr3tRm2xDZX/icfJWnPmq6K6X8mwLz7HtRT8yoe+ep7glRrnLbDvgHQ5dtPoL6IVcJMHJs5A18bIPdKOyLBNwYf1yBZK7LiY9fKA0G1tAPkYEK6AjaQoZwtUdqNZmVMMYCRP/ENYZcpi7ILhIpfa0DiUoBjtERkD5EAq3iI3lLmvHP2L8Z4HdB1PZ/CEO8ED66rdX60xfukxl17PtaBXD551eAEd/6D5yiage8auEYxOD8LgLGWG6heLMuRaxAHiu6dFbAkxvA1rfbkSyIwCo7W9rQ0gr4Ph6X4uzYopXUOYkBmQZEWZp3aohehYg0Mx6Jq71IV6qHAzLE0dVvrhrt2XqmwcnqdmvP6ia71SVw74K6r/NzFHVw78O2uHD2XFd4/x3F95uIbv94ejK9+Fvo6JF6PJWXNzKT61vNYjnpbbOz4tIYii0ZVLHRJFCy2I2FsMuQHkBXAsALgAwwXIsDPOJDD5oBCcGKHCsxYHUDGmEw2bHRoQYoxokWnuWvdpOVhqk0Nzp2slpu6o46zAcl/080gKvlK7/MU0+tJLeIhSeEkJ/I8Aopugtian/EAn/JGywZlljU7UfSpItp99XdEhOUOYJzTGQcHhkBykg/BIyymaMkSX3CHP0M2hjm3900SQfh4VLk++TWm5sGYsrrNofrvMjrl4zqgyYJoPMecmTKUZ2syWQSKZYDSYRb3RYqCcjVVTa5RXOrvU3Zh4KVLUtcaO/mDQ6UDhvDFzi5r4R7sfXgLGW2NMt8YGTk5e7GuJuuN0sVbWaFe8NVoIDyJpAT15Ab8KkswQPBo0AY4MSy8XrQBmbexQ8vi52XZtABm73NSFhyWLlYWoaBsaZ9fpLjtq7f2Zy5jdJBqNQ6EEhgCFWYBfAGKwaKzUG60waqqALjqmDdmeo/jXnKo3rId7l2qEPHEt/DNt4R8Yy7kYOf4ZPtlr970YMfL8hgVWfkWk4/og+fl31mcK3UmbnKNHwaFIjVnEywCbz/i19lhri8FOjG3mdQBIceYPnxBCFElY2tBtA0hAA5dRYZWw73ZslsEIkxfR3Dk1H4/ZPCPNEV9REDdLsOJIWMd2mnpPsX61JmjRHAvZ0xKtWTA8UFC748B9NG3mFzLIlVnGi6rgizHDP7E9cFfPhdcdHk8/mBrxrvgG19nHanFwxqY5+6iW85Y6He5fUnYCAJtu5On303X01LFkmoFXgceS6TSHQ0shZDEMG7ptAAnk3XBWj6Q7rIBgD4YrxwddiLTainyZMQFWALPUGclEa4yH1HnP9I6GBhYvGslmjZ8yyc47wFEXNuoLNcVrA8w3QeNPSodvFjEfuvH6+76HT306m7j4CHgGlGvguZpWN5nGc0AlyXK9eln3dq48uZw6Gp46YgZQxnhQsfqSYJTn6c/MMzaA/I+yzL2BYAXEi4d+BUvNdi4MSleCGZGSlf26SpOxjfbADLQibmZF4ac4fs3PVpV/ak5vV6zfrwDjg/7WX6kl6ko6eepw2PHVV7FngREX5NOuzUBeba58QXziUvR8IRXnH6L9+Gi9YAmG0upkeedSLM0/1f+eQTgc0bmWe9bkRz9s4LgBJDBMvgqEqNFjtzuKgFI0ZzwRzMJwFGXNuJ3hXMim5QgjaVX+DAajFVwttcnZxpWzrWvXwb5w1FxNlS+RrU9mGr0eSbrjWDxt2PDOKOtGtHaNYXPL+6XXS7yKhV+YublBtebf2dRqEXESKjaGcSEcKqZJUgE9eeEhZoV2Wq6/g20UPDMaOJqfR06XzLZJyA0g16LCCoala+1V79FWSnBGkyE1KalZt7E2WWIQPDKZ2qFOMzCWbjaaDuRyW7BoLqerp34li1rUyTykLoAkihL12X1XuqlnSHEqvou7vF5KRe48FD0zqlrDuC+6BT4KiLgs/vvXCjm0dnjpSiNDyCRdXoASZZyn3E5Et1qUR+OGFUgFg+hwGRyCi5JMGLYmzQaQsbsJSCFt5la71idgWDvWJSmJpo2DjgTHrBzulWddtqnxsZv4RPzUiFD8GcLQCyOBHVS8a6CxGHqlS+DYWXqeBHo9YPIc4NZEc9GJVKxg4GVOMK9ni8Kyr3B3VFnPUmvOgCcozF8MY3mlhoq/Nmq88AF5ix5Jh6uY0eCEl12iwlJX1GJESJWTXW5D7YoLDplxS683gIw1PdnZuRmO0qRpu9GZcTZJ45SHxpqpA+DCDqoApzDoUpEuqw6Gdai8SpyRO5jV7btuqJxtwucKW0+6lnrzel2yA7MFSN6Vyt9Rs1yJKolbKuG8An4XwPFXxn0Wf/NaevsPkvOwgOL8ZblqxNgAsESKrdZYLl6hsNYiG4hW+HRgA8gNIMuyTt+kgeGlslV/3TXAa8SHoA5WjUez6kg4CtzNWpDYlVnHIYCzsmwwRByLENlVEca90qOYfy8Ubd0ztHwFxNaz4a+B4yob8E7zrlVWyVdMsW4p5VyLcpdpfnzW1040f2cAVQXBGk0uBI57hk2fKFVQVJ8WqEalNS1nliH9uSIlG0D+BwLIw4V9fKV7qTIjScDsU4OEwrFuQrdBIZRi7AelPknFthiwTC0F78cupNLcOTHl6pBxrWcxzwI/AGjSdcuFtZrlnRxo4lFJssvAdFY6uPakq32Yex0KT3FVN17jX5thY71bXSPFHiAdkAvKi/ucAmywbkJ6xSUdPzd03ADyQgbaWS+0znWvE0GAWUxZqUmYVfMttmZNdZAraj5tdIctWLE2lF7+ryOPDYV5T6S0ihu6JFfzgHzZmar4bYxo9gFNE4G3Azud1DfuPTRPRojuxq4HS5ZcZcTcW9/kymvm+kjT/ZWLXtOxASJJV4seC2smrCyjBVc711oAqkhIEEhTONeEqt7GpNkAcg4+yNnW+oa5VN3FZXUEh8V/2KqBfMhH22JbBURidjhsQEhyHuSdx35mhmFpTlzPovs0esXLpAeUX6UbCqtU5dP65UWgXO1IzyW2i5YHa6B4ExzvFLa45Fe2qgauO2qla5kIV/je95zxzj6HCoTxzITgJbKMlGJu2BTAZFE4mzUi6/6nOssbFgyWaC/fsXGxN4AEAORhvTOpAmxVtb6Zc5FIx0N/pHGOJGcv64UWZBGdYGXNWFUUX3Cwa0pe+dxnB+Tj/RLhTyNDXO35PKD/eM94zb12rldT+A7R7xkf5Z0fwrXONtd8ePQ1YDx/iVzJCrrh8YrGoRYpNJvXer/Um71LKrNsAty3GuQGkCtgeGLepc6wqqMsIOUc9UMVIy0plfQ6LFzFkVzImI0hfMulCVf1p0Hrco/F9vVB58Lbhlz3HXwnXexbPlX31h5PRR74SO6LFVWha6LAN/723X+aVyLHa4B/h7/u2gd699mvKegu+dWz2+HyzlqJn7VA1tK1DkVy5UnyjI1luAFkiSCHhZxir+NiVcG+bScsHxOFQUxhzmWMBg05NqtXY2ynjZ1d6wD2ornVpIvVqKuyZ9KXHP1upmZ/wD5/BShVHOlPr68Cxa2Gyj0WOLwRYd4Lwv0A/NX0erVDhou2C3fVQ0+sFO4CyVY+7LQgq9CtuvGdnlqIbvynXTKADMil+AnPDmaBxy3F3gByXuatldzA8HTyo2mgOA2OAMcqU2YYGghajR41G3KxRpJVvWc25wqFn6oPaamfRr7lVKC7rBF+ATR1AZUu1etuiWjw2vNfaQRdA527mjT3AKge17ZY6+4/7AqxpkPKi1+I1M0uFoADCl2QhU4YIz25aD2WrjVDIDfmHHOhFQqkk3A4Y5Yynn9bG0DGGl0LMKwsOy/FbHG+mDuHrEEqijxmiUXDMWiEmPUeOdcbuRDJpVWNSLYOeDP3Cmner568V0HyJDzWSqSyBpT3AOwvWRXgPGy/9MRnKTrP8/9HP7Rbc673ft6/XN956ENXAFvpYFfuC+BBNSwjO0AuXe4MZ24CFV7AUl0nXLEKrDozvXIUtrUBJICiNlophuyzHi2yGicBVxOZYDRkAtwC9NhGdyoQVlfCyr+e5x+LU6FCO7JSEzmrq50yZVaZMxfrdHfWLO+OLrl+261ZSF5Lp7+wbS3l5bUX9PUD/SKD5lpK/+hJozfbuvn9UXFqK5FhAFzhxhRlcK/pNWfjrn4+cp4pnS0aamqefaXTvq1/aoCcxhUwRG3YpKYs7pbw/O9vJkcqQ91prh0yNdtWIYGyMjgeArhAgntEmVbuAyWhCO2q528vpHqv49rdncYb4HnLoEuXcYf4RRvWR2urWukc64Fojn/Sa730XGs1kdNm0lod9MJ3q8aG6QAOHVGQlYKoZYtG1air/ITUWjas/pwSubVnNoA83elood5DK9dt7mq3QmVEj8xuIge4AhSNEQUCBlNv1Tor/Aizko8asNaa5BD1TMRjtHKQ3Eu/u1cX8lqAtsrHvvYUus2e+fIXc6mm6RdA8o/A5Dv9cPilJ7+vPnHxxNc1XNTnNn2jpt5NfnZ78bDpeKnqTbw8IeeKrAReN3zbAPK4f17OPCJGeSw7UnaknJGmHDHl5ElQbbQEGNbmTHSyB6KCXlwEVMAs9ymKPlG/HNs8pJgekoshz4Vp7wHD01T8zwgX/ki8PIu0LoS1d81T/kGvlV8BxItpwFKeTteUiWs6XJ5IRf9xaQMroNYdUW+fa44sgOheFYEESSSzAGXiLo3mbf0TRZBpygGIU0bKcd2yN53IMh9JuEZZkSkjB0ZKPDQPmRi+XUaJqBJo9fZmuVAFKazjZl8cX1mrP9JOJc/0ZcDTFx94V/T4q0fbaf2SvAGOXwPGu2qOvFAGeMhojJdnO9ttJyZfVTGcFOSzOk/cEh1rMFwN4wWFhSuQQTojN3e4qud1GfOBE8hyd/Pso4JUswHkBpAAgO//9XfQQ0GqORcWwdxc0m2RGPKUMJWxHfWeMq12WFJpW6TXxblw3lYEdTtzruZbczP6wGXxmzYhYl1StSaa+1X5skejPq78fknz4dG5x7UH6aSW92DOzWszVbzzS3gkqlwTO16tvS46hl2HujZelAlkkRnS1EZ9oAyyiudOAiZIE8AM+YT4/SjpCPcJ0zTR5WmDxg0gT5enqEF6cTaUnbFqOExT1BFDFDeRNszq4JzBLrrSQwd6qabfkUJzjjgDHOuw+Fm4yFu83e7IimboykjPpZy1YUh5vPqaol2sNfaRJq8XJ5cv/StjRLhQsjtr62NF8fw+pfObUeMtcPy1guf8Xio/+vR9zL8L0gQhLsAE6AjgWMEO0BHSJ6BPCAdIB7gfJB0W24RPAAep3N/9U56Pmw7kBpBn6/N5V8Z6Ouvp6iBXJiaSaMhIcnXWrR0DRphTbHbWC5I1a9e5822ts02VIfGiAHTxOOSN/PESV/tC6NYrj2vpvXzRAqcDR+JP8q2+67n460/+iGXtrzZ/bllE9Ldbdz+enJ0CAD/ni39C+IR0EPAZQKcDgOMMhDoIOEA6QjjGNi9A6cfYrsmPH0cKXns3y5Lmtv7pI0ieNv1avhoTteMEQ5ZBSOGuXmYbGyMmhCoC+MxiqpJW9Mti7CfMvGqqXeXMbP6dC/y6HwC0PPZ0MvG+Kvx4uwN+Sh3s7yNqFThXwXM1urtEmH5Ad5G8DwH5YFr95b955+23yhur340yoINchwKUBziOkI4Cjg0AI4KcCosmrkeEeQQ0xQUZqCm3H5F9gmtyuf6hdC83gPxHya+nJdB0sSSL6i2nCXKVKI8sAtPs6ooGyESLMdvCnAn716Z3ZiFs1plzwdgcEBe7Ja8Firfz1DVRh0td7K6Lekmu7OxPLWjTN1Ju3vGaz6hM/ZnrEhCtjUDdoP3xVs1xBVx5AzBugaIe9ONZ/biUpVJDjPQ6n4BhLtzqqQDjcVl3RI0gSyqOCcIBjklTPiq7B3izjKJzyRHf1j93BBm7fyphXS/qbaBPpI6mascKVS51ifysPICh6GOFXNhRChu1cGbYVMphUBOvna7/iP1UuANwq9/TnxlFXJqvXKM96vbnwQs58BprZzERsMK86V8L+cd+Cfc2xtbv5129sUSBOqIBZr1eAbBFluU6Jni77xTCFIhmDe0IV+Y06E8tjWwA+R/5DewaLC4Py6IFQBBmiUkGs6glwlIBvQRjpNxxfYDZwFJr7JoxVawilH5Y1H/QzL7srvTwLBOdN8z9in7kh3MkpjVgPBe3OB8Uv8D+uLc+95UaHq+lsHdIgvfOiLiXOscLAPzFyLHVFXnh9fFyTXK5vUSGNRrUsVi7TiLL9ZY+RxcbFp1qVb9sOMQM2kQoKyLO2gnPs5Yf54SHG0JuAAmUjq1m/v6CgABQMMgGmIZIk+sMYxhxhVgFxhn0GLeBxaWQI2A7Ll0NRwgjDDuBA8+Q5AaqrPKku0ZNa750Q8jU8qkXIz9d46YdLbqetp4Fg3/Pxs2tz+ce1L6Rkv8KdfHa/fq51btAUiWCRIztCA4pg3AKLiKAkJyNtyr4sSn/eB0sb4o9ksuzABN3dr1EvK1/4hRbhw4QV+gYk3bhXsgKbvsW+Tl2gu9oFo6FYe+6EzAGS6YAIYsd7GzutWuD5JLNDgR6DGS0fgTyNMjsGzYtEjw14ekroBfGxq+U+/5UyuEquGkh6r4uxssruHnFW/tekYq7rWk4s/vOhgp4rbutEiF2M5DwOuuodjZvdciq8uMtNZcyXBOEEjnWGiYmuB/L/TZg3ADynmii832lwImGSaEEHkA3NPdCFf40rQJgGfvRQHIsjJo2ChSUQwxFQbyojyOtkwt5O5o5HwX5wwqUuizLvdJE4e0I8tLg+MMv9RI3vYt8r7m96s/1uOYVcA2QrDXOcu/bMk25gV/Vd4wGTC51xwx5BceoOTqOqg0cV03LJ6l0wFVS8ZyPcB1Xm39bdr0B5LwzOLBmMwAQ8koJ7PjVTSh3gCGxCU8ggRqIVBV+hqb4Y8WPJlg0s1iunU5kn5hA8cGj80QBTCHPdn6nvra2oMmpzULqFBG1gjx6QBrrHpB8uD/EyyDOL6TYpzXCO6LHBeDeaMbEzY+MXilDiFGeiPxqB/ooV5lrxBHAAW1YHLEtRoLiAh2IyprBAfADPB9KpLkB4gaQ144xLVTsZ784gblZI6SZBYNZARyc5x2jITOL387zjbNj4Rny8TKN95Fh5j6i7A5A1oSbV+TOzM6HxtdA5M+wbBBuj0BeVde5p9N9y5EQWHSuLzFneB4RXkHBGyB5T8hfZhmhI6WD6vA3yhwkcADL8HcbDkdcJw4ga9c7AJM8wOwT1AHOg1zThowbQN4+Zo9+pmxTsILR3yMQBl02k51bRmkhhCJBFBT+muxTvarAZ12bmTBoFsa9O4q5lXp2L77ZxBKPmRt2jBpdYuA8gOSr7JtLwPhQLru2gV3aryvnlNPz1Bci9lvfw33FyUv1R5V5x0MBwwnEAWAZCMeR0FHAAeBnA8w6FK4aXepQR4BU0233I7IfQ/FnWxtA3lrela8SIYtJR5tITAC85pHNpIlN1eLU0zqGOsKooabS89xk6lR76vULGKjHQfJXapEXvLLnuchr4eMXClhflR27aMTFk4hSq0pIt/8Q74oeH4rsV0C0Rp/qJwn6OmTImB1r9Cfw2FEDD5COoo7I/Sxk/BS81h5z2+YFGKUM9ymix21tAHnHmp5tNtEsO6iMGKaWFs8WCbX2uFDgYQKtn28cFiZdYacwLoBxlkI7H3r80qjJuhdNSP2t1yhX5yEbuGAxF4k+ab/kRHiFw/046OHBjrG+9rn17+dGzZH8ol/3F3fLuaGiaKaoRoCaShMmQBMdtXBmzFQ+dtQdm6iFPkE/gnRcqoX+qUKhG0D+x0uxGxIYNBAaEmzK4O/HBC+qPNXHGp3mo5V65Oxa2AlVWCqPi+ZObdY0cV2kk+r+18HxztrX5XR6pTOs00YOznnZJy94bcxHXS0U96bY10SLeC+6PoDEQjfMfQFD/whwPPluVuuQsTHP7BgdJU2AH1rq3FJobw2bkl4fCnDOQhVz5/oQXG4/UDqSRR1yA8MNIG9m2P/yBCUL9xgLkLTfD8Z8nO0QwKrzWGTNMIamY4sYUxHQ7VkzKTyx63gPYjyIHGkc54mTC/WwK/XBy+BymiqfRJFroSR5/lwL1sytdvP8vIKfgKQW/7OPNM+e9nQuU3cOfK+NIC0fG091Wk/l8iRB/lpq/YVT8wUgnapkWSjx1NpidKhVa40hThE1ygqkrgPcPwF8tqaNynX3A7IfJc/96OO2NoC8DpAvI+gCJgc/DrBDRvr0iBrnwe5xjiKDNUOWuciwTRhZwK88prJoBiJuh3EE4iLQVjUW7vE86UGSF0DS9QdFl10auqAiXjrQuYDE9UHNa/7aK3OMp0ZXZySfJjF0Ho3dq6t5Lzj+Skp96TtYbnLUMZ1FswXdxQ9wfZbmzOcCBOvYT02tu2gSWdGcsQ20NoB85A38D/8OfE7g0YHsIMDENEppBH0IlkxLjWcGTFAKi/0C+tpkNzepoUu1E8LzOqlxr3/BEfCa9estwYc1ZF1THL9rtId3bzsFVi6iyRUAxBVAuUXJPgPHr0WIJP+4euMaSHIRaJdutA4xx1ilygIcBR0A1qixgWE3+jMB7H+v85OTTlkz29oA8q599t8/owZFADsLWbNPTyWtTmLpTLPYLKjVHYuTdtlmtZEDxM9WvCpajyQIqgqlrUUmq5HOSs3vhjXoldLXjed/JOK8ZC7FO4qHfv46pMv12EdOII/WKq/InvGesscXQXJm1rTPzkMBPOqMRei21h472bKm6Vhpg5U6WH7XVOwWqlnXBOUMuD801L+tDSABQE+AzOdR7p8Oz8aUShIb1AeDe5U2qxaILKDImW1HFo/rGVADNGtUWQaJuFJ7vDcauzD0rXPtxjMR3a8cCSuzj6dNFy3437r776h52dt5in32UxfqpZfqkXH/q6XMS4ybZkXxdxukVtAFC9AFIHq7XoEweNmOxqmO29Ru96roE11s6AgqhsWJfNd5jjGYts2QbwAZ+8fYMWlcUFbxufZwJwwxiWK0pdqdHgQNFBOoAeIQu5UGVK8a1e42xy7FTgLTZQ1WXQfFh87+OteluJU2L+p7p1zhy2wc/uLU90WhC30xijw7d+gKB/sXgHDNTuEyr3plu/qQulAJe6FbNb8ZoSmGH4DwlEFr4hQrhZqeS5+oPjSeP5w6inTzrnRSVZ9Wrm9R5AaQ8/rwaGqENgpxQKKQJCay2LqiORmGKZercK2VIFaLhSFAUXVGcqYbNuXxe3yveSMdPh2KPk2/1WWwhQ/Dk71+ofBz5WiQ7gYs3YVmOolBr8mN3UiDr4HdWtR5+r7Iy+aH1/72XUo/V0zTVssXytVgC+EvcwDwgeo1IxzCg8Y/IXwUIIzbomP9WWqTnw08VYCSJQW3IhRuOPc105ZebwB5aR1yJxYKs1DlMULWjLbAct2smGwt2DOFk113NyupuZFWZMlbQbI89pLU1o3h6F4cQpcOyEK36+mGF0HukqXCrwDjtZok78K3i0D9R5pprX3+Z6rjayDbvS/eqAPfx1/PDfDAg1TNuEqK3CJBHdq2efwnhCeqkddML2zNHicOcq/8rg0MN4B88PjYpWIZQ+h9osGMZgGG8bNAYbFTICqNkFCxU5hBswJlZd70kaQBNJWk8r6o6BQwa4SkyzVJab2DrTVbgxtH8AUK4sWIUWsAchkbr2pIfgkAeWWKp4++2U6Kp+BIu3Oy4FID55pa+Mn3QFKdKs8B0JHAUdAB1AFZnxA+BR3n7nR1KVRv2rWgHAa1sNYfuek9/oXrP/5U1VCGxAkYzSwlo6UARzPCaDQbWP1larOFtNJdKOztav2qjk0j621g1SQreG6itboHC1e72Fcz87mBXpvo9USwvD8Xdal7S6C3DbqW7pAzcF95Dt4Z6Z3dd4XqeGYbcAKOa899z+zjLTsCPiRZ52iug40Rc+y8rzu2jFehimmejSxdbyH418BRxdpVjOfiowXbbW0R5GJ/noeqabPBVqMNkhiaf3UFvgZ6TGHAhRkIK0ebSoD14hQ2d7BPIhDeAkDdTotuNGIemty50f2+Wm/kWjSJs7opT8PLR3yyeKUksSpSwfO/swJyXxPTvTUuheVY1vw3pBCQ6CPCT6mly58I+uAnpA84Ptp24UPuH4DeIb1DeoPwJukNQFyID6hEj18hCmxrA8ioALGzn0HiYkRH0XWOIydBMJhSeFyjDkMYYSGHZquqDXNnhAUNLx6kl6hzuA2ci6jt/HZdtH29kAKe3E/35GcPNdv78Z5H6oQrH8ZVcsyJ7uMjij28hwaq2/jZK4mH7miNHN8AvTdQA94hvEF8A/QzruMNqMCnN7h+SqiP+QnpHe5v3e8/RXwQyDorpWyR5AaQj9YISmWQgvBujECvHA0x1xguIE3PkUXh8VTNwcpQXwPC0sohTw4VnnVZT6lz4mMAtKo5oJUMfsUTu0/2TgFWt+qND65+hKgYpXE1Pb6vJPv1tOGOv8c7OfLkzVrjSUQvAJOkn5AC9GoECL0HYOoNKj/h76iA6HiD9EZ43Dc62u+IjvcH5B8wfbqUU+Xiw0+G0re11SAfeQOjKhmQ5iEkXgbCOxvMDjAZDtddPaoU+3oFBNVHVVXxohP5F64FOAqL5o5OwFEXwFG4Lr4rLS/9trPS6ok6kK6UXqWV7dc78NIDYIYV64SvAO09tcuQYQ4gdA9wE94h/4AUaTP8A23Mp4AfFD/JD8A+AH5A5feUPgB/B/wT7tOlevS2tgjy8eUejnNOIlUXhSJ+Ww2zSYJi8cCu7JhozvTjP8G/jtojS42y1SA5T6DxzrraJXaNVmh+K4igs872pchTqym67qp96jYo87bqeFNh77UddeGxp9niPaOKq5xqfp3SSN4HoEtBTi8jPB8N+CI6/ATxAcc7xAJ++oiIEnGRYpvwEdFliRxj+zukDxmOm074BpB/bGDlpY491Q61J8CMTAFqrOITTICZiBggD6HcuG5NC9KKFmTtdtuSt80rMv93AOMaUtyTOpEX0+cz6bPFoHlnvXBt8PkaWJ4qZuMEBNs7rf7cK7XFS1x1YkXYdqX2yAuAZleix2up9SXVJV07kckrmKkAGsh3ZH+H9CZXSaXL71FvfIN7pOLSm2qt0fM7XFFzdH9TAOYn2H1zveRdzWm2PHsDyC+VoyiCKr4zMbsowVjtEjiP+LAOhluNIrs5x4gqZ/fCGDInybToSNwyiLp48K0wYarp2ClbRmwaiE3af20o8XTOcUHW+QPSMq3YR3AJwOu89BsnkrvA8Zyb/VAK/QeehiH/gONN8gA+6CdcPyF/l1rNMYDP9Q55qUe2CPK9dK1r1PkO+bsT7xA+KeW6P9RznJ3tTBtAbjXIB1eMQBKQzeM6kpGaf2+K4epmHzmgDYNXhg0NZrUTXofF7aRpcxIlnhgeXioZ9ffXlRLTyuwfr3XNeULA7eqMKv/W6466UHO8o1Z5Mde/M429qWbUg7Ju1GN/5ex663cCgVWfMaaD2oSpqfFHuV4aMnqLWqMHILoq3fBdro8ATr3D/UM5vyvnGP2xEKKoPILZbk1BvpI2gNwiyK+tLECi8WhWhCZK5NdTCGuNsVi8miWYxb5IskWYNGNr5sQgOSsPe+m4ff3AWmRml0xl1hof511qnd7WR6OnNUi/0JTB/dTDPybgwhckzf6A+15K7R+pPfKstnssM43vgn8E6KmvKb61mqTrQ7W+qDL60yLKOvIzjwQ58GHHnH0/gtnL2y2ptGEx4hOd7K1Rs0WQD67jETge3NxlkKKK46TUUwRVj436e+FVlzaO5u0z5bAdTWnOJHkCPKdRzUno5Vh4dp8Blq7dXp9jJbo7BcdyEe7oFusLYHdl8FxnrXPdPzT+iHNhrz7eRfEXu9e3GDQ8id65EtGTxxIhvrX0GfgJcZ5vjJ8/44J3BjjW1PoNLPOR1BtYZiapN98PH++/PU88PfHxsn3atjaAfHj5JOggImdTdsKzQTlOtyqgCYQEmkpxL/LcLjJUE4xSO02HZqTQuSOdjbzocqqoS2i0NhZz/pyX/tQS8C50qa9R8dYuX4kQv3THP8or5gbS33p9vCsTmKK7vIz6ECM7AXQqg+JCzDRKb0LMOqJ2rt3fJY8aJfEO9w8of+YxrFv9SmQrbiC5AeSvLgrMgLwbfBQICXKVESBhYdAndpW5vpvKJh8ewCrd7d7HOw/CP6qetsJlJjqhonrAmS0jqEsK3PeMy/CLaHrJgkF64D12G8R1Tva15763AxzPmbtU+r3VGBstMK6rRYv1PmWER/goM5LvAD5IvoN8h/guw7uOPNokwQBPFlJ9Z4SDRRW6jfJudcgNIB88/gikKtJTJa5ttqhqyi+n6SB7qdEGtkvQYC/c3wHNnRHRvSC5Ej2uRn+4Ehl2f5S40e3lg+K2N0BmOSzOE2bQg3YJV+9zp9cOcbtBdPnG3KLEOs4DvSkaLrUL/dkaNXUAPABznnFUHSDHu0okiZzfAXwSzMxB2vKUYO49RyFeSWfcJt7xWW5rA8jVlRIwGpjI6MWUoXAyBnjO9qzS9tZZTlrDMHUeo7Ng7mkN8mIYdhKOXaoHXuxac0XI5o6pagIrhc3zlPwSM+ZLafalfP0atfHe/PfGbRfnOu8E49XoVCgqOx+l5hjgOA9zl3S6zkKiRZiS3gqn+h3yMgbkP+X5J6b8A+4/M/yD7i4jMAmUkAcDszdR5DrzSADe8c8JfVGMY1u/sv7jM2liONrU8WZa8wWsLJly16L1KAbdcEYiNiyZc1ScbLsgvnriQb0Y51lTAF/h+J5ZItTOJc5x/OIws84juq+C3yUguSD2wLvsBbsrtxTDcf4R34yebjVobj6FVMDxDfKYcQxw/AnXDyiEJgog/oTjB+Q/4rpmsQn3H5B+RNRZnsfw5gnHnM3TMUfGMzlMQh7SPMta369da9RsILkB5EMlSAKfYbsgiEwdvUJ9Os1uCLFFUiyD4pwLW7Bm3FVG0Ll2ILcDt5tR40oqiAuRyuUM+3Kt7rSxc0JF1L0K45dR6E5NxTVw1PVa5dnn9Wggecfj7vXCPt+US9r8E0K9/IDwBsdPAD8A/Kwd6xjlUWxz/JACTDE3c4qQhf+E4S27Dlac0VTyEjpgckxp2KqKW4r9J69cGjJQHRarTZYiXrEQngj71joCpBZ3WgNSluexahlLnnWJ761D3lX7uqPk14PnJaD8cubKXwxO+Pgb1Ree+uxl8/bzaeVktbzvVGqLP+D6HfAf8ADEAnw/5yjR30u6HR3sOv5TfWXcP8t85CfcP+D6nAY7tsriaTk7x0nFjcVlg2ejsmJfW8ZfwCLaAPI/9nIRZkXXkT0DhnX4u9QQa2ExBsIjJS/WC6hMmTmSZFP8Ifo5yLV5vYV4Lq+ne9eOet6BCuq0AQn0g3NdjaEDvI5tc0tNG7g843lhpEiLB1xRnXj0hHIt8taF8alrQeb6ZJBDOMCLaERT39FneMtoeUEMg9f7QPhQ3d5Ue0qNkniX/CDJK/CRpa5YXBobQCYD3We1+PJ2rXy6vDcD2dYGkGd7OEGYrMWJ5FxHjNpeiR/JYrOADi1mVKkPIM87D+R94HgWld0h338m6DC3vmdcK1YLaymqnUSAXMQb654r9wPIDaA/tV040zm7O0y+aE62EABeRozShWbQtRGfudMeNUfXrKgTUV+hA84NmK6TXSJHfy/36+qO+Sfcf8L9DdJPAB8yxSC4ca5AWBSWZQCn0skeEpDnTjZ7c7fynS8ph1sUuQHk/YkoNbkBTnXGmKzRYMz5GJeodaoBybBqqGk4ToHyesTXBZv95TrAnIg8cA3oeN6fuCcK/NrnONcReSMn/qXZzpPbSPyhmeNdTfLarcY74D+hqriD2ph5gwrQlYvq/GNjx+hNtYsNvEN8g6U30GIkSMikgYoZx9J7gYyooMkMJHl0st07e1+0gqVOPvStk70B5MOZl1zwRhdEh1JmcyiGTkT3RNeR61JlhZpd65ZLYOseuwqIJ4B5GVxuq49L1248j5CaSMUlAHwgQvylIuqvPt1qFPmF5z2NzoVjRIb+BqFEg0EPVFUEb8IUqOK25bp/tBlHKFTA5R/w/KHp+CHPn2JRdSSBMuMYjWrBYfE2LFJsSvCUzt/3RjncAPIPCRi8ZsblrIszQNIqKM2gSZBkY2dYBbfZWJnSzRrbH/aGdBkle842dBEcV8HzHjXxvt54bVbykijvpec7y77PueTShTRdv/h5n08fZMg/y4B3SZ/xIeld7nONcRageJd7Fad4g4f2o9zf4TlmH7MH2Hp+B3Xsx7dYRniEWa2nLyUyR7vQr4w9nVEOaRtybQB55zoqZnGiLzMPeVcz5T56YJuVLFhqs5xEISgWemEcsmHO5NCJ5tYciT6W8nDFovWe6PHUH+VujxldzzsvgeGlF3UPk0b3Fjh1JoQhXXpDDzB/TlXMe+R1TQUQ30rNMcRt5TWlDvWdSKd/yovTYMw//oDrp2YR3JmnTfz0Ib37uD9erEU06ueMjgRgFSBtTscXZpHqObLEZgO7AeRjAYLDzcyN5hbAJRBeZLSLZVf5GfZdBfSUS5XfEfSy+rNen+I6w+kGd47CXKgR8pf4zLhguX0D+BaR4wX9x1vRrHTX61k3BtPV6HMtlZb6AFPr0W0HyFf/7nJNQR8s9UYvIBhD30X8Vm8BhB6R4SyO+wHXZ6k3vjUnwsawwYfIg8xcZ8xUgvIGfIYY60FNs6cASh+sdLVPKIf9x0M8wEja1gaQAGwwYKCnZBlpyDTzADVmMMCOPQCKGWAG6304hRETc4AnM4CJLPcBpgKSCwAkVyKER42jLo2+XFLjuWigdVp35P3SZmusRN1ZAtAdkeQCqE/BeaHu2+4jrQhc6EJN9aa1LsKmNUZ15igRKhzpTunb9Q7XAdLHnG4rdB7dSwpeZh2hz6g96gOuA13zFFlPvyKbGIU6gKQEGYGswqgZViiHRXD+jHJoWxS5AeSd6297IZkwJGcyhzHDLCMxIzEAk8yxnZlEhtEL+DkIESXqLL93qbaXUXL1ALgAxzWdwQs867Mo8gwEsNB8bJjgK3OIHYjoatPmMqhejeZugvraTXdYqN4TnV56mHTfizk/OR0h/4TrE9BB0kGuzxIV1p8fkH9I+lDW7EQo/4gaZJmBLGk5XG/K/ib4Z4SI8YGq1AfFckomy4xjd64ojcXWqIHDh6KQe8vwbFt/1/W/AS42wNEUUz5ymEUdklSJ/HxpS1CPtHafAohAScnLVMbZYOEVSfH7cmStCs9qBdhW7kssGzVrUdtdwPRrn/Wa7sfNeutdKHuDSviQCrnmGnQogr/VrrMcVVSiKn6/V0ZMqIN7UA0jlf4Jb9TB+RJqPT8BfgDKoGBCqetwmRe3Rk2dcdQ8EF4ph1mYjI99NZuJ1xZB3rNSNFBcYW9Y8jNUoEMDQqOzryfOCFLqi5yTPLFr2sDBUJs8K0Je4hzfm9reAi1dF4XVNfHdS4/lvUCIx/Uj7xXhvZKmX/wsHrFomM8yUwPAqDf+CBEKdHXIMvvYQLCK4OoNjiqAW71oYvzH/d2NH27IrcVcxniunRh63Y2+M9062daBad/qWaMcbin2BpD3LC+QBlekyiUKXKTFkT4rmNmmqD+W5s0MhHMtnK2gpy5M+3NP19Klwt7y570isdcGynkB1G4BH3gvOAF/5kem0/Jkb/LVPoupsF7eivNgY8QA6IVw3+dZyMaqeYtUus44+kfrXHuRQSNOOtY+T4OdfMAsr61RDjHbuC4phwn0UptcHKEb5XADyC+urAxPLOGiz23OVtlWG+VhPZpUDFxqtBldAV+0SFndFq60Lh5KcXgBRHCZecIVpZxuO/GgB/Q9UeDVx+m6OPA9jJ+rTKDzcoO0UpPjIoxee4oc3OgARnnpOlePai/daXmdaZy3ZY/aosclHuM/4flDefp5HPWWTYca6WklRFQnX0edpNknAFkph4bQhkTOS8oh+vnJmXJIbpTDrQZ5T4oNAAPhR4c0t0mLRtnpkLg6l/v+4ic/T7ZHj/LhmvkagNbi/cV60ppm5Eq0wAtg+0cHFhcrCnw8/b33j63RyGsN1ri8w+ksqtS8ZKRSa5QqMP4EUMRt53lHSD/Ue10DP+G58Kz1A/I3UD8s4f34mvLwE7JjV0tsFey5UWPwWeezNGrcEpQjKslkixaZBZPDhwS+H+DsReRYGDinX/wGjhtA3pVtCTA45C4t0uwKbn0K3YMgVmW6aspeAbaELl9qKJ4U0tuvbe/v0Ixcj4guRUq/8DrujhoX4Mj1TH9VUJfXhTmuojAuK6iTp9W808/pGPxo/9HADwpNR+n39rtQ5Mv0E9CPEJmYwbKJUKjOTeIHdukdUh6Ojjwadp8hfHsuoza/NnURZE85NJSmzKR4jslBL/40p+c8u3VC2dLsLcW+cUwHQzBpRV6i1BKrZkWvAhG5SnBkej2wQFj0nMVL9beHDLB0FxCtR6C8opDWh1u8et+HI17Nf6UfTSSuKRf9QnDDe7af/4FSNTkUlsu/F7HbuGT8gPRDRd9RGbVR81YEcd+lYtG6cC3UR2HKvOeRnx8vYyaANDl8mP3cVKVHGefUlj6fjHv1lEOcUA5j3qJSDnlOOVzOjne75BZFbhHkrXUsvVySCmEIsXEAixN2LXLPdgitey1SpArDhg6DszZyULZJ3gpB/AP0DB8LkW9H0Lce8NVxkL7Wx5XuKW+96Fuf1ZpP9cmsaf/zNLKcf53g/lFA7iM8YYpxFqraTp1txCeAz9Kk+ZzdCKvJlj4BfhQ/mg+RH0opO0KJxyYsmyirpQ6767Ot3jONcjgCnggrg+W9cVeVOjtRWdkQbAPIG/vZVMtTcpbmi6KWXUFPEMpgeO1el6FwwIN2TZURtgqGHo+J+iNmCqL9KfulLgeOa4IUd9c7vxKOr26+y7bggc/lcqjIi+wirpQdyoSCilBtdRrU7C6oar7V7uPFbMs/VOuQdS7SS0oNvMv1k8QHyANLnqGi/B0dZ658Fyp86qU6eFXVozzAVcVviJ30WaUcpoQ0Zagq/Ih1unI29+D8vUhbPXJLsa8daglggpDkytmVsxDlSBWKWeVe1+tFhEIVJINmWOmIXABijkHgBbiup5aXMGAtnb7Kb75jRrDLd4kVAP2Kx/aFtJ9r9cCzzwCXZdxuybudamFeCrp1Qv+J1+WzbFkRlYhB8PeuW915WfsbXD/k/lOOyr3+aPcN+bM3SD+ZWCxaJRZfdU9Fe9mBnEqE11sfLb4zw8LUrVEOraMcYh7rqZTDMTjZ6j++Zskw5+ebeO4WQd4XfNlchnLPbp6DbghOgDKkCoAV+KYOEOMS95nm3wtQCoWfXbncF1q6p+oxrY50ClacIwC/rHq93lPR12vyPZf7nojuDBx5G/i/ElryQRBffl4TgEM0Vprg7ZsiAnxrArgqzZg6BB4iE8WZsEaOsU3AG4U3GN58sAOP7vQYnTWPzvNAwrLDR4CTlzN0y4O7TnZUdyqfukWQyQoYxvNJDli4HFKOnIrRQk9H3TBwiyC/DJDeJhjdhawpT8hyZA+Ac8Ul1HscLofcIWa4XFXRRyWylDug3M9PwiXJPQbScdua4BSI7klRydvD2LqVm19Jvy8yay7wyNeC0UfB8cuzerfkzZQhHcps4zty2CGERqPeI5Jsw95vcP8os40/y0zkT7iX2qT/lMKilZ5/wvATAz4Bzco8EswVKjwk0hSdbPjcqFmQVde8W9lHnJztF8pRSAfMHTI713+89iltjZotgrwOkG3P9AxkTtmJKVNDFrKYTHAINJcj0+QQwycWdIgudy+iFg7BFQpABSgX6fac2N47GHlv1Cfdi4o3tv9CzVHL6FEP4dhXm1eX3tvFJ4oh8JpGR3f6DTVyjFnHn5VFI/Bns0qIFPpH+92L1Bnwg8BPGd5IHQVTSJTNSt/MQB4JJSJlx+feFm9dYi8n2kQr1r7/3m2it5+xDGCHuUHDpbd6S7P1lR1sW/+UANkFehLl2U3MdDM6RZeQSTocGSYXlANLmcGUIU0gs6RM9wxahinLPRfJs5BNE7KgieTw8LH+0H11G5BOjpJWrP/VY4W38e/+iIX333TmS3OpfIEM4KOkxAUcy5xim3FU52GNLv1W8bfWLEQBvcHwRuGHkr1DfigsK5CKkZsughQYnexjRH26MM5F1dmCK5RDF5jmRg1JYBKwDxOvwb0Nkfe1axXjpHaS3gbHN4C8ttwzOv0v1zFnuKZkyInIQIp0OiHTzUG5DJnQrA3pNsGKQC5V65BRl3SV26KmKSgTSHcNX+vO0HIBbCVpaxYSOhe2YH+AXHD3uxqVXgetGj3yEZC7J3q84Fixqux1/lxTmU382YRuZ6Otny0iFH4KnSBFb7bVvKzxBvINxDtyflPiu5NHy9D6CUmojRqRSCWV9mEeyVHv7KEKoHOmUdXCm5qP65xymGfK4fBxBNLQTogxdB73g9Rqm3Fy3MBxA8iLmWme6dXumZMmZWTCMpyTgRNTngBkGSfCj4DtRE6ET6BNMGUIk8gj3ScwTQAmSZnABPEIqDRxlEHaXEj6hWjtCpNGrXZ4AqjX1Hr0x4EjHq09nukYLihDJ2k4V84fa42gdj1D+Kwd5qKwMxtnodgfFOMtAFXpe770s5BVscc9ZM6YjrXmSHX+2pxBLchVQLYASHNHHgg76Ezfk00kykBM867SUw5RTLzKiE9POczJQFejHDbxXGCjHG4A+diajgd0jn0OQ/YjciYzwcmNE8mJ5BFAAKLziIQBwgRognyCpwxqAnmMtBtHiEcQA6QxHssD5AOEATBC/EKbawXg1uwTqu5GL6rr54+V9Dg4XnBgXELZjZriqngElhxEXg4Hr0aMy+cN/2pVCbKmwlNVed6KKviboDamM/Os8R4ca48UO1LwN8rfNNibMg6QO8y6z25W766ZQhvvsfAotwnw0cCPE8ohZ1M19ba9RTy3Ug5dQBIw1fJIMuDoMfaThlURjF8vdG/rnw4gzRZ0PGmfJ590yBNHJhtt4tGSHUCONBwhDBCPkI0AjqCOAI+AHyAbQB4AjIAGyA8SR9KOAA4QBpAHAWODxms776P7bXMrvGBw9WhkeAscb9EX7wTXu/Jr3ik8fFpzlA6RVntnoOU/OyCMlBuqArc/CpMm6o3Bjvkp9+BdQz9p/Jl3fPdkx+E9O0rNUJ2orcqsoTMhwVua7QmAEcPk+HxKJ5TDYol0Sjk8E8/FarQcICwgoQ2UgyelmGX1eZGmb2sDyAuRDBoL0J45Zddxes8H5mnAYMndBjM7SjywGDRAGgsYDpAGkAnAIGAg9AlxgHEAeICQQAzl80rxWE8xwMbLc5CLTOi0qP4nrgcPGOICz/rasPvddUlewNabfyfog9K7QmXnR5ldLDVIvEUUqR9t3rEOgwMlWvTCtVZT9SHxU4O9fb7sj8PxqDrAjVbuY9WVj2jQorACCZaFvLPSqPEis3fpZHiDcthVG3rKISeAY7gcRn2zcLlKOYaru9CWZv9pAdh/+DewE1K9jILtTPbEo2M65Hw8ep6O7joKOkA6AjoKfoR0UMjxHyOS5IT+d7BeP8TvmK8HsB5XkY68EWndXVy96Xx6H2hxeVnW9hav9Rwc7zEi++qs41XKTy7gWFXA30ok+Napfhf2TBG/rRYKYAXDD4jvIN5IvtP4DvJDg30AOnoaJM6RGlek406rsfQiB2VETVyaQ+FJFtDEKZqHdbNgby6HKtQDL40XpEI5lEod0mef9laHnMVza+OG3FLsLYK8BJCpYEkGPAvKDj8o03T0KR91nBIGH5X9aGYHSiOFI4QjpAPIMdJnpRpFImQmR8RITzq59BGnQRgf4yD7eQTQF6pCzRJAl14tfscJ64ZzLZKo6hVepkHqK6u0SpaTIvu5RV1Jh2+D4/XokUtq4JXoEfPrlz6B2ljB+wyIeINY6o8VKFEB8Ue5/hPgG4gfIH7WrjeMPwG8H16fDvvf38TSfcZCvduiRrj2VqoCngIUU6lJaiAsX+hkd99ri0wLi0rGkDkDoxmTyzYPCQAfEniY4ENnhV6637WTvcxKtihyA8iVdfjXDGXN7T0SNML2Non8lMs854E+JAgGcCincisgsgBARofaQCWI6ew+PTiiXpddract0m2WQeJaY7JFYwAxagSSptlOrB9U7529Cs+8DLVLXuKc3LjmTWuVA8g9yD2APaChhSc4bcqcyqytRJb31ijXujGXGzK50QCln3L9LDTBt6bLCP8RIz6oVMEy0tPMtspjUPQfY0DczT7pONYBbHOHm0HV0be4DKq6EGq2Kop0NywVzDEzanJ0soejA4PNJz7TiXhu7mTOLGqcRfvRpGj8TA4kgx0AEzANtkpG2GBwA8gHMzWGN3ayIPUbIxJIzPjUp78refaU3JO7zKCBgsV7ZwI4BFjIACVAKSLHiCzZgBEJ1Bg1SSUJicYR8AGw3dVUmVgfAm9KE5ogHYv81iel4H6H104uKtkZkiTl0ryYWgtbqHYRtUyQy8FlAeTcw7gH+AzwFeALyCcQewDDdeuGK1Ei76k13tGQYetUf0D+U1Fv/H0xx+h6E/QDrh9w/xHRZXEYRBkUlxqLRmUwnEN6d/BTxEQA9OBD2+SYdgYZYHUWsSspFJ3Qs8idLuQhIs90dBzGVKLO2dyItVZYT3onI1DMGcAAR0SiTfCi/jl3KA3wByiH2jrZG0Cuptjf9pF6LJolpYa0t6zJP3VUgmsgMDD0ACvoDaIOhA0tfa7ptXAAkQQNEAZSR8A+y30MwqCsAw0DTLHttFmzLGkt/a4jXfPC3vgJ11sHDB+QH1EiGwUYTp2fDjplovnZGq9czqAWDTQ8AfYMyGFGgAYpomdjKscoF2lhjVz6aPLOmirvUe9ZRpEO4VDYMT/lTQn8Z2nKvKt0sQtjpjBlqiJ47WZjBkjgJ4kfMLzJcFBKGR5eB5wETwabMrDfwQ1IXVNr1k9WSSQc6shT5mU0x4poRerg6UR9aEE5vFCFRU0iFpRDL51smymHuEQ55Jcac9v6Z4kgB1sAUJy5rSqoCHtOBA5yHwAfIA2CDoRGQEeAB0BjRJI4SBjoOoA+QBzhPIJIcR0DoAMMQzRrcAA4wnEAtUcvaHi6w57vvI4A65n2xtaJrV3ZrAakcrhrBlZ1zyx0JmRepoIMxJPAEZBTRZ0I6iTdpBq+8bS5dNpx1u365FVw7G+z9n1lQMezUZ0yjlOYMe9AU+uZARKa02vgJ4g3gIVVo59I9gboE9PkTLtSqiPoGT6OSJ8HCPsyilNqf2ym6K3eSHZ+MKWTfUo5dLsAfxdcDufMogfXQjms2pB7BKMmd5TD2lnvKIdq8nnb4PgGkGsRi1tzf8NaFjvQkXDIP6fRjuloKR1gNpZ0NhoujkNJsweYjoKOhB0hHICIsiR8Ej6AVuYkIxKNmUgNBWCHs3BKOrtetFRj+Jkh66+Z8fEB4gPSm6KbPgNffX/qxsNVwdFP7Wn34cwIsdjeloPSu6ZNGSDpEO4kCsc1Pch7ZiIv39cBHIoXTAXEt9aAKWM9wZrBO+roDvGjCEzUBs0PkOUEwzfQfmiwt2k3fI5vH4Ln9kLUWCvBhAGii131GC9mqDZ/f32jZihA6olItenTzaxSpXBDCwZr525I96h5rlIOUTrZCePxABXKYYXTnnJYB9pZ/G62tQHkCUAuR1eYYoSbsye2IOT8Nh3S5KOmHLONZCIYg+J1OFyqTZjobMfnM0I6lo72saTfE9i0I48gpjjgpbMuBMtZ3xcQfmwK1+UnAySrVcA7xA9An6hOjcX7W65KqSmhTGgVBTi2sGSAcQToJIv/d/sZYVGUJcLkjFgR/+UFtYpbNcdbne2aVhd6YIkANfOq39rMY40U222In8TP0s0uQFnGfKSfID60Hw4AhcHiG+v/fKfAba6QFzOfy8EkziiHmC0Q5OXrLN1vy8GdTodZPJeLv1XnIXPX2C5D6ClB2ZuJV6UcIntQDocl5bBXUfPVD3aLHjeAPN0tdqUx05lWRZBVSPwl1dZOx3z0Q8p5sJSOlEZAJRpkoRKiCueWmh+DfghGk4Q2FXAs98FEFn62MJXmzrr4I5u69CR5HVWpcv9lmLnS6BCG9q4PSBnRVS3FS69SMdXb+6SqxRhqJ6NSujh+OrfHCq88rYrdYsTgJEU8bbZqmZYT551qFF510P/CnnUxyhOGWZFye40UP0paHXxqcjbZCguFNyS+6+ifcDmSNWYMWh2v/J4DGC1neLJS/zuRsOsGBqwCZG3ANMqhIU3RtOGHN8qhRNA6Xn1/7llQDlvTO1L7QjnksbB5Unqw7bI1ajaAPEt/xjib+orlaOXFZgmkO3zyacpMadKQJqoAG1QUyDFVdXEBmVGnm4qyT1XyqeCYQWQFMB5Zt0F2rrPYdtpJ0EfxPnmr3imK0ZYPyD/g+pD0AffPApClm918vxEeOt6n2HMySFlMIDW8U/vXW+vx3CTgOjhqCXr3oOip8Va8+ENT1AHepeoRow4gUeuRc+RYa47Ez8Ke+YFasyR/YkhvMBx4cEd2YEgxYkOGBnJKc+/JVTrZGXkYI62t84lpSTmsqkmt2VLFcwvlMGXH8ckWlMP60bI1as6jb0qXe1maTbxmyiHOND82yuEGkDeXuoo/JMC9zEWWSwWKRAeR8zRNtJQ5DBMteYyX20RoghjRYWhEltEbjiFcoQmOCYYMx7HIo0XKHduPEAdQyyhyBjCH/Aj3zwAJHOI6jnAcIP8soy7zBfgEkeGiFh1s1zzis5CwHnFufUsYCGOxsS0lx4U/1q+6D14Ax6VKei7g+BOuH6pzi637rJ9FiOJHAcffw6O6Ct2q8KvrAHi5zfAG4kNDOgRGZKA0OVSEJeABmDV6s5zhYwCk2DdqOhGQEjGq6Yp1e1wG8o5RyzwI+jLlcAY+Wkc5ZEifcQfkZEhZpY7pG+VwA8gHAfJjmsGwP6MaYh6y7vxGgD5pOh5Rx2ZQABA6llriLrZzQti6TwxFn7HcfpRwJNsYUKTmWGyfAI1L5BAgHBWNoUMwRQIAJX0A/gHwE/JP1RSy1iIhL2XIiALdl+5VLK0AcQfaGKM8wMyjYU2t48JWo43Kvp0i3cnrfuj44xJAa70xhtirXNnvcP8x0wabX8xPQFGLDL717xB+LzXKSiX8CeB3CD9g/ImU3ny0I4UJU1HVMQDZ54jKDJxyeTcsTRBH3o8Y8zHuZ5hZLJojyNZUOzFSYxHPdSt0pVKTpE4LFbPLYSCgt1vYpM/KEHpJgpL3LodRpxwOEzSkGX85C2pYBXP55nK4AeTKymVEpR4cNVA6H1sRyMxRUUfMPinrSOoIV+hDUtGYCWm0yr3eYeZi95exu89A4oiafsfn2u+lh9AtxGLGr4i+Ric7+MY/Cbwp0swfxcY0NxLbPPtYjr5m1r2DcZg1/1mSLgOMmgGSABm+3/H4akaW1hHwktzPnQrgdXB9LikEt1repchebA/0ozVq4vI7gN9Lal3qjfoB8HcQP0F+YLCJoGTBSHEi6tFTLko8hTSg6SS99VIWDgBzsxhwXH8PbVMbxVE03dyIVBsuAzEUyuEseTajpWNp4qUTERMDka1SDg3M8R7yYOBneW8tID2hHK4IaG5rA8gIlHbDuRDDSgBED7NM7McJH9MROY+Y8hGDHeE8MJWONVrqXDrWOrYmTnVFjJbk1KJOICwboqFTHRRTY8nUCGhWtn6H8NbAEDPfWHNkVTyclVXVc+WnHRmV1zy07nR0q3P3OryAoXfujj43bOgPCWFcGxi3xWs71uaJvNNndMwzjkABxTLb6K1J86PMQv5YcK6JMNUCPpDdgx6IODlWsLESqVWhh3RBtrw0biog1fT2EuWw8amLTmdQDuMNh4kXMR6LFlTLm7UQzwVzVxuO59eYutGdSjlEa9R42iiHG0D+ykp2BoS1P8PTZoERGpn96Ee6T0l5gg8ZVtTD59pjdKZh4UnjPsGsNHSaN01YNsiatazMQ8k8ut+pdLc/AH9XE3rFB1zvUjG5b+rX+igp+EfUH3UohvdBG3QthsPLAVMc6QvQRZLnnD28Z7/vGRgdzdq2ejTyel62EAe/aVZWxSaqNFk1yXqfU+ei0hP1xbkO2TNoajodohPxeOOHxnTgMftcuuCi9qdSYaAXsKqpfp07VKnzlREfmzKmfWqUQxWAPKMcVt58bb64kAtBNWUVyuFUSsGCnKX6cVKH7CJHypdVyp5y6EByx1Q72Xf0XjbK4QaQ50FL7vt4Xe2rCH7Hzt6lhYmuwbI+pknZM7JPNGVQM0gCAXJh3jXBLFPdOI8x6pOzp3ZElsIkKJNe/G5wAPSpaL58QvqE+6GrRZbtOAj6BPDZcbIPAA6Kn3O9Mfo0zpD82UXdlLk5MJJFqIIdOCqHg6NUPL8FFnYO6Lfw8TprZsGn9tnKAL8rao0/Oz71T0F1249gyhTmzMJjBm+AfofxB8AfSPah/XBQknOSN+pdEZeNHcFQI0oC0OTBISqdbBR+c2tnucOHGPUBh0hXq/oQTymHkR7n7sSQPGorbVzoaR2e5k725Q+1dZ87yiERjRokwJv02brLITfK4QaQF49dCwHTFimw7uhrgU6Zud7R/ZOZk6Y0eFbyicaSNndAozrmozmKpAplD1O5Tx0Uz+Wxk4BjKZfPHWvUDjU+55/4LKM+8wXNV6WaS310w+KuSPEowwhYIpBnsAt/bzFUfCgKJhUQDNAUlja31bwsuu+PpdTz6E6uYhOaVXZ+j1qjfkgFNGv6XKLIOWLELFVGVJCs4PgOw6RkChHG3Im4FWfAEjkyR9SIMmyNrlGD0ghplMPs8GFAOh6j4dJRDtFFczEwXoyra6m2mnjBADPYMV7TLcqhmnJT9yF3lMO54VKAfsJMOZxCZGONctgAeKMcbgB5tvvt0gUFLp1V2VvzZs+MT59wKPau7i63ifQsWKZhAkszh8yQjiJHBqOmzDsiSzoyxnxi7CduOzanGLX6Y+vUqgLBzDn+0Qm+/ixMkd9jkBo/QHyUlBjK2RESgns4ExjIyVpjnIfAvTRswtHRTrbV6DLKZd7Cpjlpn+UGaxf3koxZiAp/FKGJ9yYiESD4e0mr3zuLhBjVAWJ+EfwJlt/lbyCjeUP8REqf8d69dXx7Be7WZVbt/Hp8LAUgiVLXMwOmYwMmGcFjSbFr57qnHPqVWsMFyqF5NGpS73K4VLmbO+Id5dDkcFoTz50ph1ZMvKKTzUOGRps79AvKYc2hNsrhBpBn3cWVUZQKhqdSU01CUcIuTZ6niXk6YmIAHYYcpl08wD0sF5SGYtwVHWvHAEMRy2W1Ykhh5KVqYwdUybKQH/sA8KNZlM4Uux+dkX0Flx+ztmGZDXSflCfAS1ods5klnGqgV2uKGVBudUir21BMySxHw6bVJ+N1XhAP77FzRtCYHyifyRukH/LOWjXkx36H63dVemDxse7UeCqVcAZM4A3UTyR+Kg1HTkVBApESR/eim0usxmaOiK5qt9oIHLzR9Joobi803I9ZqzZqfNEpPqUckieUQy9RI1kA0pA+Qhl80divDl2wEuTPlEPUIfaMVcohFaUASk3xeKMcbgD5QIrNfuZuPhBUpmLWbVLlO8uY0oGTUsqeYNmC2yVKSkQTzo04qyFumzCMU7Xq3krCdSyUippuF1TGISJJ/WTzbW6c4zcFYLzP+ocxHK1Cs5PxSNIElY51bbjAyRK5ogAhkUurqgNA5jbqE6XZHC3WmadNzpI+yz7MWdpddSc/K+BJ/vv/2t7V9cax5cYiT/eMfDfJBkHy/39dkJcAC3sszUf3YeWBPB89GvlugnvzsixA8FiS7RlrupqHxSoGoU9rEXgZ/cZpZ4yP7rz3XTKNJBUfUL1S+BDSq96m/hrGnOvsG+///08/fx2WQizq5Bk/iIPlMAQZ3Q22SI899g7F85bDIFLRbjlUA+oSBBmWwxNdPe9LvCbLoak6TwLDclgNWF5ZDj1nSo1DqPmFhvZKrkkkQaKPBxq+3hkt4ndpUUDj11Iql+2G6wZsFsPmpqDGEmThRIQa/R7x012vKoxN4TR7+GUaPcpYfTDNDm9xzLyOAAbeYjD6NoQMu4K80uwGq1cAV57XTXZZoVKc5NQAWAx7N8NwRVs3JTEjOX+dJPr8Y1MT/HXKU8P2FytZW0TbdeyLsZhZ7MnfXlG2FastqWfYBb1iVLkA+BDgnaVcAdxRZIeFVfATC0xZHLOzZc4vKuLVZMt3rwasxas+CcIs2v8az3Ms0Lqjrs1y2KyJOinZrfrjYYhcjdjFe+DLbth+myyHc4RjE2qeHTXyYn/kcyfD3HJobfaxizKvCsW0HCZBPl83ez0SoQioJVw0BZzdNNPFRhJyWkxE7/W6sWzWqMT85h9bjdkrEvd5kQS15+cEBT4AKiXcLl5hHYePSAuXzS1UaxdlYnNfe0yzCKkIoixyExoJlilwAuI9xzbw7aM6GiM77NXiUAlcufavuSjQxoIYqvgUCnm4+jgJUN4q8JCJUKLtfQgyuLIn8OAC8scQXPARARN+/FZXp+23012u24baQziexItJkCEH2fW5HnbxhdpixIIhnx01Zu5IibOqVvtsOexHW/RVsEP2OFoO2xIvqleQVHmhVj/VeS+Ku5nUDpZDhPC0ArUULO21Vet/UbcKpOUwCfLl225Z/UijGsO4+qnv+Kqq7BfVIrWe17vKJrRKmAxnTjteGemOFJVICFKhRWQLbiB9tUGM4ThB0qZ8xpb0TQA76eM/MPuA8RKpPje2QWnwHcL3el5udtLtdDMxKEEbA96zfRBzlYgh3LSESM+FRA+s8IO2QKWZjeWT88gvvBrq+w3Ala5EX7oThu33/MlWKbog03qNP4AgSeEVIu/xcbWl3Ki6q6o3NHaO2Ju+2AqHRO3WK8Qs1Ng0ky8K2A6WEGr2I0Fir2OHdRChnRec6uNoOayfhKjPwjBjDKeF58aXrUgfu+F0j2qWQ0YfclgO4zXE0bptOSzmHm/Z/a3HpUDuD1hZnDw5LIe+uoHdcpijPkmQk4r99kSA/GX7hc9dGnomOJflbtedhUZYrVAYqfTVWVJBMRh9pKZWUmSL0KuWzK2hKVaANxg2F0u8XoWItbWzMGwC3tiO24Ir4Z5sAW5U3MWw72fd67nwdDcV9ZyJXoeQU1+UfuXFDhoRicfxIVLiPFdi1YL0ZWQq/v3H814kfbvy3N0ubXwn5htjedYlfNM/ew/Sj9Q/AX73X+VdRK4+siMPQva6ngiaB9c+Dft3IWR2kUQMJosc2ojHcFrpfTyoeGgFJ6FmJo0DmYzB8e40AL+wHHJYDqOK9C2HEtmQ7qhheTr+t2AgUShsshzGjKYWYJ8sh5t1JbtZGeX6dAOLYzf06bzyOccu8Q/bg/zFnZJPup6EAaU/ji/6amOpOJW7VewKbKA9hHaVqu9c8AbRM0ROEC7i1sNCgRn4gKAKpIrRKKgg7lTuVLGISNtgMAEqBcYTSBEDsSuxoaJSQVsLuVU73WEQwXo3qBd7AmGBShEnQlfRPWjCfy+d6BQaBDk+BCoqUAmCDEIUFVXt1xRaxWi3WHz1AzWGvSPxuy/OQh/2bip080239O8LIBcUuXBd7lyXB24P27XgZEatFbUUoO5dRBlhYd7K9dZGWAaDxA5K+izUEE60XagJD3azHKq+Prq3SqwarCnXk4BztBxOS7xCQW/ZkKu45dBWgdyj1/nKctie+7TCQo2oImN0pz0/lUmo0S/lmEQS5K858unN0lVGweFeKl+pfu34pGImYjBUtfrx+Ouy1DeV8w+LQCtTCtRUhQUGwSaGXSopoNgqShGiyGZCEwK607VlFewnH1zU4tPc2OkFSVwoPBV3FN5DXTVC72yySqvyIomik2OrFqNtJfPnYqshopJEGStrpUh77K2BD4A3GtwSSbuA/N5aAGOZFhpBjrEl4OLH6e6Z/gmRDyzLhwgeti7GtxXl+hjzgI0IdgKrfp5vfnXfo40fpE7HAE6WQ5Wj5bDGUgyVrkuN+HlfvcBSUMywLQqW2HLYwiAOlsMnJZuecWGL/7taif1cAO5dqHm2HPZcyTajo3EzkC8shxzP0eaAi5eNzPlhUmcSJHx2bEQPEvKLa4y/w7JT0opJBfZvpW7/suB8uaOqop78QrKpiJmb7BYXZ7t4ugVMSDH67pwWEdFOzO1ardPOZSVsWfvFqY9NYaZh5ShRUpW2Lwf49DF2eRMFisXX14qvtKX4LKeKq9KMpCGzdxg+YHyH2QXghd5vfA8xZqxCYFuLwAtELhBcAPmA4Iql3LmWh/37P9vyX9/pA9xy3H562CLYKj4OkjN87vtZOwoH6cgQasYbQnr1JxKWw1PshVF30HBZRkFYrYfn4rxENJm0UKRPlkNBHNnj2at5cjJVvILU1yM2Q8l+rvtGn/Ol5TDeG1jgA+M2hWZgCDTWyBXyxShC4h+SIFfhJ/L7P7enZYQSUIH1suP2b+sYreDrcpWRUi3H5MBR6XzlzJBXcfxAXRcnWLe9KSoH8am2x4uvbVUF4NWg+lEbbX2tf659X/HSSAjVHYKrLweLY7XZO5vNUXiF4gcMPwD8iNTuadCbF0gE2raUndPyjmp3nIuhokZuJbAUSBvbKXGEfCJIXy/g7pZP7ZMuOERKz3xE/sJyqHv07GbLoWpXgH3PY/Qhd4O9LVgeDxBvo1+5W6/WPlsOx/NTa1sOFcqwHJZZ5JmbkOwC07PlUF5ZDs3XDckOyJuH5667jVbCZDls/09Hy2EiRZo/thzt7zuKYLmbX5fFL7rf5dev9CF5+vqwUhxegZi5lxiGcucQwQmgLCJFWzJ4FLzhq9CwGWqp0wykQWQXwQbRe5TYG0R/Ts/Jwn5yR5EPMdypvIPyAcN3KP8mJt+hbcOgfGDRd8B+Anpl0TvWcofIXv/jX/fyn/9NOStwoxNM9Tgv2asfWZcC2W2IHOY3I4ldLNhqDzzvQk3zWE+OGivlF5ZDBWzzJZMHyyE+Ww7Fd1tX1ch5xPD1/96baxKODpZDErUIFmMfJejH85jR9JavHSyHQLh5wmreXjeLTEJNgT521LX45kMMy6HJk0STFWQS5J8KAXQjJOL1deexx8OD+vMkVeJpNUFcwMaRTwgee00x2lKqoLxXsEjkGRZj0U0hdxRViBYAqhJVZJ+BkeqhGSKxfOzDY6tbD5LFa1R7RJL61lPVgQcgV4CbgBvBW/ijf2DVd+pyheABq5vsVqnrg0UqBGQp3j7YK3BagccDKAWyAdirE+SHzxxy8WAHU0GJ3poVhVY77jfvQkbbRTCtJujOmaiedAgm3ntUHFZJWFgO8cJy+LzE0ax7sjvxfmU5bCERfLIc7m45xM1dPAfLYQ+tkGPLtVWLbW9OO8Yz5h73seXwuGsd3XKIlG+SIP8/SLG3hMSDC8rdUM+C9d2DA+bj0fNBRuaRPBkdJxeMpy13h0GMoYwKFpSq4D+th0xCCDZ5e3vH9e6rIlQegNwiJ/HUeosCFgrWMQYpTvEiuwA7jBU0Tz5XqVQxz7zEQ8gHRYzW9kxpRdG7lWXzz1TI3cTKAn77jVIfwOMeJ/wgw/MJ8uMGfIs9zlsFz6u/4r3C1oLCR8SGEQrDJotXmqclqJ5jsL/aMB+Hkv3Zcng8wf7SctjCLvhiy2FUk7YoqNUPExyTjJhWkwvaCE6zHPp4jy/xIrZVIB8Vgs+WQ4G5UDO3VVQh+94th4XA3m6ecap3JVv+l5bDRBLkH6/6RNq0Xz/lWrF/8/FGCcVSnm7iLUdwVIife0DsjXrBPPHB3oeU+HFwJHPP1slS9kjeeUDlHYIikMWrRHfVmKgRpkrxIXbFAyoGwmBEPa9ENUqt7DtppqdoywKaQR97PAeOPSo+s+clU/WAhd4BEIFsO/i2An+zsfpiq+Bfzi6YVAPfTsOhMis0babv7zkWPlsOD5+fxmPMWyMC+HF/Le6FboPZZTlYDlkKyl7dctiFmhgRmpRsQkevr/chg9BCqHmc9XjT5bGC/Luqu2fLYcuGjNxLfrUZsSf7JJIg/4SGpr/xgrgUWD4qHn9dQd1iWZN6ehifK85hESZfVKXyC7HmUAJ98bzMIKoGFdJtP9N2Kb9eawxc624vpXxfAuVN//CAHKJ6JBTduTqW6SYAVU90a1sCp2Oo7BX2l2/HP7jXQx7jc0jnEGqmER3j1JrAi7nFZ8thzOabQYovAmeJf09jT1FkQTpxayjZ6NKvVoOd/PhPOY9tiC8sh17sz8/JCbJbDreIO/tqkSEm0n1auCvTCaVbDsMB6q4dwBbFEq0A1OEzbJkYmlfxH3uoZFqSEolE4ssDZSKRSCSSIBOJRCIJMpFIJJIgE4lEIgkykUgkkiATiUQiCTKRSCSSIBOJRCIJMpFIJJIgE4lEIgkykUgkkiATiUQikQSZSCQSSZCJRCKRBJlIJBJJkIlEIpEEmUgkEkmQiUQikQSZSCQSSZCJRCKRBJlIJBJJkIlEIpEEmUgkEokkyEQikUiCTCQSiSTIRCKRSIJMJBKJJMhEIpFIgkwkEokkyEQikUiCTCQSiSTIRCKRSIJMJBKJJMhEIpFIJEEmEolEEmQikUgkQSYSiUQSZCKRSPzZ+B+GrlwhibMxxQAAAABJRU5ErkJggg==&quot;</span>; <span class="hljs-keyword">function</span> <span class="hljs-title function_">Sakura</span>(<span class="hljs-params">x, y, s, r, fn</span>) &#123; <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = x; <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = y; <span class="hljs-variable language_">this</span>.<span class="hljs-property">s</span> = s; <span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span> = r; <span class="hljs-variable language_">this</span>.<span class="hljs-property">fn</span> = fn; &#125;<br><span class="hljs-title class_">Sakura</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">draw</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">cxt</span>) &#123;<br>    cxt.<span class="hljs-title function_">save</span>(); <span class="hljs-keyword">var</span> xc = <span class="hljs-number">40</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">s</span> / <span class="hljs-number">4</span>; cxt.<span class="hljs-title function_">translate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>); cxt.<span class="hljs-title function_">rotate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span>); cxt.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">40</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">s</span>, <span class="hljs-number">40</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">s</span>)<br>    cxt.<span class="hljs-title function_">restore</span>();<br>&#125;<br><span class="hljs-title class_">Sakura</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">update</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">fn</span>.<span class="hljs-title function_">x</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>); <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">fn</span>.<span class="hljs-title function_">y</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>); <span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">fn</span>.<span class="hljs-title function_">r</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span>); <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> &gt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> &lt; <span class="hljs-number">0</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> &gt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> &lt; <span class="hljs-number">0</span>) &#123; <span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span> = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;fnr&#x27;</span>); <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &gt; <span class="hljs-number">0.4</span>) &#123; <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;x&#x27;</span>); <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = <span class="hljs-number">0</span>; <span class="hljs-variable language_">this</span>.<span class="hljs-property">s</span> = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;s&#x27;</span>); <span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span> = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;r&#x27;</span>); &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>; <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;y&#x27;</span>); <span class="hljs-variable language_">this</span>.<span class="hljs-property">s</span> = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;s&#x27;</span>); <span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span> = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;r&#x27;</span>); &#125; &#125; &#125;<br><span class="hljs-title class_">SakuraList</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span> = []; &#125;<br><span class="hljs-title class_">SakuraList</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">sakura</span>) &#123; <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">push</span>(sakura); &#125;<br><span class="hljs-title class_">SakuraList</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">update</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-property">length</span>; i &lt; len; i++) &#123; <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[i].<span class="hljs-title function_">update</span>(); &#125; &#125;<br><span class="hljs-title class_">SakuraList</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">draw</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">cxt</span>) &#123; <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-property">length</span>; i &lt; len; i++) &#123; <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[i].<span class="hljs-title function_">draw</span>(cxt); &#125; &#125;<br><span class="hljs-title class_">SakuraList</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">get</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">i</span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[i]; &#125;<br><span class="hljs-title class_">SakuraList</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">size</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-property">length</span>; &#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getRandom</span>(<span class="hljs-params">option</span>) &#123;<br>    <span class="hljs-keyword">var</span> ret, random; <span class="hljs-keyword">switch</span> (option) &#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;x&#x27;</span>: ret = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>; <span class="hljs-keyword">break</span>; <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;y&#x27;</span>: ret = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>; <span class="hljs-keyword">break</span>; <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;s&#x27;</span>: ret = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>(); <span class="hljs-keyword">break</span>; <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;r&#x27;</span>: ret = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">6</span>; <span class="hljs-keyword">break</span>; <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;fnx&#x27;</span>: random = -<span class="hljs-number">0.5</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1</span>; ret = <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123; <span class="hljs-keyword">return</span> x + <span class="hljs-number">0.5</span> * random - <span class="hljs-number">1.7</span>; &#125;; <span class="hljs-keyword">break</span>; <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;fny&#x27;</span>: random = <span class="hljs-number">1.5</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">0.7</span><br>            ret = <span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123; <span class="hljs-keyword">return</span> y + random; &#125;; <span class="hljs-keyword">break</span>; <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;fnr&#x27;</span>: random = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">0.03</span>; ret = <span class="hljs-keyword">function</span> (<span class="hljs-params">r</span>) &#123; <span class="hljs-keyword">return</span> r + random; &#125;; <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">startSakura</span>(<span class="hljs-params"></span>) &#123;<br>    requestAnimationFrame = <span class="hljs-variable language_">window</span>.<span class="hljs-property">requestAnimationFrame</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">mozRequestAnimationFrame</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">webkitRequestAnimationFrame</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">msRequestAnimationFrame</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">oRequestAnimationFrame</span>; <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>), cxt; staticx = <span class="hljs-literal">true</span>; canvas.<span class="hljs-property">height</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>; canvas.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>; canvas.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">&#x27;position: fixed;left: 0;top: 0;pointer-events: none;&#x27;</span>); canvas.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;id&#x27;</span>, <span class="hljs-string">&#x27;canvas_sakura&#x27;</span>); <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&#x27;body&#x27;</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">appendChild</span>(canvas); cxt = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>); <span class="hljs-keyword">var</span> sakuraList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SakuraList</span>(); <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50</span>; i++) &#123; <span class="hljs-keyword">var</span> sakura, randomX, randomY, randomS, randomR, randomFnx, randomFny; randomX = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;x&#x27;</span>); randomY = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;y&#x27;</span>); randomR = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;r&#x27;</span>); randomS = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;s&#x27;</span>); randomFnx = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;fnx&#x27;</span>); randomFny = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;fny&#x27;</span>); randomFnR = <span class="hljs-title function_">getRandom</span>(<span class="hljs-string">&#x27;fnr&#x27;</span>); sakura = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Sakura</span>(randomX, randomY, randomS, randomR, &#123; <span class="hljs-attr">x</span>: randomFnx, <span class="hljs-attr">y</span>: randomFny, <span class="hljs-attr">r</span>: randomFnR &#125;); sakura.<span class="hljs-title function_">draw</span>(cxt); sakuraList.<span class="hljs-title function_">push</span>(sakura); &#125;<br>    stop = <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; cxt.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>); sakuraList.<span class="hljs-title function_">update</span>(); sakuraList.<span class="hljs-title function_">draw</span>(cxt); stop = <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">callee</span>); &#125;)<br>&#125;<br><span class="hljs-variable language_">window</span>.<span class="hljs-property">onresize</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-keyword">var</span> canvasSnow = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;canvas_snow&#x27;</span>); &#125;<br>img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-title function_">startSakura</span>(); &#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">stopp</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-keyword">if</span> (staticx) &#123; <span class="hljs-keyword">var</span> child = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;canvas_sakura&quot;</span>); child.<span class="hljs-property">parentNode</span>.<span class="hljs-title function_">removeChild</span>(child); <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">cancelAnimationFrame</span>(stop); staticx = <span class="hljs-literal">false</span>; &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-title function_">startSakura</span>(); &#125; &#125;<br><br>x1<span class="hljs-number">.00</span><br><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/qWL9P7GJkdD63Sy.png"alt="样式预览" /><figcaption aria-hidden="true">样式预览</figcaption></figure><h5 id="上升气泡">上升气泡</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">qipao</span>(<span class="hljs-params"></span>) &#123;<br>    $(<span class="hljs-string">&#x27;#background&#x27;</span>).<span class="hljs-title function_">circleMagic</span>(&#123;<br>        <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>,<br>        <span class="hljs-attr">density</span>: <span class="hljs-number">.2</span>,<br>        <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;rgba(255,255,255,.4)&#x27;</span>,<br>        <span class="hljs-attr">clearOffset</span>: <span class="hljs-number">0.99</span><br>    &#125;);<br>&#125;! <span class="hljs-keyword">function</span>(<span class="hljs-params">p</span>) &#123;<br>    p.<span class="hljs-property">fn</span>.<span class="hljs-property">circleMagic</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) &#123;<br>        <span class="hljs-keyword">var</span> o, a, n, r, e = !<span class="hljs-number">0</span>,<br>            i = [],<br>            d = p.<span class="hljs-title function_">extend</span>(&#123; <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;rgba(255,0,0,.5)&quot;</span>, <span class="hljs-attr">radius</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">density</span>: <span class="hljs-number">.3</span>, <span class="hljs-attr">clearOffset</span>: <span class="hljs-number">.2</span> &#125;, t),<br>            l = <span class="hljs-variable language_">this</span>[<span class="hljs-number">0</span>];<br><br>        <span class="hljs-keyword">function</span> <span class="hljs-title function_">c</span>(<span class="hljs-params"></span>) &#123; e = !(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">scrollTop</span> &gt; a) &#125;<br><br>        <span class="hljs-keyword">function</span> <span class="hljs-title function_">s</span>(<span class="hljs-params"></span>) &#123; o = l.<span class="hljs-property">clientWidth</span>, a = l.<span class="hljs-property">clientHeight</span>, l.<span class="hljs-property">height</span> = a + <span class="hljs-string">&quot;px&quot;</span>, n.<span class="hljs-property">width</span> = o, n.<span class="hljs-property">height</span> = a &#125;<br><br>        <span class="hljs-keyword">function</span> <span class="hljs-title function_">h</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">if</span> (e)<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> t <span class="hljs-keyword">in</span> r.<span class="hljs-title function_">clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, o, a), i) i[t].<span class="hljs-title function_">draw</span>();<br>            <span class="hljs-title function_">requestAnimationFrame</span>(h)<br>        &#125;<br><br>        <span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">var</span> t = <span class="hljs-variable language_">this</span>;<br><br>            <span class="hljs-keyword">function</span> <span class="hljs-title function_">e</span>(<span class="hljs-params"></span>) &#123; t.<span class="hljs-property">pos</span>.<span class="hljs-property">x</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * o, t.<span class="hljs-property">pos</span>.<span class="hljs-property">y</span> = a + <span class="hljs-number">100</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>(), t.<span class="hljs-property">alpha</span> = <span class="hljs-number">.1</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * d.<span class="hljs-property">clearOffset</span>, t.<span class="hljs-property">scale</span> = <span class="hljs-number">.1</span> + <span class="hljs-number">.3</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>(), t.<span class="hljs-property">speed</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>(), <span class="hljs-string">&quot;random&quot;</span> === d.<span class="hljs-property">color</span> ? t.<span class="hljs-property">color</span> = <span class="hljs-string">&quot;rgba(&quot;</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-number">255</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) + <span class="hljs-string">&quot;, &quot;</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-number">0</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) + <span class="hljs-string">&quot;, &quot;</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-number">0</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) + <span class="hljs-string">&quot;, &quot;</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toPrecision</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">&quot;)&quot;</span> : t.<span class="hljs-property">color</span> = d.<span class="hljs-property">color</span> &#125;<br>            t.<span class="hljs-property">pos</span> = &#123;&#125;, <span class="hljs-title function_">e</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">draw</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123; t.<span class="hljs-property">alpha</span> &lt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-title function_">e</span>(), t.<span class="hljs-property">pos</span>.<span class="hljs-property">y</span> -= t.<span class="hljs-property">speed</span>, t.<span class="hljs-property">alpha</span> -= <span class="hljs-number">5e-4</span>, r.<span class="hljs-title function_">beginPath</span>(), r.<span class="hljs-title function_">arc</span>(t.<span class="hljs-property">pos</span>.<span class="hljs-property">x</span>, t.<span class="hljs-property">pos</span>.<span class="hljs-property">y</span>, t.<span class="hljs-property">scale</span> * d.<span class="hljs-property">radius</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>, !<span class="hljs-number">1</span>), r.<span class="hljs-property">fillStyle</span> = t.<span class="hljs-property">color</span>, r.<span class="hljs-title function_">fill</span>(), r.<span class="hljs-title function_">closePath</span>() &#125;<br>        &#125;! <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>            o = l.<span class="hljs-property">offsetWidth</span>, a = l.<span class="hljs-property">offsetHeight</span>,<br>                <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>                    <span class="hljs-keyword">var</span> t = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;canvas&quot;</span>);<br>                    t.<span class="hljs-property">id</span> = <span class="hljs-string">&quot;canvas&quot;</span>, t.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-number">0</span>, t.<span class="hljs-property">style</span>.<span class="hljs-property">zIndex</span> = <span class="hljs-number">0</span>, t.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">&quot;absolute&quot;</span>, l.<span class="hljs-title function_">appendChild</span>(t), t.<span class="hljs-property">parentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">overflow</span> = <span class="hljs-string">&quot;hidden&quot;</span><br>                &#125;(), (n = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;canvas&quot;</span>)).<span class="hljs-property">width</span> = o, n.<span class="hljs-property">height</span> = a, r = n.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>);<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> t = <span class="hljs-number">0</span>; t &lt; o * d.<span class="hljs-property">density</span>; t++) &#123;<br>                <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">new</span> f;<br>                i.<span class="hljs-title function_">push</span>(e)<br>            &#125;<br>            <span class="hljs-title function_">h</span>()<br>        &#125;(), <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;scroll&quot;</span>, c, !<span class="hljs-number">1</span>), <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;resize&quot;</span>, s, !<span class="hljs-number">1</span>)<br>    &#125;<br>&#125;(jQuery);<br><span class="hljs-title function_">qipao</span>()<br></code></pre></td></tr></table></figure><h4 id="标题">标题</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> <span class="hljs-title class_">OriginTitle</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span>;<br><span class="hljs-keyword">var</span> titleTime;<br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;visibilitychange&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">hidden</span>) &#123;<br>        $(<span class="hljs-string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&quot;/funny.ico&quot;</span>);<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;╭(°A°`)╮ 页面崩溃啦 ~&#x27;</span>;<br>        <span class="hljs-built_in">clearTimeout</span>(titleTime);<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        $(<span class="hljs-string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&quot;/favicon.ico&quot;</span>);<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;(ฅ&gt;ω&lt;*ฅ) 噫又好啦 ~&#x27;</span> + <span class="hljs-title class_">OriginTitle</span>;<br>        titleTime = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-title class_">OriginTitle</span>;<br>        &#125;, <span class="hljs-number">2000</span>);<br>    &#125;<br>&#125;);<br><br></code></pre></td></tr></table></figure><p>其中 <code>funny.ico</code>是用户切换到其他标签后你网站的图标，<code>favicon.ico</code>是正常图标</p><figure><img src="https://s2.loli.net/2022/08/08/5jgh9lJHQZEuCco.png"alt="样式预览1" /><figcaption aria-hidden="true">样式预览1</figcaption></figure><figure><img src="https://s2.loli.net/2022/08/08/KbwVp26eNS7LUc1.png"alt="样式预览2" /><figcaption aria-hidden="true">样式预览2</figcaption></figure><h3 id="css类">🎗️css类</h3><h4 id="代码框macos风格">代码框macOS风格</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.highlight</span><br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#011627</span><br>    border-radius: <span class="hljs-number">5px</span><br>    box-shadow: <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">30px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, .<span class="hljs-number">4</span>)<br>    padding-top: <span class="hljs-number">30px</span><br><br>    &amp;::before<br>      background: <span class="hljs-number">#fc625d</span><br>      border-radius: <span class="hljs-number">50%</span><br>      box-shadow: <span class="hljs-number">20px</span> <span class="hljs-number">0</span> <span class="hljs-number">#fdbc40</span>, <span class="hljs-number">40px</span> <span class="hljs-number">0</span> <span class="hljs-number">#35cd4b</span><br>      content: <span class="hljs-string">&#x27; &#x27;</span><br>      height: <span class="hljs-number">12px</span><br>      left: <span class="hljs-number">12px</span><br>      margin-top: -<span class="hljs-number">20px</span><br>      position: absolute<br>      width: <span class="hljs-number">12px</span><br><br></code></pre></td></tr></table></figure><p>需要注意的是，这个文件后缀名要改为<code>.styl</code>，而引入主题时后缀名要写<code>.css</code></p><h3 id="未完待续">🎁未完待续……</h3>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GitHub加速访问技巧</title>
    <link href="/posts/bdbfbadc.html"/>
    <url>/posts/bdbfbadc.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="修改本地hosts">修改本地<em>Hosts</em></h3><h4 id="dnshosts"><em>DNS＆Hosts</em></h4><p>谈修改 <code>Hosts</code>这个话题前，首先你要知道：网址域名实际对应的是一个或者多个服务器IP地址，比如<code>baidu.com</code> 现在对应的服务器<code>IP</code>是<code>220.181.38.148</code></p><p>如果把「域名」比作现实中一家「公司」，那「服务器IP」就是公司的「电话」</p><p>80后应该都知道原来有个叫黄页的东西，即公共电话簿</p><p>原来想联系一家公司，你会去翻黄页，查对应的电话</p><p>而<code>DNS</code>就是互联网时代的黄页，帮你在访问域名的时候查到实际的IP地址</p><p>大概理解了<code>DNS</code>的作用，就再回过头来说下<code>Github</code> 的问题，<code>Github</code>在全球各地都有服务器，而在国内，<code>DNS</code>解析服务基本上都是把域名解析到了美国的服务器，所以访问起来会比较慢</p><p>这里提到的 <code>Hosts</code>文件就相当于本地通讯录，你的通讯录里面记了公司的电话，自然就没必要去翻黄页了</p><h4 id="usbeam-hosts-editor"><em>UsbEAm Hosts Editor</em></h4><p>由羽翼城大佬开发的知名项目<code>UsbEAm Hosts Editor</code>本来是用于改善<code>Steam</code>、<code>暴雪</code>、<code>育碧</code>、<code>Microsoft Store</code>等游戏平台的访问与下载速度，但顺便也有支持 <code>Github</code></p><p><img src="https://s2.loli.net/2022/08/08/D4CXGrJuxMzil3S.png" /></p><p>软件可以直接到大佬博客上进行下载：https://www.dogfight360.com/blog/475/</p><p>打开软件，点击软件左下角，选择准备修改 <code>Hosts</code> 的网站</p><p><imgsrc="https://qwerx29.coding.net/p/mycdn/d/img/git/raw/master/202205120836568.png" /></p><p>检测延迟 » 选择延迟最低的IP地址 » 应用选中</p><p><img src="https://s2.loli.net/2022/08/08/KeplXbT1Aynu67V.png" /></p><p>然后再去访问 <code>Github.com</code> 就会快很多啦</p><p>这里建议把这几个都进行一波修改，可以有效改善 <code>Github</code>的访问速度</p><p><img src="https://s2.loli.net/2022/08/08/7LFBrHN1fpbeQYz.png" /></p><h4 id="手动添加的方法">手动添加的方法</h4><p>这里顺便教一下怎么通过手动修改 <code>Hosts</code>来加速访问<code>GitHub Pages</code>（套娃了属于是）</p><p>方法其实很简单，先打开站长工具：http://tool.chinaz.com/dns/</p><p>把 <code>Github Pages</code> 的地址输进去，检测一下</p><p><img src="https://s2.loli.net/2022/08/08/ynF4Mga6S2YrBvi.png" /></p><p>你会得到域名对应的４个真实的<code>IP</code>地址</p><p>然后点击<code>UsbEAm Hosts Editor</code>里面的「编辑Hosts」</p><p>然后像下面这样把<code>IP</code>地址直接对应上域名后添加到<code>Hosts</code>文件中，并保存好</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">185.199.108.153</span> qwerx29.github.io<br></code></pre></td></tr></table></figure><p>现在再在浏览器中访问，应该就没问题了</p><p><del>然而实测发现效果还不如不加</del></p><h4id="github520switchhostsfasterhosts"><em>Github520＋SwitchHosts／FasterHosts</em></h4><p><code>Github520</code> 的作者也长期在维护 <code>Github</code>的优质<code>IP</code>地址，并且是动态更新的：https://github.com/521xueweihan/GitHub520</p><h5 id="switchhosts"><em>SwitchHosts</em></h5><p>同时他推荐了搭配 <code>SwitchHosts</code> 这个工具来实现自动更新<code>Hosts</code>中的<code>IP</code>地址</p><p>我们先到 <code>SwitchHosts</code>官网下载这款管理工具：https://swh.app/zh/</p><p><img src="https://s2.loli.net/2022/08/08/OZk3KDB7uiSmqlp.png" /></p><p>下载安装好<code>SwitchHosts</code>之后，点击左上角的+号，按下图这样简单添加即可</p><p>标题随意取，<code>URL</code>地址填这个：https://raw.hellogithub.com/hosts</p><p>自动刷新最好建议选1小时</p><p><img src="https://s2.loli.net/2022/08/08/D6rc5RTSFXWehUL.png" /></p><p>点击确认后，还要手动启用一下，接着稍等片刻本地 <code>Hosts</code>即会更新</p><p><img src="https://s2.loli.net/2022/08/08/eLcNqZ4867CvlfW.png" /></p><h5 id="fasterhosts"><em>FasterHosts</em></h5><p>而除了<code>SwitchHosts</code>，还有更简单的方法，在<code>Chromium</code>内核的浏览器上，你可以安装<code>FasterHosts</code>这款浏览器扩展来解决：https://github.com/gauseen/faster-hosts</p><p><code>FasterHosts</code>的 <code>Hosts</code> 资源就是来自<code>GitHub520</code>，每 1小时更新一次，所以你无需配置，一装好之后就可以用</p><p>不过缺点就是在非<code>Edge Dev</code>版浏览器上，每次启动浏览器都会弹出「关闭开发者模式下的扩展」这个弹窗</p><p>不过在最新版<code>Edge</code>浏览器上你可以手动选择2周后再提醒了</p><p>仔细想想每2周才需要点一次，其实还好（你还可以用火绒的弹窗拦截来自动屏蔽这个弹窗）</p><div class="note note-success">            <p>PS：以上3款工具都需要到<code>Github</code>上下载（套娃*2）</p>          </div><h3 id="反向代理">反向代理</h3><p>而除了修改 <code>Hosts</code>，还有个加速 <code>Github</code>访问的方法就是通过反向代理了</p><p>具体原理就比较复杂了，大致是通过本地反向代理来优选<code>IP</code>＋解决<code>SNI</code>封锁从而实现加速访问</p><p>毕竟 <code>GitHub</code>只是访问缓慢且间歇性访问异常，不是一直访问不了，反代做的一点点微小的工作只是让连接稍微稳定了亿点点而已</p><h4 id="steamcommunity-302win"><em>steamcommunity 302（WIN）</em></h4><p>羽翼城大佬后来又开发的 <code>steamcommunity 302</code>就是通过反代来加速访问 <code>GitHub</code> 等网站</p><p>软件可以到这里下载：https://www.dogfight360.com/blog/686/</p><p>在不遇到问题的情况下可谓想当无脑，一键化使用</p><p>要加速<code>GitHub</code>时，在设置中点上GitHub就可以了</p><p><img src="https://s2.loli.net/2022/08/08/G9v7JZY3EDmg8Ok.png" /></p><p>比较棘手的是可能会出现<code>80／443</code>端口被占用的情况，这个需要关闭对应监听端口的进程／服务来解决，具体教程可见羽翼城大佬在下载页面做出的说明</p><h4id="fastgithubwinmaclinux"><em>FastGitHub（WIN／Mac／Linux）</em></h4><p><code>steamcommunity 302</code>很不错但缺点是只有<code>Windows</code>端</p><p><code>FastGitHub</code> 则是另一款同样基于反代来加速<code>Gtihub</code>访问的工具，支持<code>WIN</code>／<code>Mac</code>／<code>Linux</code>三端，还能在<code>docker</code>上一键部署：https://github.com/dotnetcore/FastGithub</p><p><code>Windows</code>端的话，下载后双击即可运行，<del>软件没有程序界面，直接就是跑的命令行，所以<strong>开启之后不要关闭命令行窗口</strong>！</del></p><p>最新版(2.1.4)已经有图形界面，运行<code>fastgithub.UI.exe</code>即可</p><p>而 <code>FastGitHub</code> 除了可以加速访问 <code>Gtihub</code>，最大的优势是它顺便还能助你直连<code>V2EX</code></p><p><img src="https://s2.loli.net/2022/08/08/smSLRfqNjabnxOM.png" /></p><p>顺便，关于通过反代加速访问 <code>GitHub</code>的合法性，作者有做说明：</p><div class="note note-info">            <p>《国际联网暂行规定》第六条规定：“计算机信息网络直接进行国际联网，必须使用邮电部国家公用电信网提供的国际出入口信道。任何单位和个人不得自行建立或者使用其他信道进行国际联网。”</p><p><code>FastGitHub</code>本地代理使用的都是“公用电信网提供的国际出入口信道”，从国外<code>GitHub</code>服务器到国内用户电脑上<code>FastGitHub</code>程序的流量，使用的是正常流量通道，其间未对流量进行任何额外加密（仅有网页原有的TLS加密，区别于Vρп的流量加密），而<code>FastGitHub</code>获取到网页数据之后发生的整个代理过程完全在国内，不再适用国际互联网相关之规定。</p>          </div><h4id="dev-sidecarwinmaclinux"><em>Dev-Sidecar（WIN／Mac／Linux）</em></h4><p><code>Dev-Sidecar</code>这个项目命名取自<code>service-mesh</code>的s<code>ervice-sidecar</code>，意为为开发者打辅助的边车工具，主要就是用于解决<code>GitHub</code>访问的问题：https://github.com/docmirror/dev-sidecar</p><p>下载后首次运行前会需要让你安装过一个证书，跟着教程安装即可</p><p><img src="https://s2.loli.net/2022/08/08/rP92kwEM3HAp5ne.png" /></p><p>然后就没啥好说的了，一键开启即可使用，开启后你就能随意访问<code>GitHub</code> 了</p><p><img src="https://s2.loli.net/2022/08/08/lKEaUStWQ4vojMB.png" /></p><p><spanclass="label label-warning">注意：</span>由于<code>electron</code>无法监听<code>Windows</code>的关机事件，开着本软件情况下直接重启电脑，会导致无法上网，你可以手动启动它即可恢复网络，你也可以将其设置为开机自启</p><h4 id="watt-tootkit原steam"><em>WattTootkit</em>(原<em>Steam++</em>)</h4><p>同样，也是一款通过反代加速游戏的软件，还顺便支持了<code>Pixiv</code>、<code>Discord</code>、<code>Twitch</code>等网站的反代，当然也包括<code>GitHub</code>：http://steampp.net/</p><p>目前已上架微软商店：https://www.microsoft.com/store/productId/9MTCFHS560NG</p><p>使用方法也很简单，选中<code>GitHub</code>后点击一键加速即可</p><p><img src="https://s2.loli.net/2022/08/08/aGfYqEo8SK5Vwk2.png" /></p><hr /><p>写了这么多，其实不止是为了帮助大家到<code>Github</code>下载好软件，更多还是为了帮助大家上<code>Github</code> 好好学习</p><p>毕竟<code>Github</code>上的清华大学、北京大学、浙江大学等课程共享项目，都是不可多得的好资源....</p><p><img src="https://s2.loli.net/2022/08/08/QLvmzFRnG6rciKs.png" /></p><p><img src="https://s2.loli.net/2022/08/08/5AfWxNgt27IcMi3.png" /></p>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
      <category>GitHub</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NOI Linux的安装及其美化教程</title>
    <link href="/posts/7d11302b.html"/>
    <url>/posts/7d11302b.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>作为一名OIer，在OJ上刷题时，经常会遇见本地运行无误而提交后WA的情况。这大概率是由于系统环境不同导致的。所以，我们有必要在NOILinux上调试程序<span id="more"></span>（其实比赛的时候就是用这个，早晚都得用），顺便美化一下</p><h2 id="安装noi-linux">安装NOI Linux</h2><h5 id="安装vmware">1.安装VMware</h5><p><del>（如果你真的想在实体机安装也行）</del></p><p><ahref="https://www.vmware.com/go/getworkstation-win">官方下载</a>（有点慢，可以上网找国内镜像）</p><p>（还有精简版，但是似乎不是很稳定）</p><p>激活密钥：<code>ZF3R0-FHED2-M80TY-8QYGC-NPKYF</code> （16版本）</p><h5 id="下载noi-linux镜像">2.下载NOI Linux镜像</h5><p>从CCF官网下载就行</p><p><ahref="https://noiresources.ccf.org.cn/ubuntu-noi-v2.0.iso">下载链接</a></p><h5 id="创建虚拟机">3.创建虚拟机</h5><p>在<code>VMware Workstation</code>中按<code>Ctrl+N</code>新建虚拟机，配置选择典型，安装来源选择下载好的<code>NOILinux</code>镜像，操作系统选择<code>Linux-Ubuntu 64位</code></p><figure><img src="https://s2.loli.net/2022/08/08/eZBGF5aATbtWR6M.png"alt="选择操作系统" /><figcaption aria-hidden="true">选择操作系统</figcaption></figure><p>名称随便选，位置除了C盘随便放（剩余空间尽可能大），磁盘大小符合你的硬盘容量，并将虚拟磁盘储存为单个文件</p><figure><img src="https://s2.loli.net/2022/08/08/LuTwl12ic5zQv3m.png"alt="磁盘容量设置" /><figcaption aria-hidden="true">磁盘容量设置</figcaption></figure><p>完成后即可看到下面的样子</p><figure><img src="https://s2.loli.net/2022/08/08/AskIHfY3pyaFBLU.png"alt="完成设置" /><figcaption aria-hidden="true">完成设置</figcaption></figure><p>点击左面设备信息即可更改设置，如虚拟机内存和处理器个数，可以根据实际情况稍微调大一点。</p><p>需要注意的是，CCF说安装时不能联网，怕破坏它封装的系统。这个时候，我们就可以设置网络适配器，把启动时连接勾掉就行</p><p>点击顶部工具栏的绿箭头，启动虚拟机</p><h5 id="安装系统">4.安装系统</h5><p>等进度条滚完，看到下面这个界面，不要怕，下面有简体中文，选他，并点击右面的“安装Ubuntu”</p><figure><img src="https://s2.loli.net/2022/08/08/FHcbWoL2k9YGjPE.png"alt="安装界面" /><figcaption aria-hidden="true">安装界面</figcaption></figure><p>一路继续即可，用户名等选项自己选，然后又是漫长的等待。。。。</p><p>之后重启，在引导界面点击回车（确认已移除安装媒介）</p><p>进入系统，画面如下</p><figure><img src="https://s2.loli.net/2022/08/08/bpv5GaWhZSPu7JO.png"alt="NOI-Linux界面" /><figcaption aria-hidden="true">NOI-Linux界面</figcaption></figure><p><del>（内心独白：这什么破玩意，长这个熊样，还奇小无比）</del></p><p>为了解决画面问题，我们需要安装<code>VMWare Tools</code></p><p>在上方点击<code>虚拟机-安装VMWare Tools</code>，系统会再入一个光盘，打开并解压其中内容</p><figure><img src="https://s2.loli.net/2022/08/08/XoTvc6gUpE8L79r.png"alt="解压后的文件目录" /><figcaption aria-hidden="true">解压后的文件目录</figcaption></figure><p>右键，选择在终端中打开，输入下面指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo ./vmware-install.pl<br></code></pre></td></tr></table></figure><p>输入密码，一路回车即可。待脚本执行完毕，重启系统，系统就会自适应你的屏幕大小</p><p>至此第一部分结束</p><h2 id="美化系统">美化系统</h2><h5 id="换源">换源</h5><p>这个时候在右下角找到网络连接的图标，点击连接</p><p>点击系统左下角的九个点，找到软件和更新，将下载服务器改为其他站点-阿里云/清华云</p><figure><img src="https://s2.loli.net/2022/08/08/wRUYOQDIick4fnA.png"alt="软件源服务器" /><figcaption aria-hidden="true">软件源服务器</figcaption></figure><p>点击关闭，重新加载并重启虚拟机</p><p><code>Ctrl+Alt+T</code>打开终端，执行以下命令</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">sudo apt update<br>sudo apt <span class="hljs-keyword">install </span>gnome-tweaks chrome-gnome-<span class="hljs-keyword">shell</span><br><span class="hljs-keyword"></span>sudo apt <span class="hljs-keyword">install </span>gtk2-engines-murrine gtk2-engines-pixbuf <br>sudo apt <span class="hljs-keyword">install </span>sassc optipng inkscape libcanberra-gtk-module libglib2.<span class="hljs-number">0</span>-dev libxml2-utils<br></code></pre></td></tr></table></figure><h5 id="安装一些必要的插件">安装一些必要的插件</h5><p><code>Ubuntu 20.04</code>（即<code>NOI Linux</code>所使用的系统）默认使用的是 <code>gnome</code>的桌面环境，本文的美化也是基于 <code>gnome</code> 桌面环境，美化<code>gnome</code> 桌面环境少不了安装 <code>gnome</code>插件，<code>gnome</code>插件的网址是：<ahref="https://link.zhihu.com/?target=https%3A//extensions.gnome.org">https://extensions.gnome.org</a></p><p>首次打开，提示要在 <code>Firefox</code> 浏览器中安装<code>gnome extensions</code>的扩展包，点击安装，安装浏览器弹出的提示依次确认即可。安装好扩展包后刷新以下浏览器页面就可以开始安装<code>gnome</code>插件了。我们需要预先安装的插件有如下几个，分别搜索出来安装就可以了。</p><ul><li>user themes</li><li>dash to dock</li><li>netspeed</li></ul><p>在<code>gnome</code>插件首页搜索要安装的插件,点进去之后右手边有一个黑框,设为<code>on</code>即可</p><h5 id="下载必要的美化包">下载必要的美化包</h5><p>所有的美化包都可以从 <ahref="https://link.zhihu.com/?target=https%3A//www.gnome-look.org/">https://www.gnome-look.org</a>这个网站下载的，我列出本次美化需要下载的美化包的详细下载地址。</p><ul><li><p>主题包：<code>WhiteSur Gtk Theme</code></p></li><li><ul><li><ahref="https://link.zhihu.com/?target=https%3A//www.gnome-look.org/p/1403328/">https://www.gnome-look.org/p/1403328/</a></li></ul></li><li><p>Icons 图标：<code>WhiteSur icon theme</code></p></li><li><ul><li><ahref="https://link.zhihu.com/?target=https%3A//www.pling.com/p/1405756/">https://www.pling.com/p/1405756/</a></li></ul></li><li><p>鼠标图标：<code>McMojave cursors</code></p></li><li><ul><li><ahref="https://link.zhihu.com/?target=https%3A//www.pling.com/p/1355701/">https://www.pling.com/p/1355701/</a></li></ul></li><li><p>壁纸：<code>WhiteSur Wallpaper</code></p></li><li><ul><li><ahref="https://link.zhihu.com/?target=https%3A//www.pling.com/p/1398833/">https://www.pling.com/p/1398833/</a></li></ul></li><li><p>Firefox 浏览器美化：</p></li><li><ul><li>参考：<ahref="https://link.zhihu.com/?target=https%3A//github.com/vinceliuice/WhiteSur-gtk-theme/tree/master/src/other/firefox">https://github.com/vinceliuice/WhiteSur-gtk-theme/tree/master/src/other/firefox</a></li></ul></li></ul><h5 id="安装主题包">安装主题包</h5><p>Ubuntu 20.04 为所有用户提供的默认存放主题的文件夹分别如下：</p><ul><li>主题包：<code>/usr/share/themes/</code></li></ul><p>将下载好的主题包解压到这个目录，或者解压后拷贝到这个目录。</p><ul><li>Icons 图标：<code>/usr/share/icons</code></li></ul><p>将下载好的 Icons 图标解压到这个目录，或者解压后拷贝到这个目录。</p><ul><li>鼠标图标：<code>/usr/share/icons</code></li></ul><p>将下载好的鼠标图标解压到这个目录，或者解压后拷贝到这个目录。</p><ul><li>选择下载的壁纸图片，右键设置为壁纸即可。</li></ul><p>当然也可以直接运行其中以<code>.sh</code>结尾的脚本文件，具体执行哪个参见官方文档，如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo ./install.sh<br></code></pre></td></tr></table></figure><p>上面的操作一定要保证正确无误，接下来（如有必要可重启虚拟机）就可以选择这些主题包，并让其生效了。</p><p>打开 <code>gnome-tweaks</code> （优化）工具，如下图：</p><figure><img src="https://s2.loli.net/2022/08/08/9HzESC3tkTrlsV1.png"alt="设置主题" /><figcaption aria-hidden="true">设置主题</figcaption></figure><p>选中后桌面和图标、鼠标图标，<code>shell</code>主题等都相应的变化了，注意对比。</p><h5 id="安装-plank-dock-工具">安装 Plank Dock 工具</h5><p>打开终端 ，输入如下命令安装 <code>plank</code>。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo apt install plank<br></code></pre></td></tr></table></figure><p>安装好后打开 <code>gnome-tweaks</code> 工具，设置 <code>Plank</code>为开机启动，如下图：</p><figure><img src="https://s2.loli.net/2022/08/08/5oFRGV9NlJS21Wf.png"alt="设置Plank开机启动" /><figcaption aria-hidden="true">设置Plank开机启动</figcaption></figure><p>还记得之前在浏览器安装的 <code>dash to dock</code> 吗？现在有了<code>plank</code>，我们就不再需要它了，现在在浏览器上打开<code>gnome</code>插件的网站，在已安装的插件中找到<code>dash to dock</code>。删除它之前我们还要用它做一些配置，点击像扳手一样的图标进行设置。</p><p>选择 <code>dock</code> 在底部显示</p><figure><img src="https://s2.loli.net/2022/08/08/rvFRCPTitqJOoAN.png"alt="Plank设置-1" /><figcaption aria-hidden="true">Plank设置-1</figcaption></figure><p><code>plank</code> 默认没有动画效果，将鼠标放在 <code>plank</code>边缘，然后右键出现如下菜单，选择首选项进行设置。</p><figure><img src="https://s2.loli.net/2022/08/08/6YWrl5FwROeQk9a.png"alt="Plank设置-2" /><figcaption aria-hidden="true">Plank设置-2</figcaption></figure><h5 id="gnome-tweaks-设置">gnome-tweaks 设置</h5><ul><li>关闭桌面显示的图标</li></ul><p>桌面有个家目录和回收站的图标，居然删除不了，别担心，打开 gnome-tweaks软件，如下图，点击 Desktop icons插件后面的设置图标，弹出右边的设置菜单。</p><figure><img src="https://s2.loli.net/2022/08/08/2eCqnScI7rjBZF5.png"alt="Gnome-Tweaks扩展" /><figcaption aria-hidden="true">Gnome-Tweaks扩展</figcaption></figure><p>将设置菜单中的两个开关关闭即可，如下图：</p><figure><img src="https://s2.loli.net/2022/08/08/nkIC4iWJ2jPS9fw.png"alt="Desktop Icons设置" /><figcaption aria-hidden="true">Desktop Icons设置</figcaption></figure><ul><li>部状态栏显示设置</li></ul><p>如上图，将后边的开关都打开，注意顶部状态栏的变化。</p><h5 id="firefox-浏览器设置">Firefox 浏览器设置</h5><p>在下载的<code>White Sur</code> 主题目录打开终端，运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo ./tweaks.sh -f<br></code></pre></td></tr></table></figure><p>重启<code>Firefox</code>浏览器，在地址栏输入<code>about:config</code>，回车，在打开的页面点击接受，接着在打开的页面中搜索：</p><p><code>toolkit.legacyUserProfileCustomizations.stylesheets</code>双击把它的值改为<code>true</code></p><p><code>layers.acceleration.force-enabled</code>双击把它的值改为<code>true</code></p><p>重启浏览器看效果吧。</p><p>重启后点击浏览器右上角的设置按钮，选择设置-个性化，在底部微调浏览器样式</p>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GitHub Pages+Hexo搭建个人博客</title>
    <link href="/posts/39651.html"/>
    <url>/posts/39651.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>很多人都想搭建自己的博客，但是奈何技术有限，服务器部署，HTML，域名解析，等等，这一大堆东西可真有的折腾。</p><p>但是如果有这样一个机会，不需要太复杂的操作，不要服务器，不要域名，不用写html，你愿意去尝试吗？</p><span id="more"></span><p>✨<strong>进入正题</strong></p><h3 id="准备工作">🎨准备工作</h3><h5 id="注册github不会请自行百度">0.注册<ahref="https://github.com">GitHub</a>,不会请自行百度</h5><h5 id="安装git">1.安装<ahref="https://git-scm.com/download/">Git</a></h5><h5 id="安装node.js">2.安装<ahref="https://nodejs.org/en/download/">Node.js</a></h5><p>安装后打开<code>cmd</code>输入以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ node -v<br>$ npm -v<br>$ git --version<br></code></pre></td></tr></table></figure><p>结果如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; 8.5.5<br>&gt; v16.15.0<br>&gt; git version 2.36.0.windows.1<br></code></pre></td></tr></table></figure><h5 id="安装hexo">3.安装Hexo</h5><p>在<code>cmd</code>中输入<code>npm install hexo cli -g</code></p><p>之后输入<code>hexo -v</code>检查安装是否成功</p><h5 id="配置git">4.配置Git</h5><p>打开<code>Git Bash</code></p><figure><img src="https://s2.loli.net/2022/08/08/fnDcKmW5bxJUT39.png"alt="Git" /><figcaption aria-hidden="true">Git</figcaption></figure><p>设置用户名和电子邮件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git config --global user.name <span class="hljs-string">&quot;你的GitHub用户名&quot;</span><br>$ git config --global user.email <span class="hljs-string">&quot;你的GitHub注册邮箱&quot;</span><br></code></pre></td></tr></table></figure><p>生成密钥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ ssh-keygen -t rsa -C <span class="hljs-string">&quot;你的GitHub注册邮箱&quot;</span><br></code></pre></td></tr></table></figure><p>找到<code>id_rsa.pub</code>, 复制全部内容</p><p>到<ahref="https://github.com/settings/keys">GitHub_Settings_Keys</a>界面,新建<code>SSH Key</code></p><p>检查设置是否成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ ssh git@github.com<br></code></pre></td></tr></table></figure><h5 id="创建并设置github储存库">5.创建并设置GitHub储存库</h5><p>登录后点击“+”号，选择New repository，下一步 在Repositoryname下面填写你要创建的地址，这个地址是就是你的域名，以github.io结尾。例如填写<code>yourname.github.io</code>以后就在地址栏直接输入<code>yourname.github.io</code>就可以访问网站按照提示一步步完成创建，最后样子如下</p><figure><img src="https://s2.loli.net/2022/08/08/S9ep8MmLFT4iGBy.png"alt="完成仓库创建" /><figcaption aria-hidden="true">完成仓库创建</figcaption></figure><h5 id="初始化hexo">6.初始化Hexo</h5><p>创建一个文件夹，用于存放Hexo，然后右键选择<code>Git Bash Here</code></p><p>克隆GitHub上的项目</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">clone</span> https://github.com/yourname/yourname.github.io.git<br></code></pre></td></tr></table></figure><p>定位目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">cd</span> yourname.github.io<br></code></pre></td></tr></table></figure><p>安装相关工具</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install hexo --save<br></code></pre></td></tr></table></figure><p>完成后输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo init<br>$ npm install<br>$ hexo g<br></code></pre></td></tr></table></figure><p>此时已经基本完成，若想查看效果，可以输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo s<br></code></pre></td></tr></table></figure><p>打开<ahref="http://localhost:4000">http://localhost:4000</a>即可查看</p><h3 id="个性化">🎈个性化</h3><div class="note note-success">            <p>这里的博客配置指根目录下的<code>_config.yml</code>，主题配置指<code>/themes/fluid/_config.yml</code></p>          </div><h5 id="安装主题">安装主题</h5><p>可以直接到GitHub上搜索<code>hexo-theme</code>，或在Hexo主题商店中搜索，也可以通过<code>npm</code>直接安装，具体详见主题说明</p><p>这里以<code>Fluid</code>主题为例</p><p>方式一：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install --save hexo-theme-fluid<br></code></pre></td></tr></table></figure><p>方式二：</p><p>下载 <ahref="https://github.com/fluid-dev/hexo-theme-fluid/releases">最新release 版本</a>解压到 themes 目录，并将解压出的文件夹重命名为<code>fluid</code>。</p><p>在博客配置中修改内容</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">theme:</span> <span class="hljs-string">fluid</span>  <span class="hljs-comment"># 指定主题</span><br><br><span class="hljs-attr">language:</span> <span class="hljs-string">zh-CN</span>  <span class="hljs-comment"># 指定语言，会影响主题显示的语言，按需修改</span><br></code></pre></td></tr></table></figure><p>同时，可以更改网站信息</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Site</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">网站标题</span><br><span class="hljs-attr">subtitle:</span> <span class="hljs-string">副标题</span><br><span class="hljs-attr">description:</span> <span class="hljs-string">个人签名</span><br><span class="hljs-attr">author:</span> <span class="hljs-string">姓名</span><br><span class="hljs-attr">language:</span> <span class="hljs-string">zh-cn</span><br><span class="hljs-attr">timezone:</span><br></code></pre></td></tr></table></figure><div class="note note-warning">            <p>1.所有的配置“:”符号后面都要带空格，否则执行本地测试直接失败。2.language是设置语言。zh-cn是中文。3.如果设置zh-cn后仍出现乱码问题。需要更改文件的字符编码集为UTF-8,方法很多具体就不详细介绍了。</p>          </div><p>注意同时要在博客配置中设置自己的远程仓库地址</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Deployment</span><br><span class="hljs-comment">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-string">https://github.com/yourname/yourname.github.io.git</span><br>  <span class="hljs-attr">branch:</span> <span class="hljs-string">main</span><br></code></pre></td></tr></table></figure><h5 id="其他花里胡哨的东西见进阶篇">其他花里胡哨的东西见进阶篇</h5><h3 id="部署">🎉部署</h3><p>继续在本目录命令行 1.安装部署工具（方便以后更新）<code>npm install hexo-deployer-git --save</code> 2.发布Hexo到GitHubPage <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code></p><p>以后可以用第二步命令部署。</p><p>一段时间后，访问https://yourname.github.io就可以看见你的博客了</p><h3 id="进阶">👑进阶</h3><p>先照着<ahref="https://hexo.fluid-dev.com/docs/">Fluid的文档</a>操作吧。。。</p><h4 id="评论插件">评论插件</h4><p>以Fluid支持的插件为例</p><p><a href="https://valine.js.org/configuration.html">Valine</a>(基于LeanCloud) / <a href="https://waline.js.org/">Waline</a> (从 Valine衍生而来，额外增加了服务端和多种功能)</p><p><a href="https://github.com/gitalk/gitalk">Gitalk</a>/<ahref="https://utteranc.es">Utterances</a> (基于GitHub Issues) <ahref="https://giscus.app">Giscus</a>(基于Github Discussions)</p><p><a href="https://disqus.com">Disqus</a> / <ahref="http://changyan.kuaizhan.com">畅言</a> / <ahref="https://www.livere.com">来必力(Livere)</a> (基于第三方的服务)</p><p><a href="https://remark42.com">Remark42</a> (需要自托管服务端)</p><p><a href="https://twikoo.js.org">Twikoo</a> (基于腾讯云开发)</p><p><a href="https://cusdis.com">Cusdis</a>(基于第三方服务或自托管服务)</p><h6 id="valinewaline">1.Valine/Waline</h6><p>注册<ahref="https://leancloud.app">LeanCloud</a>，并按要求验证邮箱、手机号，账户类型选择个人</p><p><spanclass="label label-danger">注意</span>获取验证码时不要着急！不要着急！不要着急！</p><figure><img src="https://s2.loli.net/2022/08/08/FBS3apmAuiCHtZO.png"alt="账户类型" /><figcaption aria-hidden="true">账户类型</figcaption></figure><p>接着点击创建应用，名称随便填，计价方案选择开发版</p><figure><img src="https://s2.loli.net/2022/08/08/SrwzFu5WDfYdsXy.png"alt="创建LeanCloud应用" /><figcaption aria-hidden="true">创建LeanCloud应用</figcaption></figure><p>创建之后在设置-应用凭据中复制<code>AppID</code>、<code>AppKey</code>、<code>MasterKey</code></p><p>对于Valine，将<code>AppID</code>和<code>AppKey</code>复制到主题配置对应位置即可</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">valine:</span><br>  <span class="hljs-attr">appId:</span> <span class="hljs-comment">#你的AppID</span><br>  <span class="hljs-attr">appKey:</span> <span class="hljs-comment">#你的AppKey</span><br>  <span class="hljs-attr">path:</span> <span class="hljs-string">window.location.pathname</span><br>  <span class="hljs-attr">placeholder:</span> <span class="hljs-comment">#评论框占位提示符</span><br>  <span class="hljs-attr">avatar:</span> <span class="hljs-string">&#x27;retro&#x27;</span> <span class="hljs-comment">#Gravatar 头像展示方式</span><br>  <span class="hljs-attr">meta:</span> [<span class="hljs-string">&#x27;nick&#x27;</span>, <span class="hljs-string">&#x27;mail&#x27;</span>, <span class="hljs-string">&#x27;link&#x27;</span>] <span class="hljs-comment">#评论者相关属性</span><br>  <span class="hljs-attr">requiredFields:</span> [<span class="hljs-string">&#x27;nick&#x27;</span>,<span class="hljs-string">&#x27;mail&#x27;</span>] <span class="hljs-comment">#设置必填项，默认匿名</span><br>  <span class="hljs-attr">pageSize:</span> <span class="hljs-number">10</span> <span class="hljs-comment">#评论列表分页，每页条数</span><br>  <span class="hljs-attr">lang:</span> <span class="hljs-string">&#x27;zh-CN&#x27;</span> <span class="hljs-comment">#多语言支持</span><br>  <span class="hljs-attr">highlight:</span> <span class="hljs-literal">false</span> <span class="hljs-comment">#代码高亮，默认开启，若不需要，请手动关闭</span><br>  <span class="hljs-attr">recordIP:</span> <span class="hljs-literal">true</span> <span class="hljs-comment">#是否记录评论者IP</span><br>  <span class="hljs-attr">serverURLs:</span> <span class="hljs-string">&#x27;&#x27;</span> <br>  <span class="hljs-attr">emojiCDN:</span> <span class="hljs-comment">#设置表情包CDN</span><br>  <span class="hljs-attr">emojiMaps:</span> <span class="hljs-comment">#设置表情包映射</span><br>  <span class="hljs-attr">enableQQ:</span> <span class="hljs-literal">true</span> <span class="hljs-comment">#是否启用昵称框自动获取QQ昵称和QQ头像</span><br><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/1ea7WobtAnhNYfO.png"alt="Valine" /><figcaption aria-hidden="true">Valine</figcaption></figure><p>对于Waline，则需<ahref="https://vercel.com/signup">注册Vercel</a>，并点击下面按钮部署Waline</p><p><ahref="https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fwalinejs%2Fwaline%2Ftree%2Fmain%2Fexample"><imgsrc="https://vercel.com/button" alt="img" /></a></p><p>看完满屏的烟花后，点击顶部的 <code>Settings</code> -<code>Environment Variables</code>进入环境变量配置页，并配置三个环境变量 <code>LEAN_ID</code>,<code>LEAN_KEY</code> 和 <code>LEAN_MASTER_KEY</code>。它们的值分别对应上一步在 <code>LeanCloud</code> 中获得的<code>AppID</code>, <code>AppKey</code>, <code>Master Key</code>。</p><p>环境变量配置完成之后点击顶部的 <code>Deployments</code>点击顶部最新的一次部署右侧的 <code>Redeploy</code>按钮进行重新部署。该步骤是为了让刚才设置的环境变量生效。</p><p>此时会跳转到 <code>Overview</code> 界面开始部署，等待片刻后<code>STATUS</code> 会变成 <code>Ready</code>。此时请点击<code>Visit</code>，即可跳转到部署好的网站地址，此地址即为你的服务端地址。</p><p>看完满屏的烟花后，点击顶部的 <code>Settings</code> -<code>Environment Variables</code>进入环境变量配置页，并配置三个环境变量 <code>LEAN_ID</code>,<code>LEAN_KEY</code> 和 <code>LEAN_MASTER_KEY</code>。它们的值分别对应上一步在 <code>LeanCloud</code> 中获得的<code>AppID</code>, <code>AppKey</code>, <code>Master Key</code>。</p><p>环境变量配置完成之后点击顶部的 <code>Deployments</code>点击顶部最新的一次部署右侧的 <code>Redeploy</code>按钮进行重新部署。该步骤是为了让刚才设置的环境变量生效。</p><p>此时会跳转到 <code>Overview</code> 界面开始部署，等待片刻后<code>STATUS</code> 会变成 <code>Ready</code>。此时请点击<code>Visit</code>，即可跳转到部署好的网站地址，此地址即为你的服务端地址。</p><p>将服务端地址复制到主题配置对应位置即可</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">waline:</span><br>  <span class="hljs-attr">serverURL:</span> <span class="hljs-string">&#x27; &#x27;</span> <span class="hljs-comment">#服务端地址</span><br>  <span class="hljs-attr">path:</span> <span class="hljs-string">window.location.pathname</span><br>  <span class="hljs-attr">placeholder:</span> <span class="hljs-comment">#评论框占位提示符</span><br>  <span class="hljs-attr">meta:</span> [<span class="hljs-string">&#x27;nick&#x27;</span>, <span class="hljs-string">&#x27;mail&#x27;</span>, <span class="hljs-string">&#x27;link&#x27;</span>] <span class="hljs-comment">#评论者相关属性</span><br>  <span class="hljs-attr">requiredMeta:</span> [<span class="hljs-string">&#x27;nick&#x27;</span>] <span class="hljs-comment">#设置必填项，默认匿名</span><br>  <span class="hljs-attr">lang:</span> <span class="hljs-string">&#x27;zh-CN&#x27;</span> <span class="hljs-comment">#多语言支持</span><br>  <span class="hljs-attr">emoji:</span> [<span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo&#x27;</span>] <span class="hljs-comment">#Emoji样式，详见官方文档</span><br>  <span class="hljs-attr">dark:</span> <span class="hljs-string">&#x27;html[data-user-color-scheme=&quot;dark&quot;]&#x27;</span> <span class="hljs-comment">#暗黑模式样式</span><br>  <span class="hljs-attr">avatar:</span> <span class="hljs-string">&#x27;retro&#x27;</span> <span class="hljs-comment">#Gravatar 头像展示方式</span><br>  <span class="hljs-attr">avatarCDN:</span> <span class="hljs-string">&#x27;https://seccdn.libravatar.org/avatar/&#x27;</span> <span class="hljs-comment">#GravatarCDN</span><br>  <span class="hljs-attr">avatarForce:</span> <span class="hljs-literal">false</span> <br>  <span class="hljs-attr">wordLimit:</span> <span class="hljs-number">0</span> <span class="hljs-comment">#字数限制</span><br>  <span class="hljs-attr">pageSize:</span> <span class="hljs-number">10</span> <span class="hljs-comment">#评论列表分页，每页条数</span><br>  <span class="hljs-attr">highlight:</span> <span class="hljs-literal">true</span> <span class="hljs-comment">#代码高亮</span><br><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/XdfjK3NlOEz6gyG.png"alt="Waline" /><figcaption aria-hidden="true">Waline</figcaption></figure><h6 id="twikoo">2.Twikoo</h6><ol type="1"><li><p>申请 <ahref="https://www.mongodb.com/cloud/atlas/register">MongoDB</a>账号</p></li><li><p>创建免费 MongoDB 数据库，区域推荐选择<code>AWS / N. Virginia (us-east-1)</code></p></li><li><p>在 <code>Clusters</code> 页面点击<code>CONNECT</code>，按步骤设置允许所有 <code>IP</code>地址的连接，创建数据库用户，并记录数据库连接字符串，请将连接字符串中的<code>&lt;password&gt;</code> 修改为数据库密码，<code>myFirstDatabase</code>替换为数据库名</p></li><li><p>申请 <a href="https://vercel.com/signup">Vercel</a>账号</p></li><li><p>点击以下按钮将 Twikoo 一键部署到 Vercel <ahref="https://vercel.com/import/project?template=https://github.com/imaegoo/twikoo/tree/main/src/vercel-min"><imgsrc="https://vercel.com/button" alt="img" /></a></p></li><li><p>进入 <code>Settings - Environment Variables</code>，添加环境变量<code>MONGODB_URI</code>，值为第 3 步的数据库连接字符串</p></li><li><p>进入<code>Deployments</code> ,然后在任意一项后面点击更多（三个点） , 然后点击<code>Redeploy</code>,最后点击下面的<code>Redeploy</code></p></li><li><p>进入 <code>Overview</code>，点击 <code>Domains</code>下方的链接，如果环境配置正确，可以看到 “Twikoo 云函数运行正常”的提示</p></li><li><p><code>Vercel Domains</code>（包含 <code>https://</code>前缀，例如 <code>https://xxx.vercel.app</code>）即为您的环境 ID</p></li><li><p>将环境ID粘贴到主题配置中即可</p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">twikoo:</span><br>    <span class="hljs-attr">envId:</span> <span class="hljs-comment">#环境ID</span><br>    <span class="hljs-attr">region:</span> <span class="hljs-string">ap-shanghai</span><br>    <span class="hljs-attr">path:</span> <span class="hljs-string">window.location.pathname</span><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/PhfQaUuJMvtqAmC.png"alt="Twikoo" /><figcaption aria-hidden="true">Twikoo</figcaption></figure><h6 id="gitalkutterancesgiscus">3.Gitalk/Utterances/Giscus</h6><p>对于Gitalk，需要到<code>GitHub</code>的<code>Settings-Developer settings-OAuth Apps</code>中申请新的OAuthApp，<code>Homepage URL</code>和<code>Authorization callback URL</code>填自己博客网址</p><p>得到的<code>Client ID</code>和<code>Client secrets</code>填入主题设置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">gitalk:</span><br>  <span class="hljs-attr">clientID:</span> <span class="hljs-comment">#必须.GitHub Application Client ID.</span><br>  <span class="hljs-attr">clientSecret:</span> <span class="hljs-comment">#必须.GitHub Application Client Secret.</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-string">必须.用于提交Issue的GitHub</span> <span class="hljs-string">repository.</span><br>  <span class="hljs-attr">owner:</span> <span class="hljs-comment">#必须.GitHub repository所有者,可以是个人或者组织.</span><br>  <span class="hljs-attr">admin:</span> [<span class="hljs-string">&#x27;&#x27;</span>] <span class="hljs-comment">#必须.GitHub repository的所有者和合作者(对这个repository有写权限的用户).</span><br>  <span class="hljs-attr">language:</span> <span class="hljs-string">zh-CN</span> <span class="hljs-comment">#设置语言</span><br>  <span class="hljs-attr">labels:</span> [<span class="hljs-string">&#x27;Gitalk&#x27;</span>] <span class="hljs-comment">#GitHub issue 的标签。</span><br>  <span class="hljs-attr">perPage:</span> <span class="hljs-number">10</span> <span class="hljs-comment">#每次加载的数据大小，最多 100。</span><br>  <span class="hljs-attr">pagerDirection:</span> <span class="hljs-string">last</span> <span class="hljs-comment">#评论排序方式,last为按评论创建时间倒叙,first为按创建时间正序.</span><br>  <span class="hljs-attr">distractionFreeMode:</span> <span class="hljs-literal">false</span> <span class="hljs-comment">#类似Facebook评论框的全屏遮罩效果.</span><br>  <span class="hljs-attr">createIssueManually:</span> <span class="hljs-literal">true</span> <span class="hljs-comment">#如果当前页面没有相应的isssue且登录的用户属于admin,则会自动创建issue.如果设置为true,则显示一个初始化页面,创建issue需要点击init按钮.</span><br>  <span class="hljs-comment"># 默认 proxy 可能会失效，解决方法请见下方链接</span><br>  <span class="hljs-comment"># The default proxy may be invalid, refer to the links for solutions</span><br>  <span class="hljs-comment"># https://github.com/gitalk/gitalk/issues/429</span><br>  <span class="hljs-comment"># https://github.com/Zibri/cloudflare-cors-anywhere</span><br>  <span class="hljs-attr">proxy:</span> <span class="hljs-string">https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token</span><br><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/UFC1ZBxdzy75kt6.png"alt="Gitalk" /><figcaption aria-hidden="true">Gitalk</figcaption></figure><p>对于Utterances和Giscus ，</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">utterances:</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-comment">#用于提交Issue的GitHub repository,格式为用户名/仓库名</span><br>  <span class="hljs-attr">issue_term:</span> <span class="hljs-string">title</span> <span class="hljs-comment">#Issue命名方式,见官网及生成代码中的&quot;issue-term&quot;行</span><br>  <span class="hljs-attr">label:</span> <span class="hljs-string">utterances</span> <span class="hljs-comment">#Issue标签</span><br>  <span class="hljs-attr">theme:</span> <span class="hljs-string">github-light</span> <span class="hljs-comment">#主题</span><br>  <span class="hljs-attr">theme_dark:</span> <span class="hljs-string">github-dark</span><br></code></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">giscus:</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-comment">#用于提交Issue的GitHub repository,格式为用户名/仓库名</span><br>  <span class="hljs-attr">repo-id:</span> <span class="hljs-comment">#用于提交Issue的GitHub repository ID,见官网生成代码，下同</span><br>  <span class="hljs-attr">category:</span> <span class="hljs-comment">#Discussions标签</span><br>  <span class="hljs-attr">category-id:</span> <span class="hljs-comment">#DiscussionID</span><br>  <span class="hljs-attr">theme-light:</span> <span class="hljs-string">light</span> <span class="hljs-comment">#主题</span><br>  <span class="hljs-attr">theme-dark:</span> <span class="hljs-string">dark</span><br>  <span class="hljs-attr">mapping:</span> <span class="hljs-string">pathname</span><br>  <span class="hljs-attr">reactions-enabled:</span> <span class="hljs-number">1</span><br>  <span class="hljs-attr">emit-metadata:</span> <span class="hljs-number">0</span><br>  <span class="hljs-attr">input-position:</span> <span class="hljs-string">top</span><br>  <span class="hljs-attr">lang:</span> <span class="hljs-string">zh-CN</span><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/6wj2YdJXSuesMLI.png"alt="Utterances" /><figcaption aria-hidden="true">Utterances</figcaption></figure><figure><img src="https://i.imgtg.com/2022/06/15/1ufsY.png" alt="Giscus" /><figcaption aria-hidden="true">Giscus</figcaption></figure><h6 id="cusdis">4.Cusdis</h6><p>创建账号后，点击<code>Embled Code</code>，将<code>data-app-id</code>复制到主题配置中</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">cusdis:</span><br>  <span class="hljs-attr">host:</span> <span class="hljs-string">https://cusdis.com</span> <span class="hljs-comment">#服务器,如不想部署使用这个即可</span><br>  <span class="hljs-attr">app_id:</span> <span class="hljs-comment">#data-app-id</span><br>  <span class="hljs-attr">lang:</span> <span class="hljs-string">zh-cn</span> <span class="hljs-comment">#语言</span><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/MSQbHJX2r9mkY3I.png"alt="Cudsis" /><figcaption aria-hidden="true">Cudsis</figcaption></figure><h6 id="畅言来必力disqusreamrk42">5.畅言/来必力/Disqus/Reamrk42</h6><p>畅言：注册账号后进入控制台，填写相关信息后到安装畅言-通用代码安装中复制AppID和Conf中的内容，粘贴到主题配置中</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">changyan:</span><br>  <span class="hljs-attr">appid:</span> <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">#appid</span><br>  <span class="hljs-attr">appkey:</span> <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">#conf</span><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/1mJCoPG5qWbRnf4.png"alt="畅言" /><figcaption aria-hidden="true">畅言</figcaption></figure><p>来必力：注册账号，填写相关信息后选择City版，在一般网站的安装代码中复制<code>uid</code>中的内容，粘贴到主题配置中</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">livere:</span><br>  <span class="hljs-attr">uid:</span> <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">#uid</span><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/f89unkacA1bJoKd.png"alt="来必力" /><figcaption aria-hidden="true">来必力</figcaption></figure><p>Disqus：被墙了。。。</p><p>国内用户可通过DisqusJs访问，但会报错</p><p>所以，换一个就是了</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">disqus:</span> <br>  <span class="hljs-attr">shortname:</span> <span class="hljs-comment">#Disqus的网站简名,在Settings-General中可见</span><br>  <span class="hljs-comment"># 以下为 Disqusjs 支持, 国内用户如果想使用 Disqus 建议配合使用</span><br>  <span class="hljs-comment"># The following are Disqusjs configurations, please ignore if DisqusJS is not required</span><br>  <span class="hljs-comment"># See: https://github.com/SukkaW/DisqusJS</span><br>  <span class="hljs-attr">disqusjs:</span> <span class="hljs-literal">true</span> <span class="hljs-comment">#开启DisqusJs</span><br>  <span class="hljs-attr">apikey:</span> <span class="hljs-comment">#DisqusAPI公钥,见DisqusJs文档</span><br><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/inqRZW86oeUugkp.png"alt="Disqus" /><figcaption aria-hidden="true">Disqus</figcaption></figure><p>Reamrk42：</p><p>还得另搞个服务器，免了罢</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">remark42:</span><br>  <span class="hljs-attr">host:</span> <span class="hljs-comment">#服务器地址</span><br>  <span class="hljs-attr">site_id:</span> <span class="hljs-comment">#使用Remark42的站点(官方说是选填)</span><br>  <span class="hljs-attr">max_shown_comments:</span> <span class="hljs-number">10</span> <span class="hljs-comment">#每页评论数</span><br>  <span class="hljs-attr">locale:</span> <span class="hljs-string">zh</span> <span class="hljs-comment">#本地化</span><br>  <span class="hljs-attr">components:</span> [<span class="hljs-string">&#x27;embed&#x27;</span>] <span class="hljs-comment">#可选[&#x27;embed&#x27; | &#x27;last-comments&#x27; | &#x27;counter&#x27;],为小部件,内容如下:</span><br>  <span class="hljs-comment">#componets:</span><br>  <span class="hljs-comment">#embed:基本评论小部件</span><br>  <span class="hljs-comment">#last-comments:最后评论小部件</span><br>  <span class="hljs-comment">#counter:计数器小部件</span><br>  <span class="hljs-comment">#具体内容参见官方文档</span><br><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2022/08/08/IbFKkrpyXqD8e3V.png"alt="Remark42" /><figcaption aria-hidden="true">Remark42</figcaption></figure><h4 id="插入音频视频">插入音频/视频</h4><h5 id="安装hexo-tag-aplayer">1.安装hexo-tag-aplayer</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install --save hexo-tag-aplayer<br></code></pre></td></tr></table></figure><h5 id="配置meetingjs">2.配置MeetingJS</h5><p>最新版的 hexo-tag-aplayer已经支持了MetingJS的使用，可以直接解析网络平台的歌曲（简直是神器），首先要在站点配置文件中开启Meting模式，添加以下代码在博客配置的最后</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">aplayer:</span><br>  <span class="hljs-attr">meting:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h5 id="插入代码">3.插入代码</h5><p>示例：</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mel">&#123;% meting <span class="hljs-string">&quot;5221167&quot;</span> <span class="hljs-string">&quot;netease&quot;</span> <span class="hljs-string">&quot;song&quot;</span> %&#125;<br></code></pre></td></tr></table></figure>    <div id="aplayer-Wpjtaxxj" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="5221167" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div><p>有关参数如下</p><table><thead><tr class="header"><th>选项</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr class="odd"><td>id</td><td><strong>必须值</strong></td><td>歌曲 id / 播放列表 id / 专辑 id / 搜索关键字</td></tr><tr class="even"><td>server</td><td><strong>必须值</strong></td><td>音乐平台: <code>netease</code>, <code>tencent</code>,<code>kugou</code>, <code>xiami</code>, <code>baidu</code></td></tr><tr class="odd"><td>type</td><td><strong>必须值</strong></td><td><code>song</code>, <code>playlist</code>, <code>album</code>,<code>search</code>, <code>artist</code></td></tr><tr class="even"><td>fixed</td><td><code>false</code></td><td>开启固定模式</td></tr><tr class="odd"><td>mini</td><td><code>false</code></td><td>开启迷你模式</td></tr><tr class="even"><td>loop</td><td><code>all</code></td><td>列表循环模式：<code>all</code>,<code>one</code>,<code>none</code></td></tr><tr class="odd"><td>order</td><td><code>list</code></td><td>列表播放模式： <code>list</code>, <code>random</code></td></tr><tr class="even"><td>volume</td><td>0.7</td><td>播放器音量</td></tr><tr class="odd"><td>lrctype</td><td>0</td><td>歌词格式类型</td></tr><tr class="even"><td>listfolded</td><td><code>false</code></td><td>指定音乐播放列表是否折叠</td></tr><tr class="odd"><td>storagename</td><td><code>metingjs</code></td><td>LocalStorage 中存储播放器设定的键名</td></tr><tr class="even"><td>autoplay</td><td><code>true</code></td><td>自动播放，移动端浏览器暂时不支持此功能</td></tr><tr class="odd"><td>mutex</td><td><code>true</code></td><td>该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</td></tr><tr class="even"><td>listmaxheight</td><td><code>340px</code></td><td>播放列表的最大长度</td></tr><tr class="odd"><td>preload</td><td><code>auto</code></td><td>音乐文件预载入模式，可选项： <code>none</code>,<code>metadata</code>, <code>auto</code></td></tr><tr class="even"><td>theme</td><td><code>#ad7a86</code></td><td>播放器风格色彩设置</td></tr></tbody></table><h5 id="安装hexo-tag-dplayer">4.安装hexo-tag-dplayer</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install --save hexo-tag-dplayer<br></code></pre></td></tr></table></figure><h5 id="插入代码-1">5.插入代码</h5><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gcode">&#123;<span class="hljs-meta">%</span> dplayer <span class="hljs-string">&quot;url=https://upos-sz-mirrorcos.bilivideo.com/upgcxcode/99/91/137649199/137649199_u2-1-208.mp4?e=ig8euxZM2rNcNbKV7bdVhwdl7wdjhwdVhoNvNC8BqJIzNbfq9rVEuxTEnE8L5F6VnEsSTx0vkX8fqJeYTj_lta53NCM=&amp;uipk=5&amp;nbs=1&amp;deadline=1652176861&amp;gen=playurlv2&amp;os=bcache&amp;oi=1866715013&amp;trid=0000ca486ebf27a34fabaf5a2673f985ea3fT&amp;platform=html5&amp;upsig=24557526f2dd14de85b5294ad7c6792b&amp;uparams=e,uipk,nbs,deadline,gen,os,oi,trid,platform&amp;cdnid=3280&amp;mid=0&amp;bvc=vod&amp;nettype=0&amp;bw=407108&amp;orderid=0,1&amp;logo=80000000&quot;</span>  <span class="hljs-string">&quot;autoplay=true&quot;</span> <span class="hljs-string">&quot;preload=metadata&quot;</span> <span class="hljs-string">&quot;hotkey=true&quot;</span> <span class="hljs-meta">%</span>&#125; <br></code></pre></td></tr></table></figure><p>有关的选项列表如下:</p><table><thead><tr class="header"><th>选项</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr class="odd"><td>url</td><td><strong>必须值</strong></td><td>视频地址</td></tr><tr class="even"><td>loop</td><td><code>false</code></td><td>视频循环播放</td></tr><tr class="odd"><td>volume</td><td><code>0.7</code></td><td>播放器音量</td></tr><tr class="even"><td>hotkey</td><td><code>true</code></td><td>开启热键</td></tr><tr class="odd"><td>autoplay</td><td><code>true</code></td><td>自动播放，移动端浏览器暂时不支持此功能</td></tr><tr class="even"><td>logo</td><td><code>-</code></td><td>在左上角展示一个 logo，你可以通过 CSS 调整它的大小和位置</td></tr><tr class="odd"><td>mutex</td><td><code>true</code></td><td>该选项开启时，如果同页面有其他播放，该播放器会暂停</td></tr><tr class="even"><td>highlight</td><td><code>[]</code></td><td>自定义进度条提示点</td></tr><tr class="odd"><td>preload</td><td><code>auto</code></td><td>视频文件预载入模式，可选项： <code>none</code>,<code>metadata</code>, <code>auto</code></td></tr><tr class="even"><td>theme</td><td><code>#ad7a86</code></td><td>播放器风格色彩设置</td></tr></tbody></table><p>注：如果使用腾讯视频、优酷视频等在线视频网站的资源，需要先进行视频地址解析，获取到实际的视频地址再插入。</p><h5 id="其他方法">6.其他方法</h5><p>在使用一些视频网站时可以直接复制分享代码到文章中，如：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">height</span>=<span class="hljs-string">498</span> <span class="hljs-attr">width</span>=<span class="hljs-string">750</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;//player.bilibili.com/player.html?aid=80433022&amp;bvid=BV1GJ411x7h7&amp;cid=137649199&amp;page=1&#x27;</span> <span class="hljs-attr">frameborder</span>=<span class="hljs-string">0</span> &#x27;<span class="hljs-attr">allowfullscreen</span>&#x27;&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br></code></pre></td></tr></table></figure><p>这里的<code>height</code>和<code>width</code>为视频的长和宽</p><p>&lt;iframe height=498 width=750src='//player.bilibili.com/player.html?aid=80433022&amp;bvid=BV1GJ411x7h7&amp;cid=137649199&amp;page=1'frameborder=0 'allowfullscreen'&gt;</iframe></p><h4 id="live2d看板娘">live2D看板娘</h4><h5 id="安装hexo-helper-live2d">1.安装hexo-helper-live2d</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm install --save hexo-helper-live2d<br></code></pre></td></tr></table></figure><h5 id="配置">2.配置</h5><p>将以下代码粘贴到博客(主题)配置中</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">live2d:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span> <span class="hljs-comment">#是否开启</span><br>  <span class="hljs-attr">scriptFrom:</span> <span class="hljs-string">local</span> <span class="hljs-comment">#默认</span><br>  <span class="hljs-attr">pluginRootPath:</span> <span class="hljs-string">live2dw/</span> <span class="hljs-comment">#插件在站点上的根目录(相对路径)</span><br>  <span class="hljs-attr">pluginJsPath:</span> <span class="hljs-string">lib/</span> <span class="hljs-comment">#脚本文件相对与插件根目录路径</span><br>  <span class="hljs-attr">pluginModelPath:</span> <span class="hljs-string">assets/</span> <span class="hljs-comment">#模型文件相对与插件根目录路径</span><br>  <span class="hljs-attr">tagMode:</span> <span class="hljs-literal">false</span> <span class="hljs-comment">#标签模式,是否仅替换 live2d tag标签而非插入到所有页面中</span><br>  <span class="hljs-attr">debug:</span> <span class="hljs-literal">false</span> <span class="hljs-comment">#调试,是否在控制台输出日志</span><br>  <span class="hljs-attr">model:</span><br>    <span class="hljs-attr">use:</span> <span class="hljs-string">live2d-widget-model-wanko</span> <span class="hljs-comment">#npm-module package name</span><br>  <span class="hljs-attr">display:</span><br>    <span class="hljs-attr">position:</span> <span class="hljs-string">right</span> <span class="hljs-comment">#显示位置</span><br>    <span class="hljs-attr">width:</span> <span class="hljs-number">150</span> <span class="hljs-comment">#宽度</span><br>    <span class="hljs-attr">height:</span> <span class="hljs-number">300</span> <span class="hljs-comment">#高度</span><br>  <span class="hljs-attr">mobile:</span><br>    <span class="hljs-attr">show:</span> <span class="hljs-literal">true</span><span class="hljs-comment"># 是否在移动端显示</span><br>  <span class="hljs-attr">react:</span><br>    <span class="hljs-attr">opacity:</span> <span class="hljs-number">0.7</span><br></code></pre></td></tr></table></figure><h5 id="安装模块">3.安装模块</h5><p>npm模型</p><pre><code class="hljs">live2d-widget-model-chitoselive2d-widget-model-epsilon2_1live2d-widget-model-gflive2d-widget-model-haru/01 (use npm install --save live2d-widget-model-haru)live2d-widget-model-haru/02 (use npm install --save live2d-widget-model-haru)live2d-widget-model-harutolive2d-widget-model-hibikilive2d-widget-model-hijikilive2d-widget-model-izumilive2d-widget-model-koharulive2d-widget-model-mikulive2d-widget-model-ni-jlive2d-widget-model-nicolive2d-widget-model-nietzschelive2d-widget-model-nipsilonlive2d-widget-model-nitolive2d-widget-model-shizukulive2d-widget-model-tororolive2d-widget-model-tsumikilive2d-widget-model-unitychanlive2d-widget-model-wankolive2d-widget-model-z16</code></pre><p>你需要先使用 <code>npm install 模型的包名</code> 来安装,</p><p>然后将包名输入位于 <code>_config.yml</code> 的 <code>model.use</code>中.</p><h4 id="永久链接">永久链接</h4><h5 id="安装插件">安装插件</h5><p>安装npm包：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">npm install hexo<span class="hljs-literal">-abbrlink</span> <span class="hljs-literal">--save</span><br></code></pre></td></tr></table></figure><p>修改<code>_config.yml</code>文件中的配置项（记得把原来的<code>permalink:</code>删除掉）:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">#设置永久链接<br>permalink: posts/:abbrlink.html  # 此处可以自己设置，也可以直接使用 :/abbrlink<br>abbrlink:<br>    alg: crc16   #算法： crc16(default) and crc32<br>    rep: dec     #进制： dec(default) and hex<br></code></pre></td></tr></table></figure><h5 id="插件设置">插件设置</h5><p>Abbrlink插件拥有两项设置选项:</p><ul><li><code>alg</code>:算法(目前支持<code>crc16</code>和<code>crc32</code>算法，默认值是<code>crc16</code>)</li><li><code>rep</code>:形式(生成的链接可以是十六进制格式也可以是十进制格式，默认值是十进制格式)</li></ul><h5 id="示例">示例</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">crc16</span> <span class="hljs-string">&amp;</span> <span class="hljs-string">hex</span><br><span class="hljs-string">https://test.com/posts/55c6.html</span><br><span class="hljs-string">crc16</span> <span class="hljs-string">&amp;</span> <span class="hljs-string">dec</span><br><span class="hljs-string">https://test.com/posts/43212.html</span><br><br><span class="hljs-string">crc32</span> <span class="hljs-string">&amp;</span> <span class="hljs-string">hex</span><br><span class="hljs-string">https://test.com/posts/6ec16a2c.html</span><br><span class="hljs-string">crc32</span> <span class="hljs-string">&amp;</span> <span class="hljs-string">dec</span><br><span class="hljs-string">https://test.com/posts/1521457752.html</span><br></code></pre></td></tr></table></figure><p>注意在生成之前就要改好算法和形式。不然后面再改的话会导致链接不统一。我就踩过坑，但后来是一个文章一个文章删除<code>abbrlink:</code>的值才改过来的，还好我文章不是很多。</p><p>话说最近看到了Hexo-abbrlink2这个插件，可以从1.html开始编。</p><p>PS：刚使用这个插件后，阅读人数和评论都会变为0，介意慎用！综上所述，这插件适合新站！</p><p>参考文章：</p><p>https://zhuanlan.zhihu.com/p/26625249</p><p>https://blog.csdn.net/wapchief/article/details/54602515</p><p>https://www.jianshu.com/p/f1005ae09e5a</p><p>https://blog.csdn.net/yimagudao/article/details/89524210</p><p>https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md</p><p>https://zhuanlan.zhihu.com/p/169492685</p>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>国内外邮箱、电子邮件服务大全</title>
    <link href="/posts/103d9d87.html"/>
    <url>/posts/103d9d87.html</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>在工作生活中，我们常常接收邮件，但是自己喜欢的ID往往已被注册，这时我们可以换另一家邮件服务提供商注册；下面一起来看看国内外邮箱、邮件服务大全（如有未收录的可评论反馈），赶快注册自己心仪的ID吧。</p><span id="more"></span><h3 id="邮箱用途">邮箱用途</h3><ol type="1"><li>商务来往邮件、工作内部邮件</li><li>正式的申请、接收通知、注册账号、绑定安全邮箱用于找回密码</li><li>与外国人交流、一些服务行业的问题交流反馈（通常在网站底部有反馈邮箱）</li><li>不便在即时聊天软件回复的问题（太多人问同一问题或者索取某样东西，可以用邮箱自动回复功能）、不便在聊天软件交流的问题（某些关键词会被监控、和谐等）、临时聊天不想加好友</li><li>当收集链接使用，发文件到邮箱进行收集（网盘会被和谐、限速等）</li><li>匿名交流（国内的邮箱都是实名记录你的）</li><li>长期保存的记录（账单、购买的注册码等等）</li></ol><h3 id="国内邮箱">国内邮箱</h3><p><a href="https://mail.qq.com">QQ邮箱/Foxmail邮箱</a></p><p><a href="https://mail.aliyun.com">阿里云邮箱</a></p><p><a href="mail.163.com">网易163/126/yeah.net邮箱</a></p><p><a href="https://mail.sina.com.cn">新浪邮箱</a></p><p><a href="https://mail.sohu.com">搜狐邮箱</a></p><p><a href="https://mail.10086.cn">移动139邮箱</a></p><p><a href="https://mail.wo.cn">联通沃邮箱</a></p><p><a href="https://mail.189.cn">电信189邮箱</a></p><p><a href="https://mail.tom.com">Tom邮箱</a></p><details><summary><a href="https://petalmail.com/" target="_blank">华为花瓣邮箱</a></summary><pre><code class="hljs">邮箱后缀：    petalmail.com</code></pre></details><details><summary><a href="https://2890.com/" target="_blank">2890邮箱</a></summary><pre><code class="hljs">邮箱后缀：    2890.comIMAP/SMTP/POP3    POP3接收邮件服务器：pop3.2980.com，端口号：110    IMAP接收邮件服务器：imap.2980.com，端口号：143    SMTP发送邮件服务器：smtp.2980.com，端口号：25</code></pre></details><details><summary><a href="https://88.com/" target="_blank">完美邮箱</a></summary><pre><code class="hljs">邮箱后缀：    88.com    111.com (https://111.com)    email.cn (https://emsil.cn)POP3 mail.5×2.de 110 995IMAP mail.5×2.de 143 993SMTP mail.5×2.de 25 587</code></pre></details><details><summary><a href="http://www.y28mail.com/cgi-bin/freemail.cgi" target="_blank">y28mail</a></summary><pre><code class="hljs">邮箱后缀：    y28mail.com</code></pre></details><details><summary><a href="https://ymail.cn/" target="_blank">易邮</a></summary><pre><code class="hljs">邮箱后缀：    ymail.cn</code></pre></details><details><summary><a href="https://mail.chian.com.cn/" target="_blank">中国网</a></summary><pre><code class="hljs">邮箱后缀：    china.com.cn</code></pre></details><details><summary><a href="http://www.citiz.net/" target="_blank">上海热线邮箱</a></summary><pre><code class="hljs">邮箱后缀：    citiz.net    vnet.citiz.net    sh163.net    8163.net.cn    adsl.online.sh.cn    online.sh.cn    vip.citiz.net    mail.online.sh.cn</code></pre></details><p><a href="https://函.中国/">函.中国</a></p><details><summary><a href="https://game.com/" target="_blank">Game Mail</a></summary><pre><code class="hljs">邮箱后缀：    game.com</code></pre></details><h3 id="国外邮箱">国外邮箱</h3><p><strong>部分国外邮箱需要魔法才能打开，但不影响IMAP/SMTP/POP3服务</strong><sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="SMTP/IMAP/POP3:IMAP（Internet Message Access Protocol）以前称作交互邮件访问协议（Interactive Mail Access Protocol），是一个应用层协议。它的主要作用是邮件客户端可以通过这种协议从邮件服务器上获取邮件的信息，下载邮件等。当前的权威定义是RFC3501。SMTP是一种提供可靠且有效的电子邮件传输的协议。SMTP是建立在FTP文件传输服务上的一种邮件服务，主要用于系统之间的邮件信息传递，并提供有关来信的通知。SMTP独立于特定的传输子系统，且只需要可靠有序的数据流信道支持，SMTP的重要特性之一是其能跨越网络传输邮件，即“SMTP邮件中继”。使用SMTP，可实现相同网络处理进程之间的邮件传输，也可通过中继器或网关实现某处理进程与其他网络之间的邮件传输。POP3，全名为“Post Office Protocol - Version 3”，即“邮局协议”。是TCP/IP协议族中的一员。本协议主要用于支持使用客户端远程管理在服务器上的电子邮件。（以上内容摘自百度百科）">[1]</span></a></sup></p><p><a href="https://outlook.live.com">Outlook/Hotmail</a></p><p><a href="https://gmail.com/">Gmail</a></p><p><a href="https://mail.yandex.ru/">Yandex</a></p><p>Infomaniak(<a href="https://ik.me/">ik.me</a>/<ahref="https://etik.com/">etik.com</a>/<ahref="https://ikmail.com/">ikmail.com</a>)</p><p><a href="https://onmail.com/">Onmail</a></p><p><a href="https://mail.aol.com/">AOL</a></p><p><a href="https://mymail.my.com/">My</a></p><p><a href="https://mail.yahoo.com/">Yahoo</a></p><p><a href="https://www.yaanimail.com/">Yaani</a></p><details><summary><a href="https://mail.sibnet.ru/" target="_blank">Sibnet.ru</a></summary><pre><code class="hljs">邮箱后缀：    sibnet.ruPOP3服务器：pop.sibnet.ru端口：110连接保护设置：STARTTLS密码设置：专用密码登录：完整电子邮件地址SMTP服务器：smtp.sibnet.ru端口：25连接保护设置：STARTTLS密码设置：专用密码登录：完整的电子邮件地址</code></pre></details><details><summary><a href="https://indapass.hu/" target="_blank">Indapass</a></summary><pre><code class="hljs">邮箱后缀：    indamail.hu    vipmail.hu    webmail.hu</code></pre></details><details><summary><a href="https://eclipso.de/" target="_blank">Eclipso</a></summary><pre><code class="hljs">邮箱后缀：    eclipso.de    eclipso.at    eclipso.ch    eclipso.eu    eclipso.es    eclipso.it    eclipso.me    eclipso.nl    eclipso.emailPOP3-Server: mail.eclipso.de (Port: 995 SSL)SMTP-Server: mail.eclipso.de (Port: 587 SSL)</code></pre></details><details><summary><a href="https://ploud.fr" target="_blank">Ploud.fr</a></summary><pre><code class="hljs">邮箱后缀：    epoud.frPOP  mail.ploud.fr 995 SSLIMAP  mail.ploud.fr 993 SSLSMTP  mail.ploud.fr 465 TLS</code></pre></details><details><summary><a href="https://mail.sapo.pt/" target="_blank">Sapo.pt</a></summary><pre><code class="hljs">邮箱后缀：    sapo.ptIMAP imap.sapo.pt SSL 993SMTP smtp.sapo.pt SSL 465 or 587POP  pop.sapo.pt SSL 995 </code></pre></details><details><summary><a href="https://e.foundation/ecloud/" target="_blank">e.email</a></summary><pre><code class="hljs">邮箱后缀：    e.emailPOP mail.ecloud.globalSMTP mail.ecloud.globalIMAP mail.ecloud.global</code></pre></details><details><summary><a href="https://xmail.net/" target="_blank">Xmail</a></summary><pre><code class="hljs">邮箱后缀：    xmail.netPOP3 pop3.xmail.net 110 or 995SMTP smtp.xmail.net – 465</code></pre></details><details><summary><a href="https://inbox.lv/" target="_blank">Inbox.lv</a></summary><pre><code class="hljs">邮箱后缀：    inbox.lvIMAP or POP3 (incoming mail server): mail.inbox.lv    Port IMAP: 993 (SSL)    Port POP3: 995 (SSL)SMTP (outgoing mail server): mail.inbox.lv    Ports SMTP: 587 (TLS) or 465 (SSL)</code></pre></details><details><summary><a href="https://memail.com/" target="_blank">MeMail</a></summary><pre><code class="hljs">邮箱后缀：    Free        memail.com    Paid        详见网站POP   pop.memail.com  995 SSLIMAP  imap.memail.com 993 SSLSMTP  smtp.memail.com 587 TLS</code></pre></details><details><summary><s><a href="https://everymail.net/en/" target="_blank">Everymail</a></s></summary><pre><code class="hljs">邮箱后缀：    catsworld.at    cyber-planet.net    essiggurkerl.at    everymail.at    everymail.biz    everymail.cc    everymail.ch    everymail.cool    everymail.co.uk    everymail.dk    everymail.eu    everymail.guru    everymail.in    everymail.me    everymail.mx    everymail.net    everymail.ninja    everymail.nl    everymail.one    everymail.org    everymail.org.uk    everymail.ro    everymail.tv    everymail.uk    everymail.ws    family-events.com    femaletalk.net    flowerbabes.net    galleryedition.com    nightrider.at    ready-to-love.com    silentmoods.com    webmagazin.infoIMAP my.everymail.net – 993POP3 my.everymail.net – 995SMTP my.everymail.net – 465</code></pre></details><details><summary><a href="https://gazeta.pl/" target="_blank">Gazeta</a></summary><pre><code class="hljs">邮箱后缀：    gazeta.plIMAP: imap.gazeta.pl SSL 993POP3: pop3.gazeta.pl SSL 995SMTP: smtp.gazeta.pl SSL 465</code></pre></details><details><summary><a href="https://mailo.com/" target="_blank">Mailo</a></summary><pre><code class="hljs">邮箱后缀：    mailo.comPOP3 mail.mailo.com 110 or 995IMAP mail.mailo.com 143 or 993SMTP mail.mailo.com 587 or 465人机验证选择英文界面，填写英文一行算式的值</code></pre></details><details><summary><a href="https://disroot.org/" target="_blank">Disroot</a></summary><pre><code class="hljs">邮箱后缀：    disroot.org    disr.it    getgoogleoff.me IMAP Server: disroot.org SSL Port: 993SMTP Server: disroot.org STARTTLS Port: 587SMTPS Server: disroot.org TLS Port: 465POP Server: disroot.org SSL Port: 995</code></pre></details><details><summary><a href="https://mail.ru/" target="_blank">Mail.ru</a></summary><pre><code class="hljs">邮箱后缀：    mail.ru    bk.ru    inbox.ru    list.ru    Internet.ruIMAP  imap.mail.ru 143(STARTTLS) or 993(SSL/TLS)POP3  pop.mail.ru  995SMTP  smtp.mail.ru 465</code></pre></details><details><summary><s><a href="https://finmail.com/" target="_blank">Finmail</a></s></summary><pre><code class="hljs">邮箱后缀：    finmail.com</code></pre></details><details><summary><a href="https://mail.town/" target="_blank">Mail Town</a></summary><pre><code class="hljs">邮箱后缀：    mail.town</code></pre></details><details><summary><a href="https://mail.ee/" target="_blank">Mail.ee</a></summary><pre><code class="hljs">邮箱后缀：    mail.ee</code></pre></details><details><summary><a href="https://zoho.com/" target="_blank">Zoho</a></summary><pre><code class="hljs">邮箱后缀：    zoho.com    zoho.com.cn (https://zoho.com.cn)</code></pre></details><details><summary><a href="https://mail2world.com/" target="_blank">Mail2World</a></summary><pre><code class="hljs">邮箱后缀：    详见官网POP3 mail.5×2.de 110 995IMAP mail.5×2.de 143 993SMTP mail.5×2.de 25 587</code></pre></details><details><summary><a href="https://rambler.ru/" target="_blank">Rambler</a></summary><pre><code class="hljs">邮箱后缀：    rambler.ru</code></pre></details><p><a href="https://www.mail.com/int/">Mail.com</a></p><p><a href="https://www.gmx.com/">GMX</a></p><p><a href="https://easy.com/">Easy</a></p><p><a href="https://plummail.co/">Plummail</a></p><p><a href="https://www.t-online.de/">T-Online</a></p><p><a href="https://web.de/">Web.de</a></p><p><a href="https://www.inbox.lv/">eFind</a></p><details><summary><a href="https://pissmail.com/" target="_blank">PissMail</a></summary><pre><code class="hljs">邮箱后缀：    pissmail.com    incel.email    shitposting.expert    hatesje.ws    child.pizza    genocide.fun    dmc.chatSMTP mail.pissmail.com:465 (SSL/TLS)IMAP mail.pissmail.com:993 (SSL/TLS)</code></pre></details><p><a href="https://mail.fr/en">Mail.fr</a></p><h3 id="加密邮箱">加密邮箱</h3><details><summary><a href="https://www.msgsafe.io/" target="_blank">Msgsafe</a></summary><pre><code class="hljs">邮箱后缀：    airmailhub.com    armormaiL.net    bingzone.net    Concealed.company    conficlentiaL.tips    conidentiaL.life    decoymail.com    decoymail.mx    decoymail.net    happygoluckyclub.com    inboxhub.net    meet-me.live    messageden.com    messageden.net    messagesafe.co    messagesafe.io    messagesafe.ninja    msgden.com    msgden.net    msghideaway.net    msgsafe.io    msgsafe.ninja    muttwalker.net    nerdmail.co    offtherecordmail.com    orivyonline.net    outlookpro.net    privyinternet.com    privyinternet.net    privyonline.com    reddithub.com    showme.social    smime.ninja    snugmaiL.net    Speakfreely.email    speakfreely.legal    stealthypost.net    stealthypost.org    techmail.info    theopposition.club    unicomtoday.com    freeaday.com    xvzmallnro.com    xyzmailhub.com    yahooweb.co</code></pre></details><details><summary><a href="https://beeble.com/" target="_blank">Beeble</a></summary><pre><code class="hljs">邮箱后缀：    beeble.com</code></pre></details><details><summary><a href="https://www.ubikom.cc/" target="_blank">Ubikom</a></summary><pre><code class="hljs">邮箱后缀：    ubikom.ccPOP3/SMTPPOP3alpha.ubikom.cc SSL/TLS 995SMTPalpha.ubikom.cc SSL/TLS 465</code></pre></details><details><summary><a href="https://5x2.de/" target="_blank">5x2</a></summary><pre><code class="hljs">邮箱后缀：    详见官网POP3 mail.5×2.de 110 995IMAP mail.5×2.de 143 993SMTP mail.5×2.de 25 587</code></pre></details><details><summary><a href="https://mail.io/" target="_blank">Mail.io</a></summary><pre><code class="hljs">邮箱后缀：    mail.io</code></pre></details><details><summary><a href="https://confidesk.com/" target="_blank">Confidesk</a></summary><pre><code class="hljs">邮箱后缀：    详见官网POP3 mail.5×2.de 110 995IMAP mail.5×2.de 143 993SMTP mail.5×2.de 25 587</code></pre></details><details><summary><s><a href="https://ctemplar.com/" target="_blank">CTemplar</a></s></summary><pre><code class="hljs">邮箱后缀：    ctemplar.com</code></pre></details><details><summary><a href="https://swismail.com/" target="_blank">SwisMail</a></summary><pre><code class="hljs">邮箱后缀：    swismail.com</code></pre></details><details><summary><a href="https://web.safeswiss.com/" target="_blank">SafeSwiss</a></summary><pre><code class="hljs">邮箱后缀：    safeswiss.com</code></pre></details><details><summary><a href="https://tutanota.com/" target="_blank">Tutanota</a></summary><pre><code class="hljs">邮箱后缀：    tutanota.com    tutanota.de    tutamail.com    tuta.io    keemail.me</code></pre></details><details><summary><a href="https://protonmail.com/zh-Hans/" target="_blank">ProtonMail</a></summary><pre><code class="hljs">邮箱后缀：    protonmail.com    protonmail.ch    pm.me    proton.me</code></pre></details><p><a href="https://paranoid.email/">Paranoid</a></p><p><a href="https://woelklimail.com/">Woelkli</a></p><p><a href="https://webmail.vivaldi.net/">Vivaldi</a></p><p><a href="https://www.tildamail.com/">Tildamail</a></p><p><a href="https://mailfence.com/">Mailfence</a></p><p><a href="https://www.autistici.org/">Autistici</a></p><p><a href="https://riseup.net/en/email">Riseup</a></p><p><a href="https://sfletter.com/">Sfletter</a></p><p><a href="https://www.criptext.com/">Criptext</a></p><p><a href="https://cock.li/">Crok.li</a></p><p><a href="https://www.telios.io/">Telios</a></p><p><a href="onionmail.com">Onionmail</a></p><p><a href="https://cyberfear.com">Cyberfear</a></p><details><summary><a href="https://inbox.de/" target="_blank">Inbox.de</a></summary><pre><code class="hljs">邮箱后缀：    @inbox.net    @inbox.org    @inbox.in    @inbox.uk</code></pre></details><p><a href="https://app.skiff.com/signup">Skiff Mail</a></p><h3 id="临时邮箱">临时邮箱</h3><p>https://tempmail.cn/</p><p>随机生成@tempmail.cn邮箱，如需使用自己的域名，直接创建域名 A/CNAME记录和 MX 记录到 mx.tempmail.cn ，等待生效即可。</p><p>https://temp-mail.org/zh/</p><p>随机生成@koldpak.com邮箱。</p><p>https://rootsh.com/</p><p>随机生成@bccto.cc，可自定义名称。</p><p><a href="https://www.moakt.com/">http://www.moakt.com/</a></p><details><summary>邮箱后缀可选</summary><pre><code class="hljs">@tmpbox.net@moakt.cc@disbox.net@tmpmail.org@tmpmail.net@tmails.net@disbox.org@moakt.co@moakt.ws@tmail.ws@bareed.ws</code></pre></details><p>http://24mail.chacuo.net/</p><p>使用24mail.chacuo.net临时邮箱。不需要注册，邮箱持续24小时，比十分钟邮箱（10分钟)保持时间更长，可以任意设置邮箱名，随时更换邮箱。</p><details><summary>邮箱后缀可选</summary><pre><code class="hljs">@chacuo.net@027168.com</code></pre></details><p>https://mail.td/zh</p><p>Mail.td提供一个匿名的临时电子邮件地址，您可以通过该地址接收电子邮件,发送到此地址的所有邮件都将转发到您的真实电子邮件地址。保护您的个人电子邮箱免受垃圾邮件的侵害。</p><p>https://www.guerrillamail.com/zh/inbox</p><p>不想使用您的真实邮箱？使用guerrillamail.com临时邮箱。无需注册，持续60分钟。</p><details><summary>邮箱后缀可选</summary><pre><code class="hljs"><details><summary>邮箱后缀可选</summary><pre><code class="hljs">@tmpbox.net@moakt.cc@disbox.net@tmpmail.org@tmpmail.net@tmails.net@disbox.org@moakt.co@moakt.ws@tmail.ws@bareed.ws</code></pre></details></code></pre></details><p>可自定义邮箱名。</p><p>http://www.tempinbox.com/</p><p>Tempinbox.com是免费的，匿名的，临时的电子邮件服务，不一定是假的电子邮件地址。</p><p>https://www.fakemail.net/</p><p>临时邮件地址保护您的隐私，随机生成@zooants.com邮箱，可手动续期。</p><p>https://www.disposablemail.com/</p><p>随机生成@ecodaw.com邮箱，可手动加时间。</p><p>https://tempmail.net/</p><p>临时邮件提供临时、匿名、免费、安全、一次性的电子邮件地址。可以用于匿名注册。</p><p>https://www.emailondeck.com/</p><p>EmailOnDeck.com是所有与临时、一次性和一次性电子邮件地址有关的所有内容的网站。帮助您避免垃圾邮件，保护您的在线隐私。</p><p>http://www.mytrashmail.com/</p><p>有多种邮箱后缀，不断更新。</p><p>https://10minutemail.com/</p><p>也许您想注册一个网站，该网站要求您提供电子邮件地址以发送验证电子邮件到。也许你不想填写你的真实电子邮件地址，最终收到一堆垃圾邮件。</p><p>点击：Get 10 more minutes 使用。</p><p>https://tempmailo.com/</p><p>当您需要保护您的个人数据和隐私，防止可疑网站和服务，并保护您的个人邮箱免受不需要的消息和垃圾邮件。</p><p>https://mail.tm/zh/</p><p>保护您的个人电子邮件地址免受垃圾邮件、机器人程序、网络钓鱼和其他在线滥用。临时匿名电子邮件地址-没有承诺，没有风险。</p><p>无需登录有40M容量。</p><p>https://www.gmailnator.com/</p><p>临时生成一些<ahref="https://www.freeaday.com/2011/12/gmail/">gmail免费邮箱</a>地址，利用的是gmail临时别名功能。他猛网站注册了一些gmail邮箱，临时生成加点和加号随机字符来生成邮箱。</p><p>https://mailpoof.com/</p><p>mailpoof是一个免费的临时电子邮件地址，您可以使用一次性电子邮件。如果您正在寻找一种安全的方式来接收24小时后自行破坏的电子邮件，那么这是您能找到的最佳临时电子邮件服务！</p><p>可随机生成或自定义邮箱名。</p><h6 id="注">注：</h6><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1"class="footnote-text"><span>SMTP/IMAP/POP3:</br>IMAP（Internet MessageAccess Protocol）以前称作交互邮件访问协议（Interactive Mail AccessProtocol），是一个应用层协议。它的主要作用是邮件客户端可以通过这种协议从邮件服务器上获取邮件的信息，下载邮件等。当前的权威定义是RFC3501。</br>SMTP是一种提供可靠且有效的电子邮件传输的协议。SMTP是建立在FTP文件传输服务上的一种邮件服务，主要用于系统之间的邮件信息传递，并提供有关来信的通知。SMTP独立于特定的传输子系统，且只需要可靠有序的数据流信道支持，SMTP的重要特性之一是其能跨越网络传输邮件，即“SMTP邮件中继”。使用SMTP，可实现相同网络处理进程之间的邮件传输，也可通过中继器或网关实现某处理进程与其他网络之间的邮件传输。</br>POP3，全名为“PostOffice Protocol - Version3”，即“邮局协议”。是TCP/IP协议族中的一员。本协议主要用于支持使用客户端远程管理在服务器上的电子邮件。</br>（以上内容摘自百度百科）<a href="#fnref:1" rev="footnote" class="footnote-backref">↩︎</a></span></span></li><li><span id="fn:2"class="footnote-text"><span>大部分加密邮箱不支持IMAP/SMTP/POP3，具体见官方文档<a href="#fnref:2" rev="footnote" class="footnote-backref">↩︎</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>电子邮箱</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
